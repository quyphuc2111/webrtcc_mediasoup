(function(){const T=document.createElement("link").relList;if(T&&T.supports&&T.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))s(A);new MutationObserver(A=>{for(const z of A)if(z.type==="childList")for(const R of z.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&s(R)}).observe(document,{childList:!0,subtree:!0});function S(A){const z={};return A.integrity&&(z.integrity=A.integrity),A.referrerPolicy&&(z.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?z.credentials="include":A.crossOrigin==="anonymous"?z.credentials="omit":z.credentials="same-origin",z}function s(A){if(A.ep)return;A.ep=!0;const z=S(A);fetch(A.href,z)}})();function xh(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}var sl={exports:{}},qi={};var Tp;function ev(){if(Tp)return qi;Tp=1;var v=Symbol.for("react.transitional.element"),T=Symbol.for("react.fragment");function S(s,A,z){var R=null;if(z!==void 0&&(R=""+z),A.key!==void 0&&(R=""+A.key),"key"in A){z={};for(var m in A)m!=="key"&&(z[m]=A[m])}else z=A;return A=z.ref,{$$typeof:v,type:s,key:R,ref:A!==void 0?A:null,props:z}}return qi.Fragment=T,qi.jsx=S,qi.jsxs=S,qi}var Rp;function tv(){return Rp||(Rp=1,sl.exports=ev()),sl.exports}var ge=tv(),cl={exports:{}},le={};var Dp;function av(){if(Dp)return le;Dp=1;var v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),R=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function H(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c=Object.assign,u={};function f(U,J,ae){this.props=U,this.context=J,this.refs=u,this.updater=ae||k}f.prototype.isReactComponent={},f.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},f.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function h(){}h.prototype=f.prototype;function M(U,J,ae){this.props=U,this.context=J,this.refs=u,this.updater=ae||k}var E=M.prototype=new h;E.constructor=M,c(E,f.prototype),E.isPureReactComponent=!0;var D=Array.isArray;function w(){}var d={H:null,A:null,T:null,S:null},y=Object.prototype.hasOwnProperty;function N(U,J,ae){var re=ae.ref;return{$$typeof:v,type:U,key:J,ref:re!==void 0?re:null,props:ae}}function q(U,J){return N(U.type,J,U.props)}function W(U){return typeof U=="object"&&U!==null&&U.$$typeof===v}function ee(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ae){return J[ae]})}var g=/\/+/g;function X(U,J){return typeof U=="object"&&U!==null&&U.key!=null?ee(""+U.key):J.toString(36)}function I(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(w,w):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function x(U,J,ae,re,ue){var pe=typeof U;(pe==="undefined"||pe==="boolean")&&(U=null);var Ce=!1;if(U===null)Ce=!0;else switch(pe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(U.$$typeof){case v:case T:Ce=!0;break;case l:return Ce=U._init,x(Ce(U._payload),J,ae,re,ue)}}if(Ce)return ue=ue(U),Ce=re===""?"."+X(U,0):re,D(ue)?(ae="",Ce!=null&&(ae=Ce.replace(g,"$&/")+"/"),x(ue,J,ae,"",function(Vn){return Vn})):ue!=null&&(W(ue)&&(ue=q(ue,ae+(ue.key==null||U&&U.key===ue.key?"":(""+ue.key).replace(g,"$&/")+"/")+Ce)),J.push(ue)),1;Ce=0;var We=re===""?".":re+":";if(D(U))for(var ke=0;ke<U.length;ke++)re=U[ke],pe=We+X(re,ke),Ce+=x(re,J,ae,pe,ue);else if(ke=H(U),typeof ke=="function")for(U=ke.call(U),ke=0;!(re=U.next()).done;)re=re.value,pe=We+X(re,ke++),Ce+=x(re,J,ae,pe,ue);else if(pe==="object"){if(typeof U.then=="function")return x(I(U),J,ae,re,ue);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function G(U,J,ae){if(U==null)return U;var re=[],ue=0;return x(U,re,"","",function(pe){return J.call(ae,pe,ue++)}),re}function $(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(ae){(U._status===0||U._status===-1)&&(U._status=1,U._result=ae)},function(ae){(U._status===0||U._status===-1)&&(U._status=2,U._result=ae)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var te=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ie={map:G,forEach:function(U,J,ae){G(U,function(){J.apply(this,arguments)},ae)},count:function(U){var J=0;return G(U,function(){J++}),J},toArray:function(U){return G(U,function(J){return J})||[]},only:function(U){if(!W(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return le.Activity=_,le.Children=ie,le.Component=f,le.Fragment=S,le.Profiler=A,le.PureComponent=M,le.StrictMode=s,le.Suspense=O,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,le.__COMPILER_RUNTIME={__proto__:null,c:function(U){return d.H.useMemoCache(U)}},le.cache=function(U){return function(){return U.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(U,J,ae){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var re=c({},U.props),ue=U.key;if(J!=null)for(pe in J.key!==void 0&&(ue=""+J.key),J)!y.call(J,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&J.ref===void 0||(re[pe]=J[pe]);var pe=arguments.length-2;if(pe===1)re.children=ae;else if(1<pe){for(var Ce=Array(pe),We=0;We<pe;We++)Ce[We]=arguments[We+2];re.children=Ce}return N(U.type,ue,re)},le.createContext=function(U){return U={$$typeof:R,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:z,_context:U},U},le.createElement=function(U,J,ae){var re,ue={},pe=null;if(J!=null)for(re in J.key!==void 0&&(pe=""+J.key),J)y.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ue[re]=J[re]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var We=Array(Ce),ke=0;ke<Ce;ke++)We[ke]=arguments[ke+2];ue.children=We}if(U&&U.defaultProps)for(re in Ce=U.defaultProps,Ce)ue[re]===void 0&&(ue[re]=Ce[re]);return N(U,pe,ue)},le.createRef=function(){return{current:null}},le.forwardRef=function(U){return{$$typeof:m,render:U}},le.isValidElement=W,le.lazy=function(U){return{$$typeof:l,_payload:{_status:-1,_result:U},_init:$}},le.memo=function(U,J){return{$$typeof:C,type:U,compare:J===void 0?null:J}},le.startTransition=function(U){var J=d.T,ae={};d.T=ae;try{var re=U(),ue=d.S;ue!==null&&ue(ae,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(w,te)}catch(pe){te(pe)}finally{J!==null&&ae.types!==null&&(J.types=ae.types),d.T=J}},le.unstable_useCacheRefresh=function(){return d.H.useCacheRefresh()},le.use=function(U){return d.H.use(U)},le.useActionState=function(U,J,ae){return d.H.useActionState(U,J,ae)},le.useCallback=function(U,J){return d.H.useCallback(U,J)},le.useContext=function(U){return d.H.useContext(U)},le.useDebugValue=function(){},le.useDeferredValue=function(U,J){return d.H.useDeferredValue(U,J)},le.useEffect=function(U,J){return d.H.useEffect(U,J)},le.useEffectEvent=function(U){return d.H.useEffectEvent(U)},le.useId=function(){return d.H.useId()},le.useImperativeHandle=function(U,J,ae){return d.H.useImperativeHandle(U,J,ae)},le.useInsertionEffect=function(U,J){return d.H.useInsertionEffect(U,J)},le.useLayoutEffect=function(U,J){return d.H.useLayoutEffect(U,J)},le.useMemo=function(U,J){return d.H.useMemo(U,J)},le.useOptimistic=function(U,J){return d.H.useOptimistic(U,J)},le.useReducer=function(U,J,ae){return d.H.useReducer(U,J,ae)},le.useRef=function(U){return d.H.useRef(U)},le.useState=function(U){return d.H.useState(U)},le.useSyncExternalStore=function(U,J,ae){return d.H.useSyncExternalStore(U,J,ae)},le.useTransition=function(){return d.H.useTransition()},le.version="19.2.3",le}var xp;function Sl(){return xp||(xp=1,cl.exports=av()),cl.exports}var Qe=Sl();const nv=xh(Qe);var ol={exports:{}},Hi={},ll={exports:{}},ul={};var Mp;function iv(){return Mp||(Mp=1,(function(v){function T(x,G){var $=x.length;x.push(G);e:for(;0<$;){var te=$-1>>>1,ie=x[te];if(0<A(ie,G))x[te]=G,x[$]=ie,$=te;else break e}}function S(x){return x.length===0?null:x[0]}function s(x){if(x.length===0)return null;var G=x[0],$=x.pop();if($!==G){x[0]=$;e:for(var te=0,ie=x.length,U=ie>>>1;te<U;){var J=2*(te+1)-1,ae=x[J],re=J+1,ue=x[re];if(0>A(ae,$))re<ie&&0>A(ue,ae)?(x[te]=ue,x[re]=$,te=re):(x[te]=ae,x[J]=$,te=J);else if(re<ie&&0>A(ue,$))x[te]=ue,x[re]=$,te=re;else break e}}return G}function A(x,G){var $=x.sortIndex-G.sortIndex;return $!==0?$:x.id-G.id}if(v.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var z=performance;v.unstable_now=function(){return z.now()}}else{var R=Date,m=R.now();v.unstable_now=function(){return R.now()-m}}var O=[],C=[],l=1,_=null,b=3,H=!1,k=!1,c=!1,u=!1,f=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function E(x){for(var G=S(C);G!==null;){if(G.callback===null)s(C);else if(G.startTime<=x)s(C),G.sortIndex=G.expirationTime,T(O,G);else break;G=S(C)}}function D(x){if(c=!1,E(x),!k)if(S(O)!==null)k=!0,w||(w=!0,ee());else{var G=S(C);G!==null&&I(D,G.startTime-x)}}var w=!1,d=-1,y=5,N=-1;function q(){return u?!0:!(v.unstable_now()-N<y)}function W(){if(u=!1,w){var x=v.unstable_now();N=x;var G=!0;try{e:{k=!1,c&&(c=!1,h(d),d=-1),H=!0;var $=b;try{t:{for(E(x),_=S(O);_!==null&&!(_.expirationTime>x&&q());){var te=_.callback;if(typeof te=="function"){_.callback=null,b=_.priorityLevel;var ie=te(_.expirationTime<=x);if(x=v.unstable_now(),typeof ie=="function"){_.callback=ie,E(x),G=!0;break t}_===S(O)&&s(O),E(x)}else s(O);_=S(O)}if(_!==null)G=!0;else{var U=S(C);U!==null&&I(D,U.startTime-x),G=!1}}break e}finally{_=null,b=$,H=!1}G=void 0}}finally{G?ee():w=!1}}}var ee;if(typeof M=="function")ee=function(){M(W)};else if(typeof MessageChannel<"u"){var g=new MessageChannel,X=g.port2;g.port1.onmessage=W,ee=function(){X.postMessage(null)}}else ee=function(){f(W,0)};function I(x,G){d=f(function(){x(v.unstable_now())},G)}v.unstable_IdlePriority=5,v.unstable_ImmediatePriority=1,v.unstable_LowPriority=4,v.unstable_NormalPriority=3,v.unstable_Profiling=null,v.unstable_UserBlockingPriority=2,v.unstable_cancelCallback=function(x){x.callback=null},v.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<x?Math.floor(1e3/x):5},v.unstable_getCurrentPriorityLevel=function(){return b},v.unstable_next=function(x){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var $=b;b=G;try{return x()}finally{b=$}},v.unstable_requestPaint=function(){u=!0},v.unstable_runWithPriority=function(x,G){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var $=b;b=x;try{return G()}finally{b=$}},v.unstable_scheduleCallback=function(x,G,$){var te=v.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?te+$:te):$=te,x){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=$+ie,x={id:l++,callback:G,priorityLevel:x,startTime:$,expirationTime:ie,sortIndex:-1},$>te?(x.sortIndex=$,T(C,x),S(O)===null&&x===S(C)&&(c?(h(d),d=-1):c=!0,I(D,$-te))):(x.sortIndex=ie,T(O,x),k||H||(k=!0,w||(w=!0,ee()))),x},v.unstable_shouldYield=q,v.unstable_wrapCallback=function(x){var G=b;return function(){var $=b;b=G;try{return x.apply(this,arguments)}finally{b=$}}}})(ul)),ul}var Op;function rv(){return Op||(Op=1,ll.exports=iv()),ll.exports}var dl={exports:{}},$e={};var Lp;function sv(){if(Lp)return $e;Lp=1;var v=Sl();function T(O){var C="https://react.dev/errors/"+O;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)C+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+O+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function S(){}var s={d:{f:S,r:function(){throw Error(T(522))},D:S,C:S,L:S,m:S,X:S,S,M:S},p:0,findDOMNode:null},A=Symbol.for("react.portal");function z(O,C,l){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:_==null?null:""+_,children:O,containerInfo:C,implementation:l}}var R=v.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(O,C){if(O==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(O,C){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(T(299));return z(O,C,null,l)},$e.flushSync=function(O){var C=R.T,l=s.p;try{if(R.T=null,s.p=2,O)return O()}finally{R.T=C,s.p=l,s.d.f()}},$e.preconnect=function(O,C){typeof O=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,s.d.C(O,C))},$e.prefetchDNS=function(O){typeof O=="string"&&s.d.D(O)},$e.preinit=function(O,C){if(typeof O=="string"&&C&&typeof C.as=="string"){var l=C.as,_=m(l,C.crossOrigin),b=typeof C.integrity=="string"?C.integrity:void 0,H=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;l==="style"?s.d.S(O,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:H}):l==="script"&&s.d.X(O,{crossOrigin:_,integrity:b,fetchPriority:H,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},$e.preinitModule=function(O,C){if(typeof O=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var l=m(C.as,C.crossOrigin);s.d.M(O,{crossOrigin:l,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&s.d.M(O)},$e.preload=function(O,C){if(typeof O=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var l=C.as,_=m(l,C.crossOrigin);s.d.L(O,l,{crossOrigin:_,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},$e.preloadModule=function(O,C){if(typeof O=="string")if(C){var l=m(C.as,C.crossOrigin);s.d.m(O,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:l,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else s.d.m(O)},$e.requestFormReset=function(O){s.d.r(O)},$e.unstable_batchedUpdates=function(O,C){return O(C)},$e.useFormState=function(O,C,l){return R.H.useFormState(O,C,l)},$e.useFormStatus=function(){return R.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var Ap;function cv(){if(Ap)return dl.exports;Ap=1;function v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v)}catch(T){console.error(T)}}return v(),dl.exports=sv(),dl.exports}var zp;function ov(){if(zp)return Hi;zp=1;var v=rv(),T=Sl(),S=cv();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function z(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function R(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function O(e){if(z(e)!==e)throw Error(s(188))}function C(e){var t=e.alternate;if(!t){if(t=z(e),t===null)throw Error(s(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var r=i.alternate;if(r===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===a)return O(i),e;if(r===n)return O(i),t;r=r.sibling}throw Error(s(188))}if(a.return!==n.return)a=i,n=r;else{for(var o=!1,p=i.child;p;){if(p===a){o=!0,a=i,n=r;break}if(p===n){o=!0,n=i,a=r;break}p=p.sibling}if(!o){for(p=r.child;p;){if(p===a){o=!0,a=r,n=i;break}if(p===n){o=!0,n=r,a=i;break}p=p.sibling}if(!o)throw Error(s(189))}}if(a.alternate!==n)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:t}function l(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=l(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),M=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var g=Symbol.for("react.client.reference");function X(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===g?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case c:return"Fragment";case f:return"Profiler";case u:return"StrictMode";case D:return"Suspense";case w:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case M:return e.displayName||"Context";case h:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case d:return t=e.displayName||null,t!==null?t:X(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return X(e(t))}catch{}}return null}var I=Array.isArray,x=T.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=S.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},te=[],ie=-1;function U(e){return{current:e}}function J(e){0>ie||(e.current=te[ie],te[ie]=null,ie--)}function ae(e,t){ie++,te[ie]=e.current,e.current=t}var re=U(null),ue=U(null),pe=U(null),Ce=U(null);function We(e,t){switch(ae(pe,t),ae(ue,e),ae(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?If(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=If(t),e=Ff(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(re),ae(re,e)}function ke(){J(re),J(ue),J(pe)}function Vn(e){e.memoizedState!==null&&ae(Ce,e);var t=re.current,a=Ff(t,e.type);t!==a&&(ae(ue,e),ae(re,a))}function fr(e){ue.current===e&&(J(re),J(ue)),Ce.current===e&&(J(Ce),Ni._currentValue=$)}var Gs,Cl;function Na(e){if(Gs===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Gs=t&&t[1]||"",Cl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+e+Cl}var Qs=!1;function Ys(e,t){if(!e||Qs)return"";Qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(V){var P=V}Reflect.construct(e,[],K)}else{try{K.call()}catch(V){P=V}e.call(K.prototype)}}else{try{throw Error()}catch(V){P=V}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(V){if(V&&P&&typeof V.stack=="string")return[V.stack,P.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=n.DetermineComponentFrameRoot(),o=r[0],p=r[1];if(o&&p){var L=o.split(`
`),Y=p.split(`
`);for(i=n=0;n<L.length&&!L[n].includes("DetermineComponentFrameRoot");)n++;for(;i<Y.length&&!Y[i].includes("DetermineComponentFrameRoot");)i++;if(n===L.length||i===Y.length)for(n=L.length-1,i=Y.length-1;1<=n&&0<=i&&L[n]!==Y[i];)i--;for(;1<=n&&0<=i;n--,i--)if(L[n]!==Y[i]){if(n!==1||i!==1)do if(n--,i--,0>i||L[n]!==Y[i]){var Z=`
`+L[n].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=n&&0<=i);break}}}finally{Qs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Na(a):""}function Lh(e,t){switch(e.tag){case 26:case 27:case 5:return Na(e.type);case 16:return Na("Lazy");case 13:return e.child!==t&&t!==null?Na("Suspense Fallback"):Na("Suspense");case 19:return Na("SuspenseList");case 0:case 15:return Ys(e.type,!1);case 11:return Ys(e.type.render,!1);case 1:return Ys(e.type,!0);case 31:return Na("Activity");default:return""}}function El(e){try{var t="",a=null;do t+=Lh(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Ps=Object.prototype.hasOwnProperty,Vs=v.unstable_scheduleCallback,Xs=v.unstable_cancelCallback,Ah=v.unstable_shouldYield,zh=v.unstable_requestPaint,ut=v.unstable_now,Nh=v.unstable_getCurrentPriorityLevel,Tl=v.unstable_ImmediatePriority,Rl=v.unstable_UserBlockingPriority,pr=v.unstable_NormalPriority,kh=v.unstable_LowPriority,Dl=v.unstable_IdlePriority,jh=v.log,Uh=v.unstable_setDisableYieldValue,Xn=null,dt=null;function ca(e){if(typeof jh=="function"&&Uh(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Xn,e)}catch{}}var ft=Math.clz32?Math.clz32:Bh,qh=Math.log,Hh=Math.LN2;function Bh(e){return e>>>=0,e===0?32:31-(qh(e)/Hh|0)|0}var hr=256,mr=262144,gr=4194304;function ka(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vr(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var p=n&134217727;return p!==0?(n=p&~r,n!==0?i=ka(n):(o&=p,o!==0?i=ka(o):a||(a=p&~e,a!==0&&(i=ka(a))))):(p=n&~r,p!==0?i=ka(p):o!==0?i=ka(o):a||(a=n&~e,a!==0&&(i=ka(a)))),i===0?0:t!==0&&t!==i&&(t&r)===0&&(r=i&-i,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:i}function Zn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Gh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var e=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),e}function Zs(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function In(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qh(e,t,a,n,i,r){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,L=e.expirationTimes,Y=e.hiddenUpdates;for(a=o&~a;0<a;){var Z=31-ft(a),K=1<<Z;p[Z]=0,L[Z]=-1;var P=Y[Z];if(P!==null)for(Y[Z]=null,Z=0;Z<P.length;Z++){var V=P[Z];V!==null&&(V.lane&=-536870913)}a&=~K}n!==0&&Ml(e,n,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(o&~t))}function Ml(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ft(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Ol(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ft(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function Ll(e,t){var a=t&-t;return a=(a&42)!==0?1:Is(a),(a&(e.suspendedLanes|t))!==0?0:a}function Is(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Al(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:yp(e.type))}function zl(e,t){var a=G.p;try{return G.p=e,t()}finally{G.p=a}}var oa=Math.random().toString(36).slice(2),Ze="__reactFiber$"+oa,at="__reactProps$"+oa,an="__reactContainer$"+oa,Ks="__reactEvents$"+oa,Yh="__reactListeners$"+oa,Ph="__reactHandles$"+oa,Nl="__reactResources$"+oa,Fn="__reactMarker$"+oa;function Js(e){delete e[Ze],delete e[at],delete e[Ks],delete e[Yh],delete e[Ph]}function nn(e){var t=e[Ze];if(t)return t;for(var a=e.parentNode;a;){if(t=a[an]||a[Ze]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=ap(e);e!==null;){if(a=e[Ze])return a;e=ap(e)}return t}e=a,a=e.parentNode}return null}function rn(e){if(e=e[Ze]||e[an]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Kn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function sn(e){var t=e[Nl];return t||(t=e[Nl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pe(e){e[Fn]=!0}var kl=new Set,jl={};function ja(e,t){cn(e,t),cn(e+"Capture",t)}function cn(e,t){for(jl[e]=t,e=0;e<t.length;e++)kl.add(t[e])}var Vh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},ql={};function Xh(e){return Ps.call(ql,e)?!0:Ps.call(Ul,e)?!1:Vh.test(e)?ql[e]=!0:(Ul[e]=!0,!1)}function yr(e,t,a){if(Xh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function _r(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Gt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function St(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zh(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){a=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $s(e){if(!e._valueTracker){var t=Hl(e)?"checked":"value";e._valueTracker=Zh(e,t,""+e[t])}}function Bl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Hl(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function br(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ih=/[\n"\\]/g;function wt(e){return e.replace(Ih,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ws(e,t,a,n,i,r,o,p){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+St(t)):e.value!==""+St(t)&&(e.value=""+St(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?ec(e,o,St(t)):a!=null?ec(e,o,St(a)):n!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+St(p):e.removeAttribute("name")}function Gl(e,t,a,n,i,r,o,p){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){$s(e);return}a=a!=null?""+St(a):"",t=t!=null?""+St(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=p?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),$s(e)}function ec(e,t,a){t==="number"&&br(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function on(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+St(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ql(e,t,a){if(t!=null&&(t=""+St(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+St(a):""}function Yl(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(s(92));if(I(n)){if(1<n.length)throw Error(s(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=St(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),$s(e)}function ln(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Fh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Fh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Vl(e,t,a){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&Pl(e,i,n)}else for(var r in t)t.hasOwnProperty(r)&&Pl(e,r,t[r])}function tc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(e){return Jh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qt(){}var ac=null;function nc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var un=null,dn=null;function Xl(e){var t=rn(e);if(t&&(e=t.stateNode)){var a=e[at]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ws(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[at]||null;if(!i)throw Error(s(90));Ws(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Bl(n)}break e;case"textarea":Ql(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&on(e,!!a.multiple,t,!1)}}}var ic=!1;function Zl(e,t,a){if(ic)return e(t,a);ic=!0;try{var n=e(t);return n}finally{if(ic=!1,(un!==null||dn!==null)&&(os(),un&&(t=un,e=dn,dn=un=null,Xl(t),e)))for(t=0;t<e.length;t++)Xl(e[t])}}function Jn(e,t){var a=e.stateNode;if(a===null)return null;var n=a[at]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,t,typeof a));return a}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=!1;if(Yt)try{var $n={};Object.defineProperty($n,"passive",{get:function(){rc=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{rc=!1}var la=null,sc=null,wr=null;function Il(){if(wr)return wr;var e,t=sc,a=t.length,n,i="value"in la?la.value:la.textContent,r=i.length;for(e=0;e<a&&t[e]===i[e];e++);var o=a-e;for(n=1;n<=o&&t[a-n]===i[r-n];n++);return wr=i.slice(e,1<n?1-n:void 0)}function Cr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Er(){return!0}function Fl(){return!1}function nt(e){function t(a,n,i,r,o){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(r):r[p]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Er:Fl,this.isPropagationStopped=Fl,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),t}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=nt(Ua),Wn=_({},Ua,{view:0,detail:0}),$h=nt(Wn),cc,oc,ei,Rr=_({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(cc=e.screenX-ei.screenX,oc=e.screenY-ei.screenY):oc=cc=0,ei=e),cc)},movementY:function(e){return"movementY"in e?e.movementY:oc}}),Kl=nt(Rr),Wh=_({},Rr,{dataTransfer:0}),em=nt(Wh),tm=_({},Wn,{relatedTarget:0}),lc=nt(tm),am=_({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),nm=nt(am),im=_({},Ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rm=nt(im),sm=_({},Ua,{data:0}),Jl=nt(sm),cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function um(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lm[e])?!!t[e]:!1}function uc(){return um}var dm=_({},Wn,{key:function(e){if(e.key){var t=cm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?om[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fm=nt(dm),pm=_({},Rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$l=nt(pm),hm=_({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),mm=nt(hm),gm=_({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),vm=nt(gm),ym=_({},Rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_m=nt(ym),bm=_({},Ua,{newState:0,oldState:0}),Sm=nt(bm),wm=[9,13,27,32],dc=Yt&&"CompositionEvent"in window,ti=null;Yt&&"documentMode"in document&&(ti=document.documentMode);var Cm=Yt&&"TextEvent"in window&&!ti,Wl=Yt&&(!dc||ti&&8<ti&&11>=ti),eu=" ",tu=!1;function au(e,t){switch(e){case"keyup":return wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fn=!1;function Em(e,t){switch(e){case"compositionend":return nu(t);case"keypress":return t.which!==32?null:(tu=!0,eu);case"textInput":return e=t.data,e===eu&&tu?null:e;default:return null}}function Tm(e,t){if(fn)return e==="compositionend"||!dc&&au(e,t)?(e=Il(),wr=sc=la=null,fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wl&&t.locale!=="ko"?null:t.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rm[e.type]:t==="textarea"}function ru(e,t,a,n){un?dn?dn.push(n):dn=[n]:un=n,t=ms(t,"onChange"),0<t.length&&(a=new Tr("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var ai=null,ni=null;function Dm(e){Qf(e,0)}function Dr(e){var t=Kn(e);if(Bl(t))return e}function su(e,t){if(e==="change")return t}var cu=!1;if(Yt){var fc;if(Yt){var pc="oninput"in document;if(!pc){var ou=document.createElement("div");ou.setAttribute("oninput","return;"),pc=typeof ou.oninput=="function"}fc=pc}else fc=!1;cu=fc&&(!document.documentMode||9<document.documentMode)}function lu(){ai&&(ai.detachEvent("onpropertychange",uu),ni=ai=null)}function uu(e){if(e.propertyName==="value"&&Dr(ni)){var t=[];ru(t,ni,e,nc(e)),Zl(Dm,t)}}function xm(e,t,a){e==="focusin"?(lu(),ai=t,ni=a,ai.attachEvent("onpropertychange",uu)):e==="focusout"&&lu()}function Mm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dr(ni)}function Om(e,t){if(e==="click")return Dr(t)}function Lm(e,t){if(e==="input"||e==="change")return Dr(t)}function Am(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Am;function ii(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!Ps.call(t,i)||!pt(e[i],t[i]))return!1}return!0}function du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fu(e,t){var a=du(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=du(a)}}function pu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=br(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=br(e.document)}return t}function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zm=Yt&&"documentMode"in document&&11>=document.documentMode,pn=null,mc=null,ri=null,gc=!1;function mu(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gc||pn==null||pn!==br(n)||(n=pn,"selectionStart"in n&&hc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ri&&ii(ri,n)||(ri=n,n=ms(mc,"onSelect"),0<n.length&&(t=new Tr("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=pn)))}function qa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var hn={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},vc={},gu={};Yt&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);function Ha(e){if(vc[e])return vc[e];if(!hn[e])return e;var t=hn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in gu)return vc[e]=t[a];return e}var vu=Ha("animationend"),yu=Ha("animationiteration"),_u=Ha("animationstart"),Nm=Ha("transitionrun"),km=Ha("transitionstart"),jm=Ha("transitioncancel"),bu=Ha("transitionend"),Su=new Map,yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yc.push("scrollEnd");function At(e,t){Su.set(e,t),ja(t,[e])}var xr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ct=[],mn=0,_c=0;function Mr(){for(var e=mn,t=_c=mn=0;t<e;){var a=Ct[t];Ct[t++]=null;var n=Ct[t];Ct[t++]=null;var i=Ct[t];Ct[t++]=null;var r=Ct[t];if(Ct[t++]=null,n!==null&&i!==null){var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}r!==0&&wu(a,i,r)}}function Or(e,t,a,n){Ct[mn++]=e,Ct[mn++]=t,Ct[mn++]=a,Ct[mn++]=n,_c|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function bc(e,t,a,n){return Or(e,t,a,n),Lr(e)}function Ba(e,t){return Or(e,null,null,t),Lr(e)}function wu(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,r=e.return;r!==null;)r.childLanes|=a,n=r.alternate,n!==null&&(n.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-ft(a),e=r.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),r):null}function Lr(e){if(50<Di)throw Di=0,Oo=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gn={};function Um(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,a,n){return new Um(e,t,a,n)}function Sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pt(e,t){var a=e.alternate;return a===null?(a=ht(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Cu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ar(e,t,a,n,i,r){var o=0;if(n=e,typeof e=="function")Sc(e)&&(o=1);else if(typeof e=="string")o=Qg(e,a,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case N:return e=ht(31,a,t,i),e.elementType=N,e.lanes=r,e;case c:return Ga(a.children,i,r,t);case u:o=8,i|=24;break;case f:return e=ht(12,a,t,i|2),e.elementType=f,e.lanes=r,e;case D:return e=ht(13,a,t,i),e.elementType=D,e.lanes=r,e;case w:return e=ht(19,a,t,i),e.elementType=w,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:o=10;break e;case h:o=9;break e;case E:o=11;break e;case d:o=14;break e;case y:o=16,n=null;break e}o=29,a=Error(s(130,e===null?"null":typeof e,"")),n=null}return t=ht(o,a,t,i),t.elementType=e,t.type=n,t.lanes=r,t}function Ga(e,t,a,n){return e=ht(7,e,n,t),e.lanes=a,e}function wc(e,t,a){return e=ht(6,e,null,t),e.lanes=a,e}function Eu(e){var t=ht(18,null,null,0);return t.stateNode=e,t}function Cc(e,t,a){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Tu=new WeakMap;function Et(e,t){if(typeof e=="object"&&e!==null){var a=Tu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:El(t)},Tu.set(e,t),t)}return{value:e,source:t,stack:El(t)}}var vn=[],yn=0,zr=null,si=0,Tt=[],Rt=0,ua=null,Ut=1,qt="";function Vt(e,t){vn[yn++]=si,vn[yn++]=zr,zr=e,si=t}function Ru(e,t,a){Tt[Rt++]=Ut,Tt[Rt++]=qt,Tt[Rt++]=ua,ua=e;var n=Ut;e=qt;var i=32-ft(n)-1;n&=~(1<<i),a+=1;var r=32-ft(t)+i;if(30<r){var o=i-i%5;r=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ut=1<<32-ft(t)+i|a<<i|n,qt=r+e}else Ut=1<<r|a<<i|n,qt=e}function Ec(e){e.return!==null&&(Vt(e,1),Ru(e,1,0))}function Tc(e){for(;e===zr;)zr=vn[--yn],vn[yn]=null,si=vn[--yn],vn[yn]=null;for(;e===ua;)ua=Tt[--Rt],Tt[Rt]=null,qt=Tt[--Rt],Tt[Rt]=null,Ut=Tt[--Rt],Tt[Rt]=null}function Du(e,t){Tt[Rt++]=Ut,Tt[Rt++]=qt,Tt[Rt++]=ua,Ut=t.id,qt=t.overflow,ua=e}var Ie=null,Oe=null,_e=!1,da=null,Dt=!1,Rc=Error(s(519));function fa(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ci(Et(t,e)),Rc}function xu(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Ze]=e,t[at]=n,a){case"dialog":me("cancel",t),me("close",t);break;case"iframe":case"object":case"embed":me("load",t);break;case"video":case"audio":for(a=0;a<Mi.length;a++)me(Mi[a],t);break;case"source":me("error",t);break;case"img":case"image":case"link":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"input":me("invalid",t),Gl(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":me("invalid",t);break;case"textarea":me("invalid",t),Yl(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Xf(t.textContent,a)?(n.popover!=null&&(me("beforetoggle",t),me("toggle",t)),n.onScroll!=null&&me("scroll",t),n.onScrollEnd!=null&&me("scrollend",t),n.onClick!=null&&(t.onclick=Qt),t=!0):t=!1,t||fa(e,!0)}function Mu(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:Ie=Ie.return}}function _n(e){if(e!==Ie)return!1;if(!_e)return Mu(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vo(e.type,e.memoizedProps)),a=!a),a&&Oe&&fa(e),Mu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Oe=tp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Oe=tp(e)}else t===27?(t=Oe,Ra(e.type)?(e=Ko,Ko=null,Oe=e):Oe=t):Oe=Ie?Mt(e.stateNode.nextSibling):null;return!0}function Qa(){Oe=Ie=null,_e=!1}function Dc(){var e=da;return e!==null&&(ct===null?ct=e:ct.push.apply(ct,e),da=null),e}function ci(e){da===null?da=[e]:da.push(e)}var xc=U(null),Ya=null,Xt=null;function pa(e,t,a){ae(xc,t._currentValue),t._currentValue=a}function Zt(e){e._currentValue=xc.current,J(xc)}function Mc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Oc(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var o=i.child;r=r.firstContext;e:for(;r!==null;){var p=r;r=i;for(var L=0;L<t.length;L++)if(p.context===t[L]){r.lanes|=a,p=r.alternate,p!==null&&(p.lanes|=a),Mc(r.return,a,e),n||(o=null);break e}r=p.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(s(341));o.lanes|=a,r=o.alternate,r!==null&&(r.lanes|=a),Mc(o,a,e),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function bn(e,t,a,n){e=null;for(var i=t,r=!1;i!==null;){if(!r){if((i.flags&524288)!==0)r=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(s(387));if(o=o.memoizedProps,o!==null){var p=i.type;pt(i.pendingProps.value,o.value)||(e!==null?e.push(p):e=[p])}}else if(i===Ce.current){if(o=i.alternate,o===null)throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ni):e=[Ni])}i=i.return}e!==null&&Oc(t,e,a,n),t.flags|=262144}function Nr(e){for(e=e.firstContext;e!==null;){if(!pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){Ya=e,Xt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Ou(Ya,e)}function kr(e,t){return Ya===null&&Pa(e),Ou(e,t)}function Ou(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Xt===null){if(e===null)throw Error(s(308));Xt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xt=Xt.next=t;return a}var qm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Hm=v.unstable_scheduleCallback,Bm=v.unstable_NormalPriority,qe={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new qm,data:new Map,refCount:0}}function oi(e){e.refCount--,e.refCount===0&&Hm(Bm,function(){e.controller.abort()})}var li=null,Ac=0,Sn=0,wn=null;function Gm(e,t){if(li===null){var a=li=[];Ac=0,Sn=jo(),wn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Ac++,t.then(Lu,Lu),t}function Lu(){if(--Ac===0&&li!==null){wn!==null&&(wn.status="fulfilled");var e=li;li=null,Sn=0,wn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Qm(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Au=x.S;x.S=function(e,t){gf=ut(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Gm(e,t),Au!==null&&Au(e,t)};var Va=U(null);function zc(){var e=Va.current;return e!==null?e:Me.pooledCache}function jr(e,t){t===null?ae(Va,Va.current):ae(Va,t.pool)}function zu(){var e=zc();return e===null?null:{parent:qe._currentValue,pool:e}}var Cn=Error(s(460)),Nc=Error(s(474)),Ur=Error(s(542)),qr={then:function(){}};function Nu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ku(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Qt,Qt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Uu(e),e;default:if(typeof t.status=="string")t.then(Qt,Qt);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Uu(e),e}throw Za=t,Cn}}function Xa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Za=a,Cn):a}}var Za=null;function ju(){if(Za===null)throw Error(s(459));var e=Za;return Za=null,e}function Uu(e){if(e===Cn||e===Ur)throw Error(s(483))}var En=null,ui=0;function Hr(e){var t=ui;return ui+=1,En===null&&(En=[]),ku(En,e,t)}function di(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Br(e,t){throw t.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qu(e){function t(B,j){if(e){var Q=B.deletions;Q===null?(B.deletions=[j],B.flags|=16):Q.push(j)}}function a(B,j){if(!e)return null;for(;j!==null;)t(B,j),j=j.sibling;return null}function n(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function i(B,j){return B=Pt(B,j),B.index=0,B.sibling=null,B}function r(B,j,Q){return B.index=Q,e?(Q=B.alternate,Q!==null?(Q=Q.index,Q<j?(B.flags|=67108866,j):Q):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function o(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function p(B,j,Q,F){return j===null||j.tag!==6?(j=wc(Q,B.mode,F),j.return=B,j):(j=i(j,Q),j.return=B,j)}function L(B,j,Q,F){var ce=Q.type;return ce===c?Z(B,j,Q.props.children,F,Q.key):j!==null&&(j.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===y&&Xa(ce)===j.type)?(j=i(j,Q.props),di(j,Q),j.return=B,j):(j=Ar(Q.type,Q.key,Q.props,null,B.mode,F),di(j,Q),j.return=B,j)}function Y(B,j,Q,F){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=Cc(Q,B.mode,F),j.return=B,j):(j=i(j,Q.children||[]),j.return=B,j)}function Z(B,j,Q,F,ce){return j===null||j.tag!==7?(j=Ga(Q,B.mode,F,ce),j.return=B,j):(j=i(j,Q),j.return=B,j)}function K(B,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=wc(""+j,B.mode,Q),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return Q=Ar(j.type,j.key,j.props,null,B.mode,Q),di(Q,j),Q.return=B,Q;case k:return j=Cc(j,B.mode,Q),j.return=B,j;case y:return j=Xa(j),K(B,j,Q)}if(I(j)||ee(j))return j=Ga(j,B.mode,Q,null),j.return=B,j;if(typeof j.then=="function")return K(B,Hr(j),Q);if(j.$$typeof===M)return K(B,kr(B,j),Q);Br(B,j)}return null}function P(B,j,Q,F){var ce=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ce!==null?null:p(B,j,""+Q,F);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return Q.key===ce?L(B,j,Q,F):null;case k:return Q.key===ce?Y(B,j,Q,F):null;case y:return Q=Xa(Q),P(B,j,Q,F)}if(I(Q)||ee(Q))return ce!==null?null:Z(B,j,Q,F,null);if(typeof Q.then=="function")return P(B,j,Hr(Q),F);if(Q.$$typeof===M)return P(B,j,kr(B,Q),F);Br(B,Q)}return null}function V(B,j,Q,F,ce){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return B=B.get(Q)||null,p(j,B,""+F,ce);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case H:return B=B.get(F.key===null?Q:F.key)||null,L(j,B,F,ce);case k:return B=B.get(F.key===null?Q:F.key)||null,Y(j,B,F,ce);case y:return F=Xa(F),V(B,j,Q,F,ce)}if(I(F)||ee(F))return B=B.get(Q)||null,Z(j,B,F,ce,null);if(typeof F.then=="function")return V(B,j,Q,Hr(F),ce);if(F.$$typeof===M)return V(B,j,Q,kr(j,F),ce);Br(j,F)}return null}function ne(B,j,Q,F){for(var ce=null,be=null,se=j,fe=j=0,ye=null;se!==null&&fe<Q.length;fe++){se.index>fe?(ye=se,se=null):ye=se.sibling;var Se=P(B,se,Q[fe],F);if(Se===null){se===null&&(se=ye);break}e&&se&&Se.alternate===null&&t(B,se),j=r(Se,j,fe),be===null?ce=Se:be.sibling=Se,be=Se,se=ye}if(fe===Q.length)return a(B,se),_e&&Vt(B,fe),ce;if(se===null){for(;fe<Q.length;fe++)se=K(B,Q[fe],F),se!==null&&(j=r(se,j,fe),be===null?ce=se:be.sibling=se,be=se);return _e&&Vt(B,fe),ce}for(se=n(se);fe<Q.length;fe++)ye=V(se,B,fe,Q[fe],F),ye!==null&&(e&&ye.alternate!==null&&se.delete(ye.key===null?fe:ye.key),j=r(ye,j,fe),be===null?ce=ye:be.sibling=ye,be=ye);return e&&se.forEach(function(La){return t(B,La)}),_e&&Vt(B,fe),ce}function oe(B,j,Q,F){if(Q==null)throw Error(s(151));for(var ce=null,be=null,se=j,fe=j=0,ye=null,Se=Q.next();se!==null&&!Se.done;fe++,Se=Q.next()){se.index>fe?(ye=se,se=null):ye=se.sibling;var La=P(B,se,Se.value,F);if(La===null){se===null&&(se=ye);break}e&&se&&La.alternate===null&&t(B,se),j=r(La,j,fe),be===null?ce=La:be.sibling=La,be=La,se=ye}if(Se.done)return a(B,se),_e&&Vt(B,fe),ce;if(se===null){for(;!Se.done;fe++,Se=Q.next())Se=K(B,Se.value,F),Se!==null&&(j=r(Se,j,fe),be===null?ce=Se:be.sibling=Se,be=Se);return _e&&Vt(B,fe),ce}for(se=n(se);!Se.done;fe++,Se=Q.next())Se=V(se,B,fe,Se.value,F),Se!==null&&(e&&Se.alternate!==null&&se.delete(Se.key===null?fe:Se.key),j=r(Se,j,fe),be===null?ce=Se:be.sibling=Se,be=Se);return e&&se.forEach(function(Wg){return t(B,Wg)}),_e&&Vt(B,fe),ce}function xe(B,j,Q,F){if(typeof Q=="object"&&Q!==null&&Q.type===c&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:e:{for(var ce=Q.key;j!==null;){if(j.key===ce){if(ce=Q.type,ce===c){if(j.tag===7){a(B,j.sibling),F=i(j,Q.props.children),F.return=B,B=F;break e}}else if(j.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===y&&Xa(ce)===j.type){a(B,j.sibling),F=i(j,Q.props),di(F,Q),F.return=B,B=F;break e}a(B,j);break}else t(B,j);j=j.sibling}Q.type===c?(F=Ga(Q.props.children,B.mode,F,Q.key),F.return=B,B=F):(F=Ar(Q.type,Q.key,Q.props,null,B.mode,F),di(F,Q),F.return=B,B=F)}return o(B);case k:e:{for(ce=Q.key;j!==null;){if(j.key===ce)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){a(B,j.sibling),F=i(j,Q.children||[]),F.return=B,B=F;break e}else{a(B,j);break}else t(B,j);j=j.sibling}F=Cc(Q,B.mode,F),F.return=B,B=F}return o(B);case y:return Q=Xa(Q),xe(B,j,Q,F)}if(I(Q))return ne(B,j,Q,F);if(ee(Q)){if(ce=ee(Q),typeof ce!="function")throw Error(s(150));return Q=ce.call(Q),oe(B,j,Q,F)}if(typeof Q.then=="function")return xe(B,j,Hr(Q),F);if(Q.$$typeof===M)return xe(B,j,kr(B,Q),F);Br(B,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(a(B,j.sibling),F=i(j,Q),F.return=B,B=F):(a(B,j),F=wc(Q,B.mode,F),F.return=B,B=F),o(B)):a(B,j)}return function(B,j,Q,F){try{ui=0;var ce=xe(B,j,Q,F);return En=null,ce}catch(se){if(se===Cn||se===Ur)throw se;var be=ht(29,se,null,B.mode);return be.lanes=F,be.return=B,be}}}var Ia=qu(!0),Hu=qu(!1),ha=!1;function kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ga(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(we&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Lr(e),wu(e,null,a),t}return Or(e,n,t,a),Lr(e)}function fi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ol(e,a)}}function Uc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?i=r=o:r=r.next=o,a=a.next}while(a!==null);r===null?i=r=t:r=r.next=t}else i=r=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var qc=!1;function pi(){if(qc){var e=wn;if(e!==null)throw e}}function hi(e,t,a,n){qc=!1;var i=e.updateQueue;ha=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,p=i.shared.pending;if(p!==null){i.shared.pending=null;var L=p,Y=L.next;L.next=null,o===null?r=Y:o.next=Y,o=L;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,p=Z.lastBaseUpdate,p!==o&&(p===null?Z.firstBaseUpdate=Y:p.next=Y,Z.lastBaseUpdate=L))}if(r!==null){var K=i.baseState;o=0,Z=Y=L=null,p=r;do{var P=p.lane&-536870913,V=P!==p.lane;if(V?(ve&P)===P:(n&P)===P){P!==0&&P===Sn&&(qc=!0),Z!==null&&(Z=Z.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var ne=e,oe=p;P=t;var xe=a;switch(oe.tag){case 1:if(ne=oe.payload,typeof ne=="function"){K=ne.call(xe,K,P);break e}K=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=oe.payload,P=typeof ne=="function"?ne.call(xe,K,P):ne,P==null)break e;K=_({},K,P);break e;case 2:ha=!0}}P=p.callback,P!==null&&(e.flags|=64,V&&(e.flags|=8192),V=i.callbacks,V===null?i.callbacks=[P]:V.push(P))}else V={lane:P,tag:p.tag,payload:p.payload,callback:p.callback,next:null},Z===null?(Y=Z=V,L=K):Z=Z.next=V,o|=P;if(p=p.next,p===null){if(p=i.shared.pending,p===null)break;V=p,p=V.next,V.next=null,i.lastBaseUpdate=V,i.shared.pending=null}}while(!0);Z===null&&(L=K),i.baseState=L,i.firstBaseUpdate=Y,i.lastBaseUpdate=Z,r===null&&(i.shared.lanes=0),Sa|=o,e.lanes=o,e.memoizedState=K}}function Bu(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Gu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bu(a[e],t)}var Tn=U(null),Gr=U(0);function Qu(e,t){e=aa,ae(Gr,e),ae(Tn,t),aa=e|t.baseLanes}function Hc(){ae(Gr,aa),ae(Tn,Tn.current)}function Bc(){aa=Gr.current,J(Tn),J(Gr)}var mt=U(null),xt=null;function va(e){var t=e.alternate;ae(je,je.current&1),ae(mt,e),xt===null&&(t===null||Tn.current!==null||t.memoizedState!==null)&&(xt=e)}function Gc(e){ae(je,je.current),ae(mt,e),xt===null&&(xt=e)}function Yu(e){e.tag===22?(ae(je,je.current),ae(mt,e),xt===null&&(xt=e)):ya()}function ya(){ae(je,je.current),ae(mt,mt.current)}function gt(e){J(mt),xt===e&&(xt=null),J(je)}var je=U(0);function Qr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Io(a)||Fo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var It=0,de=null,Re=null,He=null,Yr=!1,Rn=!1,Fa=!1,Pr=0,mi=0,Dn=null,Ym=0;function ze(){throw Error(s(321))}function Qc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!pt(e[a],t[a]))return!1;return!0}function Yc(e,t,a,n,i,r){return It=r,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x.H=e===null||e.memoizedState===null?Rd:io,Fa=!1,r=a(n,i),Fa=!1,Rn&&(r=Vu(t,a,n,i)),Pu(e),r}function Pu(e){x.H=yi;var t=Re!==null&&Re.next!==null;if(It=0,He=Re=de=null,Yr=!1,mi=0,Dn=null,t)throw Error(s(300));e===null||Be||(e=e.dependencies,e!==null&&Nr(e)&&(Be=!0))}function Vu(e,t,a,n){de=e;var i=0;do{if(Rn&&(Dn=null),mi=0,Rn=!1,25<=i)throw Error(s(301));if(i+=1,He=Re=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}x.H=Dd,r=t(a,n)}while(Rn);return r}function Pm(){var e=x.H,t=e.useState()[0];return t=typeof t.then=="function"?gi(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(de.flags|=1024),t}function Pc(){var e=Pr!==0;return Pr=0,e}function Vc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Xc(e){if(Yr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yr=!1}It=0,He=Re=de=null,Rn=!1,mi=Pr=0,Dn=null}function et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?de.memoizedState=He=e:He=He.next=e,He}function Ue(){if(Re===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=He===null?de.memoizedState:He.next;if(t!==null)He=t,Re=e;else{if(e===null)throw de.alternate===null?Error(s(467)):Error(s(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},He===null?de.memoizedState=He=e:He=He.next=e}return He}function Vr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gi(e){var t=mi;return mi+=1,Dn===null&&(Dn=[]),e=ku(Dn,e,t),t=de,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,x.H=t===null||t.memoizedState===null?Rd:io),e}function Xr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gi(e);if(e.$$typeof===M)return Fe(e)}throw Error(s(438,String(e)))}function Zc(e){var t=null,a=de.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=de.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Vr(),de.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=q;return t.index++,a}function Ft(e,t){return typeof t=="function"?t(e):t}function Zr(e){var t=Ue();return Ic(t,Re,e)}function Ic(e,t,a){var n=e.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=a;var i=e.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}t.baseQueue=i=r,n.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var p=o=null,L=null,Y=t,Z=!1;do{var K=Y.lane&-536870913;if(K!==Y.lane?(ve&K)===K:(It&K)===K){var P=Y.revertLane;if(P===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),K===Sn&&(Z=!0);else if((It&P)===P){Y=Y.next,P===Sn&&(Z=!0);continue}else K={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(p=L=K,o=r):L=L.next=K,de.lanes|=P,Sa|=P;K=Y.action,Fa&&a(r,K),r=Y.hasEagerState?Y.eagerState:a(r,K)}else P={lane:K,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},L===null?(p=L=P,o=r):L=L.next=P,de.lanes|=K,Sa|=K;Y=Y.next}while(Y!==null&&Y!==t);if(L===null?o=r:L.next=p,!pt(r,e.memoizedState)&&(Be=!0,Z&&(a=wn,a!==null)))throw a;e.memoizedState=r,e.baseState=o,e.baseQueue=L,n.lastRenderedState=r}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Fc(e){var t=Ue(),a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,r=t.memoizedState;if(i!==null){a.pending=null;var o=i=i.next;do r=e(r,o.action),o=o.next;while(o!==i);pt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,n]}function Xu(e,t,a){var n=de,i=Ue(),r=_e;if(r){if(a===void 0)throw Error(s(407));a=a()}else a=t();var o=!pt((Re||i).memoizedState,a);if(o&&(i.memoizedState=a,Be=!0),i=i.queue,$c(Fu.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,xn(9,{destroy:void 0},Iu.bind(null,n,i,a,t),null),Me===null)throw Error(s(349));r||(It&127)!==0||Zu(n,t,a)}return a}function Zu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=de.updateQueue,t===null?(t=Vr(),de.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Iu(e,t,a,n){t.value=a,t.getSnapshot=n,Ku(t)&&Ju(e)}function Fu(e,t,a){return a(function(){Ku(t)&&Ju(e)})}function Ku(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!pt(e,a)}catch{return!0}}function Ju(e){var t=Ba(e,2);t!==null&&ot(t,e,2)}function Kc(e){var t=et();if(typeof e=="function"){var a=e;if(e=a(),Fa){ca(!0);try{a()}finally{ca(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:e},t}function $u(e,t,a,n){return e.baseState=a,Ic(e,Re,typeof n=="function"?n:Ft)}function Vm(e,t,a,n,i){if(Kr(e))throw Error(s(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){r.listeners.push(o)}};x.T!==null?a(!0):r.isTransition=!1,n(r),a=t.pending,a===null?(r.next=t.pending=r,Wu(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Wu(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var r=x.T,o={};x.T=o;try{var p=a(i,n),L=x.S;L!==null&&L(o,p),ed(e,t,p)}catch(Y){Jc(e,t,Y)}finally{r!==null&&o.types!==null&&(r.types=o.types),x.T=r}}else try{r=a(i,n),ed(e,t,r)}catch(Y){Jc(e,t,Y)}}function ed(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){td(e,t,n)},function(n){return Jc(e,t,n)}):td(e,t,a)}function td(e,t,a){t.status="fulfilled",t.value=a,ad(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Wu(e,a)))}function Jc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,ad(t),t=t.next;while(t!==n)}e.action=null}function ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function nd(e,t){return t}function id(e,t){if(_e){var a=Me.formState;if(a!==null){e:{var n=de;if(_e){if(Oe){t:{for(var i=Oe,r=Dt;i.nodeType!==8;){if(!r){i=null;break t}if(i=Mt(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){Oe=Mt(i.nextSibling),n=i.data==="F!";break e}}fa(n)}n=!1}n&&(t=a[0])}}return a=et(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:t},a.queue=n,a=Cd.bind(null,de,n),n.dispatch=a,n=Kc(!1),r=no.bind(null,de,!1,n.queue),n=et(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=Vm.bind(null,de,i,r,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function rd(e){var t=Ue();return sd(t,Re,e)}function sd(e,t,a){if(t=Ic(e,t,nd)[0],e=Zr(Ft)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=gi(t)}catch(o){throw o===Cn?Ur:o}else n=t;t=Ue();var i=t.queue,r=i.dispatch;return a!==t.memoizedState&&(de.flags|=2048,xn(9,{destroy:void 0},Xm.bind(null,i,a),null)),[n,r,e]}function Xm(e,t){e.action=t}function cd(e){var t=Ue(),a=Re;if(a!==null)return sd(t,a,e);Ue(),t=t.memoizedState,a=Ue();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function xn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=de.updateQueue,t===null&&(t=Vr(),de.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function od(){return Ue().memoizedState}function Ir(e,t,a,n){var i=et();de.flags|=e,i.memoizedState=xn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Fr(e,t,a,n){var i=Ue();n=n===void 0?null:n;var r=i.memoizedState.inst;Re!==null&&n!==null&&Qc(n,Re.memoizedState.deps)?i.memoizedState=xn(t,r,a,n):(de.flags|=e,i.memoizedState=xn(1|t,r,a,n))}function ld(e,t){Ir(8390656,8,e,t)}function $c(e,t){Fr(2048,8,e,t)}function Zm(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=Vr(),de.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function ud(e){var t=Ue().memoizedState;return Zm({ref:t,nextImpl:e}),function(){if((we&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function dd(e,t){return Fr(4,2,e,t)}function fd(e,t){return Fr(4,4,e,t)}function pd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hd(e,t,a){a=a!=null?a.concat([e]):null,Fr(4,4,pd.bind(null,t,e),a)}function Wc(){}function md(e,t){var a=Ue();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Qc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function gd(e,t){var a=Ue();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Qc(t,n[1]))return n[0];if(n=e(),Fa){ca(!0);try{e()}finally{ca(!1)}}return a.memoizedState=[n,t],n}function eo(e,t,a){return a===void 0||(It&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=yf(),de.lanes|=e,Sa|=e,a)}function vd(e,t,a,n){return pt(a,t)?a:Tn.current!==null?(e=eo(e,a,n),pt(e,t)||(Be=!0),e):(It&42)===0||(It&1073741824)!==0&&(ve&261930)===0?(Be=!0,e.memoizedState=a):(e=yf(),de.lanes|=e,Sa|=e,t)}function yd(e,t,a,n,i){var r=G.p;G.p=r!==0&&8>r?r:8;var o=x.T,p={};x.T=p,no(e,!1,t,a);try{var L=i(),Y=x.S;if(Y!==null&&Y(p,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=Qm(L,n);vi(e,t,Z,_t(e))}else vi(e,t,n,_t(e))}catch(K){vi(e,t,{then:function(){},status:"rejected",reason:K},_t())}finally{G.p=r,o!==null&&p.types!==null&&(o.types=p.types),x.T=o}}function Im(){}function to(e,t,a,n){if(e.tag!==5)throw Error(s(476));var i=_d(e).queue;yd(e,i,t,$,a===null?Im:function(){return bd(e),a(n)})}function _d(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:$},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bd(e){var t=_d(e);t.next===null&&(t=e.alternate.memoizedState),vi(e,t.next.queue,{},_t())}function ao(){return Fe(Ni)}function Sd(){return Ue().memoizedState}function wd(){return Ue().memoizedState}function Fm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=_t();e=ma(a);var n=ga(t,e,a);n!==null&&(ot(n,t,a),fi(n,t,a)),t={cache:Lc()},e.payload=t;return}t=t.return}}function Km(e,t,a){var n=_t();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Kr(e)?Ed(t,a):(a=bc(e,t,a,n),a!==null&&(ot(a,e,n),Td(a,t,n)))}function Cd(e,t,a){var n=_t();vi(e,t,a,n)}function vi(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kr(e))Ed(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,p=r(o,a);if(i.hasEagerState=!0,i.eagerState=p,pt(p,o))return Or(e,t,i,0),Me===null&&Mr(),!1}catch{}if(a=bc(e,t,i,n),a!==null)return ot(a,e,n),Td(a,t,n),!0}return!1}function no(e,t,a,n){if(n={lane:2,revertLane:jo(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Kr(e)){if(t)throw Error(s(479))}else t=bc(e,a,n,2),t!==null&&ot(t,e,2)}function Kr(e){var t=e.alternate;return e===de||t!==null&&t===de}function Ed(e,t){Rn=Yr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Td(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ol(e,a)}}var yi={readContext:Fe,use:Xr,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};yi.useEffectEvent=ze;var Rd={readContext:Fe,use:Xr,useCallback:function(e,t){return et().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:ld,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ir(4194308,4,pd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ir(4194308,4,e,t)},useInsertionEffect:function(e,t){Ir(4,2,e,t)},useMemo:function(e,t){var a=et();t=t===void 0?null:t;var n=e();if(Fa){ca(!0);try{e()}finally{ca(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=et();if(a!==void 0){var i=a(t);if(Fa){ca(!0);try{a(t)}finally{ca(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Km.bind(null,de,e),[n.memoizedState,e]},useRef:function(e){var t=et();return e={current:e},t.memoizedState=e},useState:function(e){e=Kc(e);var t=e.queue,a=Cd.bind(null,de,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Wc,useDeferredValue:function(e,t){var a=et();return eo(a,e,t)},useTransition:function(){var e=Kc(!1);return e=yd.bind(null,de,e.queue,!0,!1),et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=de,i=et();if(_e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=t(),Me===null)throw Error(s(349));(ve&127)!==0||Zu(n,t,a)}i.memoizedState=a;var r={value:a,getSnapshot:t};return i.queue=r,ld(Fu.bind(null,n,r,e),[e]),n.flags|=2048,xn(9,{destroy:void 0},Iu.bind(null,n,r,a,t),null),a},useId:function(){var e=et(),t=Me.identifierPrefix;if(_e){var a=qt,n=Ut;a=(n&~(1<<32-ft(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Pr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Ym++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ao,useFormState:id,useActionState:id,useOptimistic:function(e){var t=et();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=no.bind(null,de,!0,a),a.dispatch=t,[e,t]},useMemoCache:Zc,useCacheRefresh:function(){return et().memoizedState=Fm.bind(null,de)},useEffectEvent:function(e){var t=et(),a={impl:e};return t.memoizedState=a,function(){if((we&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},io={readContext:Fe,use:Xr,useCallback:md,useContext:Fe,useEffect:$c,useImperativeHandle:hd,useInsertionEffect:dd,useLayoutEffect:fd,useMemo:gd,useReducer:Zr,useRef:od,useState:function(){return Zr(Ft)},useDebugValue:Wc,useDeferredValue:function(e,t){var a=Ue();return vd(a,Re.memoizedState,e,t)},useTransition:function(){var e=Zr(Ft)[0],t=Ue().memoizedState;return[typeof e=="boolean"?e:gi(e),t]},useSyncExternalStore:Xu,useId:Sd,useHostTransitionStatus:ao,useFormState:rd,useActionState:rd,useOptimistic:function(e,t){var a=Ue();return $u(a,Re,e,t)},useMemoCache:Zc,useCacheRefresh:wd};io.useEffectEvent=ud;var Dd={readContext:Fe,use:Xr,useCallback:md,useContext:Fe,useEffect:$c,useImperativeHandle:hd,useInsertionEffect:dd,useLayoutEffect:fd,useMemo:gd,useReducer:Fc,useRef:od,useState:function(){return Fc(Ft)},useDebugValue:Wc,useDeferredValue:function(e,t){var a=Ue();return Re===null?eo(a,e,t):vd(a,Re.memoizedState,e,t)},useTransition:function(){var e=Fc(Ft)[0],t=Ue().memoizedState;return[typeof e=="boolean"?e:gi(e),t]},useSyncExternalStore:Xu,useId:Sd,useHostTransitionStatus:ao,useFormState:cd,useActionState:cd,useOptimistic:function(e,t){var a=Ue();return Re!==null?$u(a,Re,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:wd};Dd.useEffectEvent=ud;function ro(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var so={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=_t(),i=ma(n);i.payload=t,a!=null&&(i.callback=a),t=ga(e,i,n),t!==null&&(ot(t,e,n),fi(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=_t(),i=ma(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=ga(e,i,n),t!==null&&(ot(t,e,n),fi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=_t(),n=ma(a);n.tag=2,t!=null&&(n.callback=t),t=ga(e,n,a),t!==null&&(ot(t,e,a),fi(t,e,a))}};function xd(e,t,a,n,i,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,r,o):t.prototype&&t.prototype.isPureReactComponent?!ii(a,n)||!ii(i,r):!0}function Md(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function Ka(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function Od(e){xr(e)}function Ld(e){console.error(e)}function Ad(e){xr(e)}function Jr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function zd(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function co(e,t,a){return a=ma(a),a.tag=3,a.payload={element:null},a.callback=function(){Jr(e,t)},a}function Nd(e){return e=ma(e),e.tag=3,e}function kd(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var r=n.value;e.payload=function(){return i(r)},e.callback=function(){zd(t,a,n)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){zd(t,a,n),typeof i!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})})}function Jm(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&bn(t,a,i,!0),a=mt.current,a!==null){switch(a.tag){case 31:case 13:return xt===null?ls():a.alternate===null&&Ne===0&&(Ne=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===qr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),zo(e,n,i)),!1;case 22:return a.flags|=65536,n===qr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),zo(e,n,i)),!1}throw Error(s(435,a.tag))}return zo(e,n,i),ls(),!1}if(_e)return t=mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Rc&&(e=Error(s(422),{cause:n}),ci(Et(e,a)))):(n!==Rc&&(t=Error(s(423),{cause:n}),ci(Et(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=Et(n,a),i=co(e.stateNode,n,i),Uc(e,i),Ne!==4&&(Ne=2)),!1;var r=Error(s(520),{cause:n});if(r=Et(r,a),Ri===null?Ri=[r]:Ri.push(r),Ne!==4&&(Ne=2),t===null)return!0;n=Et(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=co(a.stateNode,n,e),Uc(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(wa===null||!wa.has(r))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Nd(i),kd(i,e,a,n),Uc(a,i),!1}a=a.return}while(a!==null);return!1}var oo=Error(s(461)),Be=!1;function Ke(e,t,a,n){t.child=e===null?Hu(t,null,a,n):Ia(t,e.child,a,n)}function jd(e,t,a,n,i){a=a.render;var r=t.ref;if("ref"in n){var o={};for(var p in n)p!=="ref"&&(o[p]=n[p])}else o=n;return Pa(t),n=Yc(e,t,a,o,r,i),p=Pc(),e!==null&&!Be?(Vc(e,t,i),Kt(e,t,i)):(_e&&p&&Ec(t),t.flags|=1,Ke(e,t,n,i),t.child)}function Ud(e,t,a,n,i){if(e===null){var r=a.type;return typeof r=="function"&&!Sc(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,qd(e,t,r,n,i)):(e=Ar(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!vo(e,i)){var o=r.memoizedProps;if(a=a.compare,a=a!==null?a:ii,a(o,n)&&e.ref===t.ref)return Kt(e,t,i)}return t.flags|=1,e=Pt(r,n),e.ref=t.ref,e.return=t,t.child=e}function qd(e,t,a,n,i){if(e!==null){var r=e.memoizedProps;if(ii(r,n)&&e.ref===t.ref)if(Be=!1,t.pendingProps=n=r,vo(e,i))(e.flags&131072)!==0&&(Be=!0);else return t.lanes=e.lanes,Kt(e,t,i)}return lo(e,t,a,n,i)}function Hd(e,t,a,n){var i=n.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~r}else n=0,t.child=null;return Bd(e,t,r,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&jr(t,r!==null?r.cachePool:null),r!==null?Qu(t,r):Hc(),Yu(t);else return n=t.lanes=536870912,Bd(e,t,r!==null?r.baseLanes|a:a,a,n)}else r!==null?(jr(t,r.cachePool),Qu(t,r),ya(),t.memoizedState=null):(e!==null&&jr(t,null),Hc(),ya());return Ke(e,t,i,a),t.child}function _i(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bd(e,t,a,n,i){var r=zc();return r=r===null?null:{parent:qe._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&jr(t,null),Hc(),Yu(t),e!==null&&bn(e,t,n,!0),t.childLanes=i,null}function $r(e,t){return t=es({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Gd(e,t,a){return Ia(t,e.child,null,a),e=$r(t,t.pendingProps),e.flags|=2,gt(t),t.memoizedState=null,e}function $m(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(n.mode==="hidden")return e=$r(t,n),t.lanes=536870912,_i(null,e);if(Gc(t),(e=Oe)?(e=ep(e,Dt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ua!==null?{id:Ut,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},a=Eu(e),a.return=t,t.child=a,Ie=t,Oe=null)):e=null,e===null)throw fa(t);return t.lanes=536870912,null}return $r(t,n)}var r=e.memoizedState;if(r!==null){var o=r.dehydrated;if(Gc(t),i)if(t.flags&256)t.flags&=-257,t=Gd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Be||bn(e,t,a,!1),i=(a&e.childLanes)!==0,Be||i){if(n=Me,n!==null&&(o=Ll(n,a),o!==0&&o!==r.retryLane))throw r.retryLane=o,Ba(e,o),ot(n,e,o),oo;ls(),t=Gd(e,t,a)}else e=r.treeContext,Oe=Mt(o.nextSibling),Ie=t,_e=!0,da=null,Dt=!1,e!==null&&Du(t,e),t=$r(t,n),t.flags|=4096;return t}return e=Pt(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function lo(e,t,a,n,i){return Pa(t),a=Yc(e,t,a,n,void 0,i),n=Pc(),e!==null&&!Be?(Vc(e,t,i),Kt(e,t,i)):(_e&&n&&Ec(t),t.flags|=1,Ke(e,t,a,i),t.child)}function Qd(e,t,a,n,i,r){return Pa(t),t.updateQueue=null,a=Vu(t,n,a,i),Pu(e),n=Pc(),e!==null&&!Be?(Vc(e,t,r),Kt(e,t,r)):(_e&&n&&Ec(t),t.flags|=1,Ke(e,t,a,r),t.child)}function Yd(e,t,a,n,i){if(Pa(t),t.stateNode===null){var r=gn,o=a.contextType;typeof o=="object"&&o!==null&&(r=Fe(o)),r=new a(n,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=so,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=n,r.state=t.memoizedState,r.refs={},kc(t),o=a.contextType,r.context=typeof o=="object"&&o!==null?Fe(o):gn,r.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(ro(t,a,o,n),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(o=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),o!==r.state&&so.enqueueReplaceState(r,r.state,null),hi(t,n,r,i),pi(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){r=t.stateNode;var p=t.memoizedProps,L=Ka(a,p);r.props=L;var Y=r.context,Z=a.contextType;o=gn,typeof Z=="object"&&Z!==null&&(o=Fe(Z));var K=a.getDerivedStateFromProps;Z=typeof K=="function"||typeof r.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,Z||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(p||Y!==o)&&Md(t,r,n,o),ha=!1;var P=t.memoizedState;r.state=P,hi(t,n,r,i),pi(),Y=t.memoizedState,p||P!==Y||ha?(typeof K=="function"&&(ro(t,a,K,n),Y=t.memoizedState),(L=ha||xd(t,a,L,n,P,Y,o))?(Z||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=Y),r.props=n,r.state=Y,r.context=o,n=L):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,jc(e,t),o=t.memoizedProps,Z=Ka(a,o),r.props=Z,K=t.pendingProps,P=r.context,Y=a.contextType,L=gn,typeof Y=="object"&&Y!==null&&(L=Fe(Y)),p=a.getDerivedStateFromProps,(Y=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==K||P!==L)&&Md(t,r,n,L),ha=!1,P=t.memoizedState,r.state=P,hi(t,n,r,i),pi();var V=t.memoizedState;o!==K||P!==V||ha||e!==null&&e.dependencies!==null&&Nr(e.dependencies)?(typeof p=="function"&&(ro(t,a,p,n),V=t.memoizedState),(Z=ha||xd(t,a,Z,n,P,V,L)||e!==null&&e.dependencies!==null&&Nr(e.dependencies))?(Y||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(n,V,L),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(n,V,L)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=V),r.props=n,r.state=V,r.context=L,n=Z):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),n=!1)}return r=n,Wr(e,t),n=(t.flags&128)!==0,r||n?(r=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&n?(t.child=Ia(t,e.child,null,i),t.child=Ia(t,null,a,i)):Ke(e,t,a,i),t.memoizedState=r.state,e=t.child):e=Kt(e,t,i),e}function Pd(e,t,a,n){return Qa(),t.flags|=256,Ke(e,t,a,n),t.child}var uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fo(e){return{baseLanes:e,cachePool:zu()}}function po(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=yt),e}function Vd(e,t,a){var n=t.pendingProps,i=!1,r=(t.flags&128)!==0,o;if((o=r)||(o=e!==null&&e.memoizedState===null?!1:(je.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(i?va(t):ya(),(e=Oe)?(e=ep(e,Dt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ua!==null?{id:Ut,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},a=Eu(e),a.return=t,t.child=a,Ie=t,Oe=null)):e=null,e===null)throw fa(t);return Fo(e)?t.lanes=32:t.lanes=536870912,null}var p=n.children;return n=n.fallback,i?(ya(),i=t.mode,p=es({mode:"hidden",children:p},i),n=Ga(n,i,a,null),p.return=t,n.return=t,p.sibling=n,t.child=p,n=t.child,n.memoizedState=fo(a),n.childLanes=po(e,o,a),t.memoizedState=uo,_i(null,n)):(va(t),ho(t,p))}var L=e.memoizedState;if(L!==null&&(p=L.dehydrated,p!==null)){if(r)t.flags&256?(va(t),t.flags&=-257,t=mo(e,t,a)):t.memoizedState!==null?(ya(),t.child=e.child,t.flags|=128,t=null):(ya(),p=n.fallback,i=t.mode,n=es({mode:"visible",children:n.children},i),p=Ga(p,i,a,null),p.flags|=2,n.return=t,p.return=t,n.sibling=p,t.child=n,Ia(t,e.child,null,a),n=t.child,n.memoizedState=fo(a),n.childLanes=po(e,o,a),t.memoizedState=uo,t=_i(null,n));else if(va(t),Fo(p)){if(o=p.nextSibling&&p.nextSibling.dataset,o)var Y=o.dgst;o=Y,n=Error(s(419)),n.stack="",n.digest=o,ci({value:n,source:null,stack:null}),t=mo(e,t,a)}else if(Be||bn(e,t,a,!1),o=(a&e.childLanes)!==0,Be||o){if(o=Me,o!==null&&(n=Ll(o,a),n!==0&&n!==L.retryLane))throw L.retryLane=n,Ba(e,n),ot(o,e,n),oo;Io(p)||ls(),t=mo(e,t,a)}else Io(p)?(t.flags|=192,t.child=e.child,t=null):(e=L.treeContext,Oe=Mt(p.nextSibling),Ie=t,_e=!0,da=null,Dt=!1,e!==null&&Du(t,e),t=ho(t,n.children),t.flags|=4096);return t}return i?(ya(),p=n.fallback,i=t.mode,L=e.child,Y=L.sibling,n=Pt(L,{mode:"hidden",children:n.children}),n.subtreeFlags=L.subtreeFlags&65011712,Y!==null?p=Pt(Y,p):(p=Ga(p,i,a,null),p.flags|=2),p.return=t,n.return=t,n.sibling=p,t.child=n,_i(null,n),n=t.child,p=e.child.memoizedState,p===null?p=fo(a):(i=p.cachePool,i!==null?(L=qe._currentValue,i=i.parent!==L?{parent:L,pool:L}:i):i=zu(),p={baseLanes:p.baseLanes|a,cachePool:i}),n.memoizedState=p,n.childLanes=po(e,o,a),t.memoizedState=uo,_i(e.child,n)):(va(t),a=e.child,e=a.sibling,a=Pt(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function ho(e,t){return t=es({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function es(e,t){return e=ht(22,e,null,t),e.lanes=0,e}function mo(e,t,a){return Ia(t,e.child,null,a),e=ho(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xd(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mc(e.return,t,a)}function go(e,t,a,n,i,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=a,o.tailMode=i,o.treeForkCount=r)}function Zd(e,t,a){var n=t.pendingProps,i=n.revealOrder,r=n.tail;n=n.children;var o=je.current,p=(o&2)!==0;if(p?(o=o&1|2,t.flags|=128):o&=1,ae(je,o),Ke(e,t,n,a),n=_e?si:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xd(e,a,t);else if(e.tag===19)Xd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&Qr(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),go(t,!1,i,a,r,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qr(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}go(t,!0,a,null,r,n);break;case"together":go(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Kt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Sa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(bn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,a=Pt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Pt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function vo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Nr(e)))}function Wm(e,t,a){switch(t.tag){case 3:We(t,t.stateNode.containerInfo),pa(t,qe,e.memoizedState.cache),Qa();break;case 27:case 5:Vn(t);break;case 4:We(t,t.stateNode.containerInfo);break;case 10:pa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(va(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Vd(e,t,a):(va(t),e=Kt(e,t,a),e!==null?e.sibling:null);va(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(bn(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return Zd(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(je,je.current),n)break;return null;case 22:return t.lanes=0,Hd(e,t,a,t.pendingProps);case 24:pa(t,qe,e.memoizedState.cache)}return Kt(e,t,a)}function Id(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Be=!0;else{if(!vo(e,a)&&(t.flags&128)===0)return Be=!1,Wm(e,t,a);Be=(e.flags&131072)!==0}else Be=!1,_e&&(t.flags&1048576)!==0&&Ru(t,si,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Xa(t.elementType),t.type=e,typeof e=="function")Sc(e)?(n=Ka(e,n),t.tag=1,t=Yd(null,t,e,n,a)):(t.tag=0,t=lo(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===E){t.tag=11,t=jd(null,t,e,n,a);break e}else if(i===d){t.tag=14,t=Ud(null,t,e,n,a);break e}}throw t=X(e)||e,Error(s(306,t,""))}}return t;case 0:return lo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=Ka(n,t.pendingProps),Yd(e,t,n,i,a);case 3:e:{if(We(t,t.stateNode.containerInfo),e===null)throw Error(s(387));n=t.pendingProps;var r=t.memoizedState;i=r.element,jc(e,t),hi(t,n,null,a);var o=t.memoizedState;if(n=o.cache,pa(t,qe,n),n!==r.cache&&Oc(t,[qe],a,!0),pi(),n=o.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Pd(e,t,n,a);break e}else if(n!==i){i=Et(Error(s(424)),t),ci(i),t=Pd(e,t,n,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Oe=Mt(e.firstChild),Ie=t,_e=!0,da=null,Dt=!0,a=Hu(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qa(),n===i){t=Kt(e,t,a);break e}Ke(e,t,n,a)}t=t.child}return t;case 26:return Wr(e,t),e===null?(a=sp(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,n=gs(pe.current).createElement(a),n[Ze]=t,n[at]=e,Je(n,a,e),Pe(n),t.stateNode=n):t.memoizedState=sp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vn(t),e===null&&_e&&(n=t.stateNode=np(t.type,t.pendingProps,pe.current),Ie=t,Dt=!0,i=Oe,Ra(t.type)?(Ko=i,Oe=Mt(n.firstChild)):Oe=i),Ke(e,t,t.pendingProps.children,a),Wr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((i=n=Oe)&&(n=Mg(n,t.type,t.pendingProps,Dt),n!==null?(t.stateNode=n,Ie=t,Oe=Mt(n.firstChild),Dt=!1,i=!0):i=!1),i||fa(t)),Vn(t),i=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,n=r.children,Vo(i,r)?n=null:o!==null&&Vo(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=Yc(e,t,Pm,null,null,a),Ni._currentValue=i),Wr(e,t),Ke(e,t,n,a),t.child;case 6:return e===null&&_e&&((e=a=Oe)&&(a=Og(a,t.pendingProps,Dt),a!==null?(t.stateNode=a,Ie=t,Oe=null,e=!0):e=!1),e||fa(t)),null;case 13:return Vd(e,t,a);case 4:return We(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ia(t,null,n,a):Ke(e,t,n,a),t.child;case 11:return jd(e,t,t.type,t.pendingProps,a);case 7:return Ke(e,t,t.pendingProps,a),t.child;case 8:return Ke(e,t,t.pendingProps.children,a),t.child;case 12:return Ke(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,pa(t,t.type,n.value),Ke(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Pa(t),i=Fe(i),n=n(i),t.flags|=1,Ke(e,t,n,a),t.child;case 14:return Ud(e,t,t.type,t.pendingProps,a);case 15:return qd(e,t,t.type,t.pendingProps,a);case 19:return Zd(e,t,a);case 31:return $m(e,t,a);case 22:return Hd(e,t,a,t.pendingProps);case 24:return Pa(t),n=Fe(qe),e===null?(i=zc(),i===null&&(i=Me,r=Lc(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=a),i=r),t.memoizedState={parent:n,cache:i},kc(t),pa(t,qe,i)):((e.lanes&a)!==0&&(jc(e,t),hi(t,null,null,a),pi()),i=e.memoizedState,r=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),pa(t,qe,n)):(n=r.cache,pa(t,qe,n),n!==i.cache&&Oc(t,[qe],a,!0))),Ke(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Jt(e){e.flags|=4}function yo(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(wf())e.flags|=8192;else throw Za=qr,Nc}else e.flags&=-16777217}function Fd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dp(t))if(wf())e.flags|=8192;else throw Za=qr,Nc}function ts(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xl():536870912,e.lanes|=t,An|=t)}function bi(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function eg(e,t,a){var n=t.pendingProps;switch(Tc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Zt(qe),ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_n(t)?Jt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dc())),Le(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(Jt(t),r!==null?(Le(t),Fd(t,r)):(Le(t),yo(t,i,null,n,a))):r?r!==e.memoizedState?(Jt(t),Le(t),Fd(t,r)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Jt(t),Le(t),yo(t,i,e,n,a)),null;case 27:if(fr(t),a=pe.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Jt(t);else{if(!n){if(t.stateNode===null)throw Error(s(166));return Le(t),null}e=re.current,_n(t)?xu(t):(e=np(i,n,a),t.stateNode=e,Jt(t))}return Le(t),null;case 5:if(fr(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Jt(t);else{if(!n){if(t.stateNode===null)throw Error(s(166));return Le(t),null}if(r=re.current,_n(t))xu(t);else{var o=gs(pe.current);switch(r){case 1:r=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?r.multiple=!0:n.size&&(r.size=n.size);break;default:r=typeof n.is=="string"?o.createElement(i,{is:n.is}):o.createElement(i)}}r[Ze]=t,r[at]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=r;e:switch(Je(r,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Jt(t)}}return Le(t),yo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Jt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(s(166));if(e=pe.current,_n(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=Ie,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Ze]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Xf(e.nodeValue,a)),e||fa(t,!0)}else e=gs(e).createTextNode(n),e[Ze]=t,t.stateNode=e}return Le(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=_n(t),a!==null){if(e===null){if(!n)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ze]=t}else Qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else a=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(gt(t),t):(gt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Le(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=_n(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(s(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));i[Ze]=t}else Qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else i=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(gt(t),t):(gt(t),null)}return gt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ts(t,t.updateQueue),Le(t),null);case 4:return ke(),e===null&&Bo(t.stateNode.containerInfo),Le(t),null;case 10:return Zt(t.type),Le(t),null;case 19:if(J(je),n=t.memoizedState,n===null)return Le(t),null;if(i=(t.flags&128)!==0,r=n.rendering,r===null)if(i)bi(n,!1);else{if(Ne!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=Qr(e),r!==null){for(t.flags|=128,bi(n,!1),e=r.updateQueue,t.updateQueue=e,ts(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Cu(a,e),a=a.sibling;return ae(je,je.current&1|2),_e&&Vt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ut()>ss&&(t.flags|=128,i=!0,bi(n,!1),t.lanes=4194304)}else{if(!i)if(e=Qr(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ts(t,e),bi(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!_e)return Le(t),null}else 2*ut()-n.renderingStartTime>ss&&a!==536870912&&(t.flags|=128,i=!0,bi(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ut(),e.sibling=null,a=je.current,ae(je,i?a&1|2:a&1),_e&&Vt(t,n.treeForkCount),e):(Le(t),null);case 22:case 23:return gt(t),Bc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),a=t.updateQueue,a!==null&&ts(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&J(Va),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Zt(qe),Le(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function tg(e,t){switch(Tc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zt(qe),ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fr(t),null;case 31:if(t.memoizedState!==null){if(gt(t),t.alternate===null)throw Error(s(340));Qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(je),null;case 4:return ke(),null;case 10:return Zt(t.type),null;case 22:case 23:return gt(t),Bc(),e!==null&&J(Va),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Zt(qe),null;case 25:return null;default:return null}}function Kd(e,t){switch(Tc(t),t.tag){case 3:Zt(qe),ke();break;case 26:case 27:case 5:fr(t);break;case 4:ke();break;case 31:t.memoizedState!==null&&gt(t);break;case 13:gt(t);break;case 19:J(je);break;case 10:Zt(t.type);break;case 22:case 23:gt(t),Bc(),e!==null&&J(Va);break;case 24:Zt(qe)}}function Si(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var r=a.create,o=a.inst;n=r(),o.destroy=n}a=a.next}while(a!==i)}}catch(p){Te(t,t.return,p)}}function _a(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){var o=n.inst,p=o.destroy;if(p!==void 0){o.destroy=void 0,i=t;var L=a,Y=p;try{Y()}catch(Z){Te(i,L,Z)}}}n=n.next}while(n!==r)}}catch(Z){Te(t,t.return,Z)}}function Jd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Gu(t,a)}catch(n){Te(e,e.return,n)}}}function $d(e,t,a){a.props=Ka(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Te(e,t,n)}}function wi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){Te(e,t,i)}}function Ht(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){Te(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Te(e,t,i)}else a.current=null}function Wd(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){Te(e,e.return,i)}}function _o(e,t,a){try{var n=e.stateNode;Cg(n,e.type,a,t),n[at]=t}catch(i){Te(e,e.return,i)}}function ef(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ra(e.type)||e.tag===4}function bo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ra(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function So(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Qt));else if(n!==4&&(n===27&&Ra(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(So(e,t,a),e=e.sibling;e!==null;)So(e,t,a),e=e.sibling}function as(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Ra(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(as(e,t,a),e=e.sibling;e!==null;)as(e,t,a),e=e.sibling}function tf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Je(t,n,a),t[Ze]=e,t[at]=a}catch(r){Te(e,e.return,r)}}var $t=!1,Ge=!1,wo=!1,af=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function ag(e,t){if(e=e.containerInfo,Yo=Cs,e=hu(e),hc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var o=0,p=-1,L=-1,Y=0,Z=0,K=e,P=null;t:for(;;){for(var V;K!==a||i!==0&&K.nodeType!==3||(p=o+i),K!==r||n!==0&&K.nodeType!==3||(L=o+n),K.nodeType===3&&(o+=K.nodeValue.length),(V=K.firstChild)!==null;)P=K,K=V;for(;;){if(K===e)break t;if(P===a&&++Y===i&&(p=o),P===r&&++Z===n&&(L=o),(V=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=V}a=p===-1||L===-1?null:{start:p,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Po={focusedElem:e,selectionRange:a},Cs=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){switch(t=Ve,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,i=r.memoizedProps,r=r.memoizedState,n=a.stateNode;try{var ne=Ka(a.type,i);e=n.getSnapshotBeforeUpdate(ne,r),n.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Te(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Zo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}}function nf(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ea(e,a),n&4&&Si(5,a);break;case 1:if(ea(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){Te(a,a.return,o)}else{var i=Ka(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Te(a,a.return,o)}}n&64&&Jd(a),n&512&&wi(a,a.return);break;case 3:if(ea(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Gu(e,t)}catch(o){Te(a,a.return,o)}}break;case 27:t===null&&n&4&&tf(a);case 26:case 5:ea(e,a),t===null&&n&4&&Wd(a),n&512&&wi(a,a.return);break;case 12:ea(e,a);break;case 31:ea(e,a),n&4&&cf(e,a);break;case 13:ea(e,a),n&4&&of(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=dg.bind(null,a),Lg(e,a))));break;case 22:if(n=a.memoizedState!==null||$t,!n){t=t!==null&&t.memoizedState!==null||Ge,i=$t;var r=Ge;$t=n,(Ge=t)&&!r?ta(e,a,(a.subtreeFlags&8772)!==0):ea(e,a),$t=i,Ge=r}break;case 30:break;default:ea(e,a)}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Js(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,it=!1;function Wt(e,t,a){for(a=a.child;a!==null;)sf(e,t,a),a=a.sibling}function sf(e,t,a){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Ge||Ht(a,t),Wt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||Ht(a,t);var n=Ae,i=it;Ra(a.type)&&(Ae=a.stateNode,it=!1),Wt(e,t,a),Li(a.stateNode),Ae=n,it=i;break;case 5:Ge||Ht(a,t);case 6:if(n=Ae,i=it,Ae=null,Wt(e,t,a),Ae=n,it=i,Ae!==null)if(it)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(a.stateNode)}catch(r){Te(a,t,r)}else try{Ae.removeChild(a.stateNode)}catch(r){Te(a,t,r)}break;case 18:Ae!==null&&(it?(e=Ae,$f(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Bn(e)):$f(Ae,a.stateNode));break;case 4:n=Ae,i=it,Ae=a.stateNode.containerInfo,it=!0,Wt(e,t,a),Ae=n,it=i;break;case 0:case 11:case 14:case 15:_a(2,a,t),Ge||_a(4,a,t),Wt(e,t,a);break;case 1:Ge||(Ht(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&$d(a,t,n)),Wt(e,t,a);break;case 21:Wt(e,t,a);break;case 22:Ge=(n=Ge)||a.memoizedState!==null,Wt(e,t,a),Ge=n;break;default:Wt(e,t,a)}}function cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bn(e)}catch(a){Te(t,t.return,a)}}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bn(e)}catch(a){Te(t,t.return,a)}}function ng(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(s(435,e.tag))}}function ns(e,t){var a=ng(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=fg.bind(null,e,n);n.then(i,i)}})}function rt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],r=e,o=t,p=o;e:for(;p!==null;){switch(p.tag){case 27:if(Ra(p.type)){Ae=p.stateNode,it=!1;break e}break;case 5:Ae=p.stateNode,it=!1;break e;case 3:case 4:Ae=p.stateNode.containerInfo,it=!0;break e}p=p.return}if(Ae===null)throw Error(s(160));sf(r,o,i),Ae=null,it=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)lf(t,e),t=t.sibling}var zt=null;function lf(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rt(t,e),st(e),n&4&&(_a(3,e,e.return),Si(3,e),_a(5,e,e.return));break;case 1:rt(t,e),st(e),n&512&&(Ge||a===null||Ht(a,a.return)),n&64&&$t&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=zt;if(rt(t,e),st(e),n&512&&(Ge||a===null||Ht(a,a.return)),n&4){var r=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Fn]||r[Ze]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(n),i.head.insertBefore(r,i.querySelector("head > title"))),Je(r,n,a),r[Ze]=e,Pe(r),n=r;break e;case"link":var o=lp("link","href",i).get(n+(a.href||""));if(o){for(var p=0;p<o.length;p++)if(r=o[p],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(p,1);break t}}r=i.createElement(n),Je(r,n,a),i.head.appendChild(r);break;case"meta":if(o=lp("meta","content",i).get(n+(a.content||""))){for(p=0;p<o.length;p++)if(r=o[p],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(p,1);break t}}r=i.createElement(n),Je(r,n,a),i.head.appendChild(r);break;default:throw Error(s(468,n))}r[Ze]=e,Pe(r),n=r}e.stateNode=n}else up(i,e.type,e.stateNode);else e.stateNode=op(i,n,e.memoizedProps);else r!==n?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,n===null?up(i,e.type,e.stateNode):op(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&_o(e,e.memoizedProps,a.memoizedProps)}break;case 27:rt(t,e),st(e),n&512&&(Ge||a===null||Ht(a,a.return)),a!==null&&n&4&&_o(e,e.memoizedProps,a.memoizedProps);break;case 5:if(rt(t,e),st(e),n&512&&(Ge||a===null||Ht(a,a.return)),e.flags&32){i=e.stateNode;try{ln(i,"")}catch(ne){Te(e,e.return,ne)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,_o(e,i,a!==null?a.memoizedProps:i)),n&1024&&(wo=!0);break;case 6:if(rt(t,e),st(e),n&4){if(e.stateNode===null)throw Error(s(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(ne){Te(e,e.return,ne)}}break;case 3:if(_s=null,i=zt,zt=vs(t.containerInfo),rt(t,e),zt=i,st(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Bn(t.containerInfo)}catch(ne){Te(e,e.return,ne)}wo&&(wo=!1,uf(e));break;case 4:n=zt,zt=vs(e.stateNode.containerInfo),rt(t,e),st(e),zt=n;break;case 12:rt(t,e),st(e);break;case 31:rt(t,e),st(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ns(e,n)));break;case 13:rt(t,e),st(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rs=ut()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ns(e,n)));break;case 22:i=e.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,Y=$t,Z=Ge;if($t=Y||i,Ge=Z||L,rt(t,e),Ge=Z,$t=Y,st(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||L||$t||Ge||Ja(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){L=a=t;try{if(r=L.stateNode,i)o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{p=L.stateNode;var K=L.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;p.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ne){Te(L,L.return,ne)}}}else if(t.tag===6){if(a===null){L=t;try{L.stateNode.nodeValue=i?"":L.memoizedProps}catch(ne){Te(L,L.return,ne)}}}else if(t.tag===18){if(a===null){L=t;try{var V=L.stateNode;i?Wf(V,!0):Wf(L.stateNode,!1)}catch(ne){Te(L,L.return,ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,ns(e,a))));break;case 19:rt(t,e),st(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ns(e,n)));break;case 30:break;case 21:break;default:rt(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(ef(n)){a=n;break}n=n.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var i=a.stateNode,r=bo(e);as(e,r,i);break;case 5:var o=a.stateNode;a.flags&32&&(ln(o,""),a.flags&=-33);var p=bo(e);as(e,p,o);break;case 3:case 4:var L=a.stateNode.containerInfo,Y=bo(e);So(e,Y,L);break;default:throw Error(s(161))}}catch(Z){Te(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;uf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ea(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)nf(e,t.alternate,t),t=t.sibling}function Ja(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_a(4,t,t.return),Ja(t);break;case 1:Ht(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&$d(t,t.return,a),Ja(t);break;case 27:Li(t.stateNode);case 26:case 5:Ht(t,t.return),Ja(t);break;case 22:t.memoizedState===null&&Ja(t);break;case 30:Ja(t);break;default:Ja(t)}e=e.sibling}}function ta(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,r=t,o=r.flags;switch(r.tag){case 0:case 11:case 15:ta(i,r,a),Si(4,r);break;case 1:if(ta(i,r,a),n=r,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(Y){Te(n,n.return,Y)}if(n=r,i=n.updateQueue,i!==null){var p=n.stateNode;try{var L=i.shared.hiddenCallbacks;if(L!==null)for(i.shared.hiddenCallbacks=null,i=0;i<L.length;i++)Bu(L[i],p)}catch(Y){Te(n,n.return,Y)}}a&&o&64&&Jd(r),wi(r,r.return);break;case 27:tf(r);case 26:case 5:ta(i,r,a),a&&n===null&&o&4&&Wd(r),wi(r,r.return);break;case 12:ta(i,r,a);break;case 31:ta(i,r,a),a&&o&4&&cf(i,r);break;case 13:ta(i,r,a),a&&o&4&&of(i,r);break;case 22:r.memoizedState===null&&ta(i,r,a),wi(r,r.return);break;case 30:break;default:ta(i,r,a)}t=t.sibling}}function Co(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&oi(a))}function Eo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oi(e))}function Nt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)df(e,t,a,n),t=t.sibling}function df(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Nt(e,t,a,n),i&2048&&Si(9,t);break;case 1:Nt(e,t,a,n);break;case 3:Nt(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oi(e)));break;case 12:if(i&2048){Nt(e,t,a,n),e=t.stateNode;try{var r=t.memoizedProps,o=r.id,p=r.onPostCommit;typeof p=="function"&&p(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){Te(t,t.return,L)}}else Nt(e,t,a,n);break;case 31:Nt(e,t,a,n);break;case 13:Nt(e,t,a,n);break;case 23:break;case 22:r=t.stateNode,o=t.alternate,t.memoizedState!==null?r._visibility&2?Nt(e,t,a,n):Ci(e,t):r._visibility&2?Nt(e,t,a,n):(r._visibility|=2,Mn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Co(o,t);break;case 24:Nt(e,t,a,n),i&2048&&Eo(t.alternate,t);break;default:Nt(e,t,a,n)}}function Mn(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,o=t,p=a,L=n,Y=o.flags;switch(o.tag){case 0:case 11:case 15:Mn(r,o,p,L,i),Si(8,o);break;case 23:break;case 22:var Z=o.stateNode;o.memoizedState!==null?Z._visibility&2?Mn(r,o,p,L,i):Ci(r,o):(Z._visibility|=2,Mn(r,o,p,L,i)),i&&Y&2048&&Co(o.alternate,o);break;case 24:Mn(r,o,p,L,i),i&&Y&2048&&Eo(o.alternate,o);break;default:Mn(r,o,p,L,i)}t=t.sibling}}function Ci(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:Ci(a,n),i&2048&&Co(n.alternate,n);break;case 24:Ci(a,n),i&2048&&Eo(n.alternate,n);break;default:Ci(a,n)}t=t.sibling}}var Ei=8192;function On(e,t,a){if(e.subtreeFlags&Ei)for(e=e.child;e!==null;)ff(e,t,a),e=e.sibling}function ff(e,t,a){switch(e.tag){case 26:On(e,t,a),e.flags&Ei&&e.memoizedState!==null&&Yg(a,zt,e.memoizedState,e.memoizedProps);break;case 5:On(e,t,a);break;case 3:case 4:var n=zt;zt=vs(e.stateNode.containerInfo),On(e,t,a),zt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ei,Ei=16777216,On(e,t,a),Ei=n):On(e,t,a));break;default:On(e,t,a)}}function pf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ti(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ve=n,mf(n,e)}pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hf(e),e=e.sibling}function hf(e){switch(e.tag){case 0:case 11:case 15:Ti(e),e.flags&2048&&_a(9,e,e.return);break;case 3:Ti(e);break;case 12:Ti(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,is(e)):Ti(e);break;default:Ti(e)}}function is(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Ve=n,mf(n,e)}pf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_a(8,t,t.return),is(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,is(t));break;default:is(t)}e=e.sibling}}function mf(e,t){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:_a(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:oi(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Ve=n;else e:for(a=e;Ve!==null;){n=Ve;var i=n.sibling,r=n.return;if(rf(n),n===a){Ve=null;break e}if(i!==null){i.return=r,Ve=i;break e}Ve=r}}}var ig={getCacheForType:function(e){var t=Fe(qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Fe(qe).controller.signal}},rg=typeof WeakMap=="function"?WeakMap:Map,we=0,Me=null,he=null,ve=0,Ee=0,vt=null,ba=!1,Ln=!1,To=!1,aa=0,Ne=0,Sa=0,$a=0,Ro=0,yt=0,An=0,Ri=null,ct=null,Do=!1,rs=0,gf=0,ss=1/0,cs=null,wa=null,Ye=0,Ca=null,zn=null,na=0,xo=0,Mo=null,vf=null,Di=0,Oo=null;function _t(){return(we&2)!==0&&ve!==0?ve&-ve:x.T!==null?jo():Al()}function yf(){if(yt===0)if((ve&536870912)===0||_e){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),yt=e}else yt=536870912;return e=mt.current,e!==null&&(e.flags|=32),yt}function ot(e,t,a){(e===Me&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Nn(e,0),Ea(e,ve,yt,!1)),In(e,a),((we&2)===0||e!==Me)&&(e===Me&&((we&2)===0&&($a|=a),Ne===4&&Ea(e,ve,yt,!1)),Bt(e))}function _f(e,t,a){if((we&6)!==0)throw Error(s(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Zn(e,t),i=n?og(e,t):Ao(e,t,!0),r=n;do{if(i===0){Ln&&!n&&Ea(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!sg(a)){i=Ao(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var p=e;i=Ri;var L=p.current.memoizedState.isDehydrated;if(L&&(Nn(p,o).flags|=256),o=Ao(p,o,!1),o!==2){if(To&&!L){p.errorRecoveryDisabledLanes|=r,$a|=r,i=4;break e}r=ct,ct=i,r!==null&&(ct===null?ct=r:ct.push.apply(ct,r))}i=o}if(r=!1,i!==2)continue}}if(i===1){Nn(e,0),Ea(e,t,0,!0);break}e:{switch(n=e,r=i,r){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Ea(n,t,yt,!ba);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(i=rs+300-ut(),10<i)){if(Ea(n,t,yt,!ba),vr(n,0,!0)!==0)break e;na=t,n.timeoutHandle=Kf(bf.bind(null,n,a,ct,cs,Do,t,yt,$a,An,ba,r,"Throttled",-0,0),i);break e}bf(n,a,ct,cs,Do,t,yt,$a,An,ba,r,null,-0,0)}}break}while(!0);Bt(e)}function bf(e,t,a,n,i,r,o,p,L,Y,Z,K,P,V){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qt},ff(t,r,K);var ne=(r&62914560)===r?rs-ut():(r&4194048)===r?gf-ut():0;if(ne=Pg(K,ne),ne!==null){na=r,e.cancelPendingCommit=ne(xf.bind(null,e,t,r,a,n,i,o,p,L,Z,K,null,P,V)),Ea(e,r,o,!Y);return}}xf(e,t,r,a,n,i,o,p,L)}function sg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],r=i.getSnapshot;i=i.value;try{if(!pt(r(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ea(e,t,a,n){t&=~Ro,t&=~$a,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var r=31-ft(i),o=1<<r;n[r]=-1,i&=~o}a!==0&&Ml(e,a,t)}function os(){return(we&6)===0?(xi(0),!1):!0}function Lo(){if(he!==null){if(Ee===0)var e=he.return;else e=he,Xt=Ya=null,Xc(e),En=null,ui=0,e=he;for(;e!==null;)Kd(e.alternate,e),e=e.return;he=null}}function Nn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Rg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),na=0,Lo(),Me=e,he=a=Pt(e.current,null),ve=t,Ee=0,vt=null,ba=!1,Ln=Zn(e,t),To=!1,An=yt=Ro=$a=Sa=Ne=0,ct=Ri=null,Do=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-ft(n),r=1<<i;t|=e[i],n&=~r}return aa=t,Mr(),a}function Sf(e,t){de=null,x.H=yi,t===Cn||t===Ur?(t=ju(),Ee=3):t===Nc?(t=ju(),Ee=4):Ee=t===oo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vt=t,he===null&&(Ne=1,Jr(e,Et(t,e.current)))}function wf(){var e=mt.current;return e===null?!0:(ve&4194048)===ve?xt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===xt:!1}function Cf(){var e=x.H;return x.H=yi,e===null?yi:e}function Ef(){var e=x.A;return x.A=ig,e}function ls(){Ne=4,ba||(ve&4194048)!==ve&&mt.current!==null||(Ln=!0),(Sa&134217727)===0&&($a&134217727)===0||Me===null||Ea(Me,ve,yt,!1)}function Ao(e,t,a){var n=we;we|=2;var i=Cf(),r=Ef();(Me!==e||ve!==t)&&(cs=null,Nn(e,t)),t=!1;var o=Ne;e:do try{if(Ee!==0&&he!==null){var p=he,L=vt;switch(Ee){case 8:Lo(),o=6;break e;case 3:case 2:case 9:case 6:mt.current===null&&(t=!0);var Y=Ee;if(Ee=0,vt=null,kn(e,p,L,Y),a&&Ln){o=0;break e}break;default:Y=Ee,Ee=0,vt=null,kn(e,p,L,Y)}}cg(),o=Ne;break}catch(Z){Sf(e,Z)}while(!0);return t&&e.shellSuspendCounter++,Xt=Ya=null,we=n,x.H=i,x.A=r,he===null&&(Me=null,ve=0,Mr()),o}function cg(){for(;he!==null;)Tf(he)}function og(e,t){var a=we;we|=2;var n=Cf(),i=Ef();Me!==e||ve!==t?(cs=null,ss=ut()+500,Nn(e,t)):Ln=Zn(e,t);e:do try{if(Ee!==0&&he!==null){t=he;var r=vt;t:switch(Ee){case 1:Ee=0,vt=null,kn(e,t,r,1);break;case 2:case 9:if(Nu(r)){Ee=0,vt=null,Rf(t);break}t=function(){Ee!==2&&Ee!==9||Me!==e||(Ee=7),Bt(e)},r.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Nu(r)?(Ee=0,vt=null,Rf(t)):(Ee=0,vt=null,kn(e,t,r,7));break;case 5:var o=null;switch(he.tag){case 26:o=he.memoizedState;case 5:case 27:var p=he;if(o?dp(o):p.stateNode.complete){Ee=0,vt=null;var L=p.sibling;if(L!==null)he=L;else{var Y=p.return;Y!==null?(he=Y,us(Y)):he=null}break t}}Ee=0,vt=null,kn(e,t,r,5);break;case 6:Ee=0,vt=null,kn(e,t,r,6);break;case 8:Lo(),Ne=6;break e;default:throw Error(s(462))}}lg();break}catch(Z){Sf(e,Z)}while(!0);return Xt=Ya=null,x.H=n,x.A=i,we=a,he!==null?0:(Me=null,ve=0,Mr(),Ne)}function lg(){for(;he!==null&&!Ah();)Tf(he)}function Tf(e){var t=Id(e.alternate,e,aa);e.memoizedProps=e.pendingProps,t===null?us(e):he=t}function Rf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Qd(a,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=Qd(a,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:Xc(t);default:Kd(a,t),t=he=Cu(t,aa),t=Id(a,t,aa)}e.memoizedProps=e.pendingProps,t===null?us(e):he=t}function kn(e,t,a,n){Xt=Ya=null,Xc(t),En=null,ui=0;var i=t.return;try{if(Jm(e,i,t,a,ve)){Ne=1,Jr(e,Et(a,e.current)),he=null;return}}catch(r){if(i!==null)throw he=i,r;Ne=1,Jr(e,Et(a,e.current)),he=null;return}t.flags&32768?(_e||n===1?e=!0:Ln||(ve&536870912)!==0?e=!1:(ba=e=!0,(n===2||n===9||n===3||n===6)&&(n=mt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Df(t,e)):us(t)}function us(e){var t=e;do{if((t.flags&32768)!==0){Df(t,ba);return}e=t.return;var a=eg(t.alternate,t,aa);if(a!==null){he=a;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);Ne===0&&(Ne=5)}function Df(e,t){do{var a=tg(e.alternate,e);if(a!==null){a.flags&=32767,he=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=a}while(e!==null);Ne=6,he=null}function xf(e,t,a,n,i,r,o,p,L){e.cancelPendingCommit=null;do ds();while(Ye!==0);if((we&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(r=t.lanes|t.childLanes,r|=_c,Qh(e,a,r,o,p,L),e===Me&&(he=Me=null,ve=0),zn=t,Ca=e,na=a,xo=r,Mo=i,vf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,pg(pr,function(){return zf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=x.T,x.T=null,i=G.p,G.p=2,o=we,we|=4;try{ag(e,t,a)}finally{we=o,G.p=i,x.T=n}}Ye=1,Mf(),Of(),Lf()}}function Mf(){if(Ye===1){Ye=0;var e=Ca,t=zn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=x.T,x.T=null;var n=G.p;G.p=2;var i=we;we|=4;try{lf(t,e);var r=Po,o=hu(e.containerInfo),p=r.focusedElem,L=r.selectionRange;if(o!==p&&p&&p.ownerDocument&&pu(p.ownerDocument.documentElement,p)){if(L!==null&&hc(p)){var Y=L.start,Z=L.end;if(Z===void 0&&(Z=Y),"selectionStart"in p)p.selectionStart=Y,p.selectionEnd=Math.min(Z,p.value.length);else{var K=p.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var V=P.getSelection(),ne=p.textContent.length,oe=Math.min(L.start,ne),xe=L.end===void 0?oe:Math.min(L.end,ne);!V.extend&&oe>xe&&(o=xe,xe=oe,oe=o);var B=fu(p,oe),j=fu(p,xe);if(B&&j&&(V.rangeCount!==1||V.anchorNode!==B.node||V.anchorOffset!==B.offset||V.focusNode!==j.node||V.focusOffset!==j.offset)){var Q=K.createRange();Q.setStart(B.node,B.offset),V.removeAllRanges(),oe>xe?(V.addRange(Q),V.extend(j.node,j.offset)):(Q.setEnd(j.node,j.offset),V.addRange(Q))}}}}for(K=[],V=p;V=V.parentNode;)V.nodeType===1&&K.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<K.length;p++){var F=K[p];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Cs=!!Yo,Po=Yo=null}finally{we=i,G.p=n,x.T=a}}e.current=t,Ye=2}}function Of(){if(Ye===2){Ye=0;var e=Ca,t=zn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=x.T,x.T=null;var n=G.p;G.p=2;var i=we;we|=4;try{nf(e,t.alternate,t)}finally{we=i,G.p=n,x.T=a}}Ye=3}}function Lf(){if(Ye===4||Ye===3){Ye=0,zh();var e=Ca,t=zn,a=na,n=vf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ye=5:(Ye=0,zn=Ca=null,Af(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(wa=null),Fs(a),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Xn,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=x.T,i=G.p,G.p=2,x.T=null;try{for(var r=e.onRecoverableError,o=0;o<n.length;o++){var p=n[o];r(p.value,{componentStack:p.stack})}}finally{x.T=t,G.p=i}}(na&3)!==0&&ds(),Bt(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===Oo?Di++:(Di=0,Oo=e):Di=0,xi(0)}}function Af(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,oi(t)))}function ds(){return Mf(),Of(),Lf(),zf()}function zf(){if(Ye!==5)return!1;var e=Ca,t=xo;xo=0;var a=Fs(na),n=x.T,i=G.p;try{G.p=32>a?32:a,x.T=null,a=Mo,Mo=null;var r=Ca,o=na;if(Ye=0,zn=Ca=null,na=0,(we&6)!==0)throw Error(s(331));var p=we;if(we|=4,hf(r.current),df(r,r.current,o,a),we=p,xi(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Xn,r)}catch{}return!0}finally{G.p=i,x.T=n,Af(e,t)}}function Nf(e,t,a){t=Et(a,t),t=co(e.stateNode,t,2),e=ga(e,t,2),e!==null&&(In(e,2),Bt(e))}function Te(e,t,a){if(e.tag===3)Nf(e,e,a);else for(;t!==null;){if(t.tag===3){Nf(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wa===null||!wa.has(n))){e=Et(a,e),a=Nd(2),n=ga(t,a,2),n!==null&&(kd(a,n,t,e),In(n,2),Bt(n));break}}t=t.return}}function zo(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new rg;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(To=!0,i.add(a),e=ug.bind(null,e,t,a),t.then(e,e))}function ug(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Me===e&&(ve&a)===a&&(Ne===4||Ne===3&&(ve&62914560)===ve&&300>ut()-rs?(we&2)===0&&Nn(e,0):Ro|=a,An===ve&&(An=0)),Bt(e)}function kf(e,t){t===0&&(t=xl()),e=Ba(e,t),e!==null&&(In(e,t),Bt(e))}function dg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),kf(e,a)}function fg(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(s(314))}n!==null&&n.delete(t),kf(e,a)}function pg(e,t){return Vs(e,t)}var fs=null,jn=null,No=!1,ps=!1,ko=!1,Ta=0;function Bt(e){e!==jn&&e.next===null&&(jn===null?fs=jn=e:jn=jn.next=e),ps=!0,No||(No=!0,mg())}function xi(e,t){if(!ko&&ps){ko=!0;do for(var a=!1,n=fs;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var r=0;else{var o=n.suspendedLanes,p=n.pingedLanes;r=(1<<31-ft(42|e)+1)-1,r&=i&~(o&~p),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Hf(n,r))}else r=ve,r=vr(n,n===Me?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(r&3)===0||Zn(n,r)||(a=!0,Hf(n,r));n=n.next}while(a);ko=!1}}function hg(){jf()}function jf(){ps=No=!1;var e=0;Ta!==0&&Tg()&&(e=Ta);for(var t=ut(),a=null,n=fs;n!==null;){var i=n.next,r=Uf(n,t);r===0?(n.next=null,a===null?fs=i:a.next=i,i===null&&(jn=a)):(a=n,(e!==0||(r&3)!==0)&&(ps=!0)),n=i}Ye!==0&&Ye!==5||xi(e),Ta!==0&&(Ta=0)}function Uf(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var o=31-ft(r),p=1<<o,L=i[o];L===-1?((p&a)===0||(p&n)!==0)&&(i[o]=Gh(p,t)):L<=t&&(e.expiredLanes|=p),r&=~p}if(t=Me,a=ve,a=vr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Xs(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Xs(n),Fs(a)){case 2:case 8:a=Rl;break;case 32:a=pr;break;case 268435456:a=Dl;break;default:a=pr}return n=qf.bind(null,e),a=Vs(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Xs(n),e.callbackPriority=2,e.callbackNode=null,2}function qf(e,t){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ds()&&e.callbackNode!==a)return null;var n=ve;return n=vr(e,e===Me?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(_f(e,n,t),Uf(e,ut()),e.callbackNode!=null&&e.callbackNode===a?qf.bind(null,e):null)}function Hf(e,t){if(ds())return null;_f(e,t,!0)}function mg(){Dg(function(){(we&6)!==0?Vs(Tl,hg):jf()})}function jo(){if(Ta===0){var e=Sn;e===0&&(e=hr,hr<<=1,(hr&261888)===0&&(hr=256)),Ta=e}return Ta}function Bf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sr(""+e)}function Gf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function gg(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var r=Bf((i[at]||null).action),o=n.submitter;o&&(t=(t=o[at]||null)?Bf(t.formAction):o.getAttribute("formAction"),t!==null&&(r=t,o=null));var p=new Tr("action","action",null,n,i);e.push({event:p,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ta!==0){var L=o?Gf(i,o):new FormData(i);to(a,{pending:!0,data:L,method:i.method,action:r},null,L)}}else typeof r=="function"&&(p.preventDefault(),L=o?Gf(i,o):new FormData(i),to(a,{pending:!0,data:L,method:i.method,action:r},r,L))},currentTarget:i}]})}}for(var Uo=0;Uo<yc.length;Uo++){var qo=yc[Uo],vg=qo.toLowerCase(),yg=qo[0].toUpperCase()+qo.slice(1);At(vg,"on"+yg)}At(vu,"onAnimationEnd"),At(yu,"onAnimationIteration"),At(_u,"onAnimationStart"),At("dblclick","onDoubleClick"),At("focusin","onFocus"),At("focusout","onBlur"),At(Nm,"onTransitionRun"),At(km,"onTransitionStart"),At(jm,"onTransitionCancel"),At(bu,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_g=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mi));function Qf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var o=n.length-1;0<=o;o--){var p=n[o],L=p.instance,Y=p.currentTarget;if(p=p.listener,L!==r&&i.isPropagationStopped())break e;r=p,i.currentTarget=Y;try{r(i)}catch(Z){xr(Z)}i.currentTarget=null,r=L}else for(o=0;o<n.length;o++){if(p=n[o],L=p.instance,Y=p.currentTarget,p=p.listener,L!==r&&i.isPropagationStopped())break e;r=p,i.currentTarget=Y;try{r(i)}catch(Z){xr(Z)}i.currentTarget=null,r=L}}}}function me(e,t){var a=t[Ks];a===void 0&&(a=t[Ks]=new Set);var n=e+"__bubble";a.has(n)||(Yf(t,e,2,!1),a.add(n))}function Ho(e,t,a){var n=0;t&&(n|=4),Yf(a,e,n,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[hs]){e[hs]=!0,kl.forEach(function(a){a!=="selectionchange"&&(_g.has(a)||Ho(a,!1,e),Ho(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,Ho("selectionchange",!1,t))}}function Yf(e,t,a,n){switch(yp(t)){case 2:var i=Zg;break;case 8:i=Ig;break;default:i=tl}a=i.bind(null,t,a,e),i=void 0,!rc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Go(e,t,a,n,i){var r=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var p=n.stateNode.containerInfo;if(p===i)break;if(o===4)for(o=n.return;o!==null;){var L=o.tag;if((L===3||L===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;p!==null;){if(o=nn(p),o===null)return;if(L=o.tag,L===5||L===6||L===26||L===27){n=r=o;continue e}p=p.parentNode}}n=n.return}Zl(function(){var Y=r,Z=nc(a),K=[];e:{var P=Su.get(e);if(P!==void 0){var V=Tr,ne=e;switch(e){case"keypress":if(Cr(a)===0)break e;case"keydown":case"keyup":V=fm;break;case"focusin":ne="focus",V=lc;break;case"focusout":ne="blur",V=lc;break;case"beforeblur":case"afterblur":V=lc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=mm;break;case vu:case yu:case _u:V=nm;break;case bu:V=vm;break;case"scroll":case"scrollend":V=$h;break;case"wheel":V=_m;break;case"copy":case"cut":case"paste":V=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=$l;break;case"toggle":case"beforetoggle":V=Sm}var oe=(t&4)!==0,xe=!oe&&(e==="scroll"||e==="scrollend"),B=oe?P!==null?P+"Capture":null:P;oe=[];for(var j=Y,Q;j!==null;){var F=j;if(Q=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||Q===null||B===null||(F=Jn(j,B),F!=null&&oe.push(Oi(j,F,Q))),xe)break;j=j.return}0<oe.length&&(P=new V(P,ne,null,a,Z),K.push({event:P,listeners:oe}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",P&&a!==ac&&(ne=a.relatedTarget||a.fromElement)&&(nn(ne)||ne[an]))break e;if((V||P)&&(P=Z.window===Z?Z:(P=Z.ownerDocument)?P.defaultView||P.parentWindow:window,V?(ne=a.relatedTarget||a.toElement,V=Y,ne=ne?nn(ne):null,ne!==null&&(xe=z(ne),oe=ne.tag,ne!==xe||oe!==5&&oe!==27&&oe!==6)&&(ne=null)):(V=null,ne=Y),V!==ne)){if(oe=Kl,F="onMouseLeave",B="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(oe=$l,F="onPointerLeave",B="onPointerEnter",j="pointer"),xe=V==null?P:Kn(V),Q=ne==null?P:Kn(ne),P=new oe(F,j+"leave",V,a,Z),P.target=xe,P.relatedTarget=Q,F=null,nn(Z)===Y&&(oe=new oe(B,j+"enter",ne,a,Z),oe.target=Q,oe.relatedTarget=xe,F=oe),xe=F,V&&ne)t:{for(oe=bg,B=V,j=ne,Q=0,F=B;F;F=oe(F))Q++;F=0;for(var ce=j;ce;ce=oe(ce))F++;for(;0<Q-F;)B=oe(B),Q--;for(;0<F-Q;)j=oe(j),F--;for(;Q--;){if(B===j||j!==null&&B===j.alternate){oe=B;break t}B=oe(B),j=oe(j)}oe=null}else oe=null;V!==null&&Pf(K,P,V,oe,!1),ne!==null&&xe!==null&&Pf(K,xe,ne,oe,!0)}}e:{if(P=Y?Kn(Y):window,V=P.nodeName&&P.nodeName.toLowerCase(),V==="select"||V==="input"&&P.type==="file")var be=su;else if(iu(P))if(cu)be=Lm;else{be=Mm;var se=xm}else V=P.nodeName,!V||V.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?Y&&tc(Y.elementType)&&(be=su):be=Om;if(be&&(be=be(e,Y))){ru(K,be,a,Z);break e}se&&se(e,P,Y),e==="focusout"&&Y&&P.type==="number"&&Y.memoizedProps.value!=null&&ec(P,"number",P.value)}switch(se=Y?Kn(Y):window,e){case"focusin":(iu(se)||se.contentEditable==="true")&&(pn=se,mc=Y,ri=null);break;case"focusout":ri=mc=pn=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,mu(K,a,Z);break;case"selectionchange":if(zm)break;case"keydown":case"keyup":mu(K,a,Z)}var fe;if(dc)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else fn?au(e,a)&&(ye="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(Wl&&a.locale!=="ko"&&(fn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&fn&&(fe=Il()):(la=Z,sc="value"in la?la.value:la.textContent,fn=!0)),se=ms(Y,ye),0<se.length&&(ye=new Jl(ye,e,null,a,Z),K.push({event:ye,listeners:se}),fe?ye.data=fe:(fe=nu(a),fe!==null&&(ye.data=fe)))),(fe=Cm?Em(e,a):Tm(e,a))&&(ye=ms(Y,"onBeforeInput"),0<ye.length&&(se=new Jl("onBeforeInput","beforeinput",null,a,Z),K.push({event:se,listeners:ye}),se.data=fe)),gg(K,e,Y,a,Z)}Qf(K,t)})}function Oi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ms(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=Jn(e,a),i!=null&&n.unshift(Oi(e,i,r)),i=Jn(e,t),i!=null&&n.push(Oi(e,i,r))),e.tag===3)return n;e=e.return}return[]}function bg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pf(e,t,a,n,i){for(var r=t._reactName,o=[];a!==null&&a!==n;){var p=a,L=p.alternate,Y=p.stateNode;if(p=p.tag,L!==null&&L===n)break;p!==5&&p!==26&&p!==27||Y===null||(L=Y,i?(Y=Jn(a,r),Y!=null&&o.unshift(Oi(a,Y,L))):i||(Y=Jn(a,r),Y!=null&&o.push(Oi(a,Y,L)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var Sg=/\r\n?/g,wg=/\u0000|\uFFFD/g;function Vf(e){return(typeof e=="string"?e:""+e).replace(Sg,`
`).replace(wg,"")}function Xf(e,t){return t=Vf(t),Vf(e)===t}function De(e,t,a,n,i,r){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||ln(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&ln(e,""+n);break;case"className":_r(e,"class",n);break;case"tabIndex":_r(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(e,a,n);break;case"style":Vl(e,n,r);break;case"data":if(t!=="object"){_r(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Sr(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&De(e,t,"name",i.name,i,null),De(e,t,"formEncType",i.formEncType,i,null),De(e,t,"formMethod",i.formMethod,i,null),De(e,t,"formTarget",i.formTarget,i,null)):(De(e,t,"encType",i.encType,i,null),De(e,t,"method",i.method,i,null),De(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Sr(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Qt);break;case"onScroll":n!=null&&me("scroll",e);break;case"onScrollEnd":n!=null&&me("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(s(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Sr(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":me("beforetoggle",e),me("toggle",e),yr(e,"popover",n);break;case"xlinkActuate":Gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Gt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Gt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Gt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Gt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":yr(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kh.get(a)||a,yr(e,a,n))}}function Qo(e,t,a,n,i,r){switch(a){case"style":Vl(e,n,r);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(s(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof n=="string"?ln(e,n):(typeof n=="number"||typeof n=="bigint")&&ln(e,""+n);break;case"onScroll":n!=null&&me("scroll",e);break;case"onScrollEnd":n!=null&&me("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Qt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),r=e[at]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof n=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):yr(e,a,n)}}}function Je(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",e),me("load",e);var n=!1,i=!1,r;for(r in a)if(a.hasOwnProperty(r)){var o=a[r];if(o!=null)switch(r){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:De(e,t,r,o,a,null)}}i&&De(e,t,"srcSet",a.srcSet,a,null),n&&De(e,t,"src",a.src,a,null);return;case"input":me("invalid",e);var p=r=o=i=null,L=null,Y=null;for(n in a)if(a.hasOwnProperty(n)){var Z=a[n];if(Z!=null)switch(n){case"name":i=Z;break;case"type":o=Z;break;case"checked":L=Z;break;case"defaultChecked":Y=Z;break;case"value":r=Z;break;case"defaultValue":p=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,t));break;default:De(e,t,n,Z,a,null)}}Gl(e,r,p,L,Y,o,i,!1);return;case"select":me("invalid",e),n=o=r=null;for(i in a)if(a.hasOwnProperty(i)&&(p=a[i],p!=null))switch(i){case"value":r=p;break;case"defaultValue":o=p;break;case"multiple":n=p;default:De(e,t,i,p,a,null)}t=r,a=o,e.multiple=!!n,t!=null?on(e,!!n,t,!1):a!=null&&on(e,!!n,a,!0);return;case"textarea":me("invalid",e),r=i=n=null;for(o in a)if(a.hasOwnProperty(o)&&(p=a[o],p!=null))switch(o){case"value":n=p;break;case"defaultValue":i=p;break;case"children":r=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:De(e,t,o,p,a,null)}Yl(e,n,i,r);return;case"option":for(L in a)a.hasOwnProperty(L)&&(n=a[L],n!=null)&&(L==="selected"?e.selected=n&&typeof n!="function"&&typeof n!="symbol":De(e,t,L,n,a,null));return;case"dialog":me("beforetoggle",e),me("toggle",e),me("cancel",e),me("close",e);break;case"iframe":case"object":me("load",e);break;case"video":case"audio":for(n=0;n<Mi.length;n++)me(Mi[n],e);break;case"image":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"embed":case"source":case"link":me("error",e),me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(n=a[Y],n!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:De(e,t,Y,n,a,null)}return;default:if(tc(t)){for(Z in a)a.hasOwnProperty(Z)&&(n=a[Z],n!==void 0&&Qo(e,t,Z,n,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(n=a[p],n!=null&&De(e,t,p,n,a,null))}function Cg(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,o=null,p=null,L=null,Y=null,Z=null;for(V in a){var K=a[V];if(a.hasOwnProperty(V)&&K!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":L=K;default:n.hasOwnProperty(V)||De(e,t,V,null,n,K)}}for(var P in n){var V=n[P];if(K=a[P],n.hasOwnProperty(P)&&(V!=null||K!=null))switch(P){case"type":r=V;break;case"name":i=V;break;case"checked":Y=V;break;case"defaultChecked":Z=V;break;case"value":o=V;break;case"defaultValue":p=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,t));break;default:V!==K&&De(e,t,P,V,n,K)}}Ws(e,o,p,L,Y,Z,r,i);return;case"select":V=o=p=P=null;for(r in a)if(L=a[r],a.hasOwnProperty(r)&&L!=null)switch(r){case"value":break;case"multiple":V=L;default:n.hasOwnProperty(r)||De(e,t,r,null,n,L)}for(i in n)if(r=n[i],L=a[i],n.hasOwnProperty(i)&&(r!=null||L!=null))switch(i){case"value":P=r;break;case"defaultValue":p=r;break;case"multiple":o=r;default:r!==L&&De(e,t,i,r,n,L)}t=p,a=o,n=V,P!=null?on(e,!!a,P,!1):!!n!=!!a&&(t!=null?on(e,!!a,t,!0):on(e,!!a,a?[]:"",!1));return;case"textarea":V=P=null;for(p in a)if(i=a[p],a.hasOwnProperty(p)&&i!=null&&!n.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:De(e,t,p,null,n,i)}for(o in n)if(i=n[o],r=a[o],n.hasOwnProperty(o)&&(i!=null||r!=null))switch(o){case"value":P=i;break;case"defaultValue":V=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(s(91));break;default:i!==r&&De(e,t,o,i,n,r)}Ql(e,P,V);return;case"option":for(var ne in a)P=a[ne],a.hasOwnProperty(ne)&&P!=null&&!n.hasOwnProperty(ne)&&(ne==="selected"?e.selected=!1:De(e,t,ne,null,n,P));for(L in n)P=n[L],V=a[L],n.hasOwnProperty(L)&&P!==V&&(P!=null||V!=null)&&(L==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":De(e,t,L,P,n,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)P=a[oe],a.hasOwnProperty(oe)&&P!=null&&!n.hasOwnProperty(oe)&&De(e,t,oe,null,n,P);for(Y in n)if(P=n[Y],V=a[Y],n.hasOwnProperty(Y)&&P!==V&&(P!=null||V!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,t));break;default:De(e,t,Y,P,n,V)}return;default:if(tc(t)){for(var xe in a)P=a[xe],a.hasOwnProperty(xe)&&P!==void 0&&!n.hasOwnProperty(xe)&&Qo(e,t,xe,void 0,n,P);for(Z in n)P=n[Z],V=a[Z],!n.hasOwnProperty(Z)||P===V||P===void 0&&V===void 0||Qo(e,t,Z,P,n,V);return}}for(var B in a)P=a[B],a.hasOwnProperty(B)&&P!=null&&!n.hasOwnProperty(B)&&De(e,t,B,null,n,P);for(K in n)P=n[K],V=a[K],!n.hasOwnProperty(K)||P===V||P==null&&V==null||De(e,t,K,P,n,V)}function Zf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Eg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],r=i.transferSize,o=i.initiatorType,p=i.duration;if(r&&p&&Zf(o)){for(o=0,p=i.responseEnd,n+=1;n<a.length;n++){var L=a[n],Y=L.startTime;if(Y>p)break;var Z=L.transferSize,K=L.initiatorType;Z&&Zf(K)&&(L=L.responseEnd,o+=Z*(L<p?1:(p-Y)/(L-Y)))}if(--n,t+=8*(r+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yo=null,Po=null;function gs(e){return e.nodeType===9?e:e.ownerDocument}function If(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ff(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xo=null;function Tg(){var e=window.event;return e&&e.type==="popstate"?e===Xo?!1:(Xo=e,!0):(Xo=null,!1)}var Kf=typeof setTimeout=="function"?setTimeout:void 0,Rg=typeof clearTimeout=="function"?clearTimeout:void 0,Jf=typeof Promise=="function"?Promise:void 0,Dg=typeof queueMicrotask=="function"?queueMicrotask:typeof Jf<"u"?function(e){return Jf.resolve(null).then(e).catch(xg)}:Kf;function xg(e){setTimeout(function(){throw e})}function Ra(e){return e==="head"}function $f(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),Bn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Li(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Li(a);for(var r=a.firstChild;r;){var o=r.nextSibling,p=r.nodeName;r[Fn]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=o}}else a==="body"&&Li(e.ownerDocument.body);a=i}while(a);Bn(t)}function Wf(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Zo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zo(a),Js(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Mg(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Fn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Mt(e.nextSibling),e===null)break}return null}function Og(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mt(e.nextSibling),e===null))return null;return e}function ep(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Mt(e.nextSibling),e===null))return null;return e}function Io(e){return e.data==="$?"||e.data==="$~"}function Fo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Lg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ko=null;function tp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Mt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function ap(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function np(e,t,a){switch(t=gs(a),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Li(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Js(e)}var Ot=new Map,ip=new Set;function vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ia=G.d;G.d={f:Ag,r:zg,D:Ng,C:kg,L:jg,m:Ug,X:Hg,S:qg,M:Bg};function Ag(){var e=ia.f(),t=os();return e||t}function zg(e){var t=rn(e);t!==null&&t.tag===5&&t.type==="form"?bd(t):ia.r(e)}var Un=typeof document>"u"?null:document;function rp(e,t,a){var n=Un;if(n&&typeof t=="string"&&t){var i=wt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),ip.has(i)||(ip.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Je(t,"link",e),Pe(t),n.head.appendChild(t)))}}function Ng(e){ia.D(e),rp("dns-prefetch",e,null)}function kg(e,t){ia.C(e,t),rp("preconnect",e,t)}function jg(e,t,a){ia.L(e,t,a);var n=Un;if(n&&e&&t){var i='link[rel="preload"][as="'+wt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+wt(a.imageSizes)+'"]')):i+='[href="'+wt(e)+'"]';var r=i;switch(t){case"style":r=qn(e);break;case"script":r=Hn(e)}Ot.has(r)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ot.set(r,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(Ai(r))||t==="script"&&n.querySelector(zi(r))||(t=n.createElement("link"),Je(t,"link",e),Pe(t),n.head.appendChild(t)))}}function Ug(e,t){ia.m(e,t);var a=Un;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+wt(n)+'"][href="'+wt(e)+'"]',r=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Hn(e)}if(!Ot.has(r)&&(e=_({rel:"modulepreload",href:e},t),Ot.set(r,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zi(r)))return}n=a.createElement("link"),Je(n,"link",e),Pe(n),a.head.appendChild(n)}}}function qg(e,t,a){ia.S(e,t,a);var n=Un;if(n&&e){var i=sn(n).hoistableStyles,r=qn(e);t=t||"default";var o=i.get(r);if(!o){var p={loading:0,preload:null};if(o=n.querySelector(Ai(r)))p.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ot.get(r))&&Jo(e,a);var L=o=n.createElement("link");Pe(L),Je(L,"link",e),L._p=new Promise(function(Y,Z){L.onload=Y,L.onerror=Z}),L.addEventListener("load",function(){p.loading|=1}),L.addEventListener("error",function(){p.loading|=2}),p.loading|=4,ys(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:p},i.set(r,o)}}}function Hg(e,t){ia.X(e,t);var a=Un;if(a&&e){var n=sn(a).hoistableScripts,i=Hn(e),r=n.get(i);r||(r=a.querySelector(zi(i)),r||(e=_({src:e,async:!0},t),(t=Ot.get(i))&&$o(e,t),r=a.createElement("script"),Pe(r),Je(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(i,r))}}function Bg(e,t){ia.M(e,t);var a=Un;if(a&&e){var n=sn(a).hoistableScripts,i=Hn(e),r=n.get(i);r||(r=a.querySelector(zi(i)),r||(e=_({src:e,async:!0,type:"module"},t),(t=Ot.get(i))&&$o(e,t),r=a.createElement("script"),Pe(r),Je(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},n.set(i,r))}}function sp(e,t,a,n){var i=(i=pe.current)?vs(i):null;if(!i)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=qn(a.href),a=sn(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qn(a.href);var r=sn(i).hoistableStyles,o=r.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,o),(r=i.querySelector(Ai(e)))&&!r._p&&(o.instance=r,o.state.loading=5),Ot.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ot.set(e,a),r||Gg(i,e,a,o.state))),t&&n===null)throw Error(s(528,""));return o}if(t&&n!==null)throw Error(s(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Hn(a),a=sn(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qn(e){return'href="'+wt(e)+'"'}function Ai(e){return'link[rel="stylesheet"]['+e+"]"}function cp(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Gg(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Je(t,"link",a),Pe(t),e.head.appendChild(t))}function Hn(e){return'[src="'+wt(e)+'"]'}function zi(e){return"script[async]"+e}function op(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+wt(a.href)+'"]');if(n)return t.instance=n,Pe(n),n;var i=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Pe(n),Je(n,"style",i),ys(n,a.precedence,e),t.instance=n;case"stylesheet":i=qn(a.href);var r=e.querySelector(Ai(i));if(r)return t.state.loading|=4,t.instance=r,Pe(r),r;n=cp(a),(i=Ot.get(i))&&Jo(n,i),r=(e.ownerDocument||e).createElement("link"),Pe(r);var o=r;return o._p=new Promise(function(p,L){o.onload=p,o.onerror=L}),Je(r,"link",n),t.state.loading|=4,ys(r,a.precedence,e),t.instance=r;case"script":return r=Hn(a.src),(i=e.querySelector(zi(r)))?(t.instance=i,Pe(i),i):(n=a,(i=Ot.get(r))&&(n=_({},a),$o(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),Pe(i),Je(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,ys(n,a.precedence,e));return t.instance}function ys(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,r=i,o=0;o<n.length;o++){var p=n[o];if(p.dataset.precedence===t)r=p;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Jo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $o(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _s=null;function lp(e,t,a){if(_s===null){var n=new Map,i=_s=new Map;i.set(a,n)}else i=_s,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var r=a[i];if(!(r[Fn]||r[Ze]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var o=r.getAttribute(t)||"";o=e+o;var p=n.get(o);p?p.push(r):n.set(o,[r])}}return n}function up(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Qg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Yg(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=qn(n.href),r=t.querySelector(Ai(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=bs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,Pe(r);return}r=t.ownerDocument||t,n=cp(n),(i=Ot.get(i))&&Jo(n,i),r=r.createElement("link"),Pe(r);var o=r;o._p=new Promise(function(p,L){o.onload=p,o.onerror=L}),Je(r,"link",n),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=bs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Wo=0;function Pg(e,t){return e.stylesheets&&e.count===0&&ws(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&ws(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Wo===0&&(Wo=62500*Eg());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ws(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Wo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function bs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ws(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ss=null;function ws(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ss=new Map,t.forEach(Vg,e),Ss=null,bs.call(e))}function Vg(e,t){if(!(t.state.loading&4)){var a=Ss.get(e);if(a)var n=a.get(null);else{a=new Map,Ss.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var o=i[r];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),n=o)}n&&a.set(null,n)}i=t.instance,o=i.getAttribute("data-precedence"),r=a.get(o)||n,r===n&&a.set(null,i),a.set(o,i),this.count++,n=bs.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ni={$$typeof:M,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Xg(e,t,a,n,i,r,o,p,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.hiddenUpdates=Zs(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function fp(e,t,a,n,i,r,o,p,L,Y,Z,K){return e=new Xg(e,t,a,o,L,Y,Z,K,p),t=1,r===!0&&(t|=24),r=ht(3,null,null,t),e.current=r,r.stateNode=e,t=Lc(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:n,isDehydrated:a,cache:t},kc(r),e}function pp(e){return e?(e=gn,e):gn}function hp(e,t,a,n,i,r){i=pp(i),n.context===null?n.context=i:n.pendingContext=i,n=ma(t),n.payload={element:a},r=r===void 0?null:r,r!==null&&(n.callback=r),a=ga(e,n,t),a!==null&&(ot(a,e,t),fi(a,e,t))}function mp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function el(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function gp(e){if(e.tag===13||e.tag===31){var t=Ba(e,67108864);t!==null&&ot(t,e,67108864),el(e,67108864)}}function vp(e){if(e.tag===13||e.tag===31){var t=_t();t=Is(t);var a=Ba(e,t);a!==null&&ot(a,e,t),el(e,t)}}var Cs=!0;function Zg(e,t,a,n){var i=x.T;x.T=null;var r=G.p;try{G.p=2,tl(e,t,a,n)}finally{G.p=r,x.T=i}}function Ig(e,t,a,n){var i=x.T;x.T=null;var r=G.p;try{G.p=8,tl(e,t,a,n)}finally{G.p=r,x.T=i}}function tl(e,t,a,n){if(Cs){var i=al(n);if(i===null)Go(e,t,n,Es,a),_p(e,n);else if(Kg(i,e,t,a,n))n.stopPropagation();else if(_p(e,n),t&4&&-1<Fg.indexOf(e)){for(;i!==null;){var r=rn(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var o=ka(r.pendingLanes);if(o!==0){var p=r;for(p.pendingLanes|=2,p.entangledLanes|=2;o;){var L=1<<31-ft(o);p.entanglements[1]|=L,o&=~L}Bt(r),(we&6)===0&&(ss=ut()+500,xi(0))}}break;case 31:case 13:p=Ba(r,2),p!==null&&ot(p,r,2),os(),el(r,2)}if(r=al(n),r===null&&Go(e,t,n,Es,a),r===i)break;i=r}i!==null&&n.stopPropagation()}else Go(e,t,n,null,a)}}function al(e){return e=nc(e),nl(e)}var Es=null;function nl(e){if(Es=null,e=nn(e),e!==null){var t=z(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=R(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Es=e,null}function yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nh()){case Tl:return 2;case Rl:return 8;case pr:case kh:return 32;case Dl:return 268435456;default:return 32}default:return 32}}var il=!1,Da=null,xa=null,Ma=null,ki=new Map,ji=new Map,Oa=[],Fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _p(e,t){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(t.pointerId)}}function Ui(e,t,a,n,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:r,targetContainers:[i]},t!==null&&(t=rn(t),t!==null&&gp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Kg(e,t,a,n,i){switch(t){case"focusin":return Da=Ui(Da,e,t,a,n,i),!0;case"dragenter":return xa=Ui(xa,e,t,a,n,i),!0;case"mouseover":return Ma=Ui(Ma,e,t,a,n,i),!0;case"pointerover":var r=i.pointerId;return ki.set(r,Ui(ki.get(r)||null,e,t,a,n,i)),!0;case"gotpointercapture":return r=i.pointerId,ji.set(r,Ui(ji.get(r)||null,e,t,a,n,i)),!0}return!1}function bp(e){var t=nn(e.target);if(t!==null){var a=z(t);if(a!==null){if(t=a.tag,t===13){if(t=R(a),t!==null){e.blockedOn=t,zl(e.priority,function(){vp(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,zl(e.priority,function(){vp(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=al(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);ac=n,a.target.dispatchEvent(n),ac=null}else return t=rn(a),t!==null&&gp(t),e.blockedOn=a,!1;t.shift()}return!0}function Sp(e,t,a){Ts(e)&&a.delete(t)}function Jg(){il=!1,Da!==null&&Ts(Da)&&(Da=null),xa!==null&&Ts(xa)&&(xa=null),Ma!==null&&Ts(Ma)&&(Ma=null),ki.forEach(Sp),ji.forEach(Sp)}function Rs(e,t){e.blockedOn===t&&(e.blockedOn=null,il||(il=!0,v.unstable_scheduleCallback(v.unstable_NormalPriority,Jg)))}var Ds=null;function wp(e){Ds!==e&&(Ds=e,v.unstable_scheduleCallback(v.unstable_NormalPriority,function(){Ds===e&&(Ds=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(nl(n||a)===null)continue;break}var r=rn(a);r!==null&&(e.splice(t,3),t-=3,to(r,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function Bn(e){function t(L){return Rs(L,e)}Da!==null&&Rs(Da,e),xa!==null&&Rs(xa,e),Ma!==null&&Rs(Ma,e),ki.forEach(t),ji.forEach(t);for(var a=0;a<Oa.length;a++){var n=Oa[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Oa.length&&(a=Oa[0],a.blockedOn===null);)bp(a),a.blockedOn===null&&Oa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],r=a[n+1],o=i[at]||null;if(typeof r=="function")o||wp(a);else if(o){var p=null;if(r&&r.hasAttribute("formAction")){if(i=r,o=r[at]||null)p=o.formAction;else if(nl(i)!==null)continue}else p=o.action;typeof p=="function"?a[n+1]=p:(a.splice(n,3),n-=3),wp(a)}}}function Cp(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function rl(e){this._internalRoot=e}xs.prototype.render=rl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var a=t.current,n=_t();hp(a,n,e,t,null,null)},xs.prototype.unmount=rl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hp(e.current,2,null,e,null,null),os(),t[an]=null}};function xs(e){this._internalRoot=e}xs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Al();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Oa.length&&t!==0&&t<Oa[a].priority;a++);Oa.splice(a,0,e),a===0&&bp(e)}};var Ep=T.version;if(Ep!=="19.2.3")throw Error(s(527,Ep,"19.2.3"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=C(t),e=e!==null?l(e):null,e=e===null?null:e.stateNode,e};var $g={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{Xn=Ms.inject($g),dt=Ms}catch{}}return Hi.createRoot=function(e,t){if(!A(e))throw Error(s(299));var a=!1,n="",i=Od,r=Ld,o=Ad;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=fp(e,1,!1,null,null,a,n,null,i,r,o,Cp),e[an]=t.current,Bo(e),new rl(t)},Hi.hydrateRoot=function(e,t,a){if(!A(e))throw Error(s(299));var n=!1,i="",r=Od,o=Ld,p=Ad,L=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),t=fp(e,1,!0,t,a??null,n,i,L,r,o,p,Cp),t.context=pp(null),a=t.current,n=_t(),n=Is(n),i=ma(n),i.callback=null,ga(a,i,n),a=n,t.current.lanes=a,In(t,a),Bt(t),e[an]=t.current,Bo(e),new xs(t)},Hi.version="19.2.3",Hi}var Np;function lv(){if(Np)return ol.exports;Np=1;function v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v)}catch(T){console.error(T)}}return v(),ol.exports=ov(),ol.exports}var uv=lv();const dv=xh(uv);var fl={},Os={exports:{}},pl,kp;function fv(){if(kp)return pl;kp=1;var v=1e3,T=v*60,S=T*60,s=S*24,A=s*7,z=s*365.25;pl=function(l,_){_=_||{};var b=typeof l;if(b==="string"&&l.length>0)return R(l);if(b==="number"&&isFinite(l))return _.long?O(l):m(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function R(l){if(l=String(l),!(l.length>100)){var _=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(_){var b=parseFloat(_[1]),H=(_[2]||"ms").toLowerCase();switch(H){case"years":case"year":case"yrs":case"yr":case"y":return b*z;case"weeks":case"week":case"w":return b*A;case"days":case"day":case"d":return b*s;case"hours":case"hour":case"hrs":case"hr":case"h":return b*S;case"minutes":case"minute":case"mins":case"min":case"m":return b*T;case"seconds":case"second":case"secs":case"sec":case"s":return b*v;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function m(l){var _=Math.abs(l);return _>=s?Math.round(l/s)+"d":_>=S?Math.round(l/S)+"h":_>=T?Math.round(l/T)+"m":_>=v?Math.round(l/v)+"s":l+"ms"}function O(l){var _=Math.abs(l);return _>=s?C(l,_,s,"day"):_>=S?C(l,_,S,"hour"):_>=T?C(l,_,T,"minute"):_>=v?C(l,_,v,"second"):l+" ms"}function C(l,_,b,H){var k=_>=b*1.5;return Math.round(l/b)+" "+H+(k?"s":"")}return pl}var hl,jp;function pv(){if(jp)return hl;jp=1;function v(T){s.debug=s,s.default=s,s.coerce=C,s.disable=m,s.enable=z,s.enabled=O,s.humanize=fv(),s.destroy=l,Object.keys(T).forEach(_=>{s[_]=T[_]}),s.names=[],s.skips=[],s.formatters={};function S(_){let b=0;for(let H=0;H<_.length;H++)b=(b<<5)-b+_.charCodeAt(H),b|=0;return s.colors[Math.abs(b)%s.colors.length]}s.selectColor=S;function s(_){let b,H=null,k,c;function u(...f){if(!u.enabled)return;const h=u,M=Number(new Date),E=M-(b||M);h.diff=E,h.prev=b,h.curr=M,b=M,f[0]=s.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");let D=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(d,y)=>{if(d==="%%")return"%";D++;const N=s.formatters[y];if(typeof N=="function"){const q=f[D];d=N.call(h,q),f.splice(D,1),D--}return d}),s.formatArgs.call(h,f),(h.log||s.log).apply(h,f)}return u.namespace=_,u.useColors=s.useColors(),u.color=s.selectColor(_),u.extend=A,u.destroy=s.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>H!==null?H:(k!==s.namespaces&&(k=s.namespaces,c=s.enabled(_)),c),set:f=>{H=f}}),typeof s.init=="function"&&s.init(u),u}function A(_,b){const H=s(this.namespace+(typeof b>"u"?":":b)+_);return H.log=this.log,H}function z(_){s.save(_),s.namespaces=_,s.names=[],s.skips=[];const b=(typeof _=="string"?_:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const H of b)H[0]==="-"?s.skips.push(H.slice(1)):s.names.push(H)}function R(_,b){let H=0,k=0,c=-1,u=0;for(;H<_.length;)if(k<b.length&&(b[k]===_[H]||b[k]==="*"))b[k]==="*"?(c=k,u=H,k++):(H++,k++);else if(c!==-1)k=c+1,u++,H=u;else return!1;for(;k<b.length&&b[k]==="*";)k++;return k===b.length}function m(){const _=[...s.names,...s.skips.map(b=>"-"+b)].join(",");return s.enable(""),_}function O(_){for(const b of s.skips)if(R(_,b))return!1;for(const b of s.names)if(R(_,b))return!0;return!1}function C(_){return _ instanceof Error?_.stack||_.message:_}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}return hl=v,hl}var Up;function Bs(){return Up||(Up=1,(function(v,T){var S={};T.formatArgs=A,T.save=z,T.load=R,T.useColors=s,T.storage=m(),T.destroy=(()=>{let C=!1;return()=>{C||(C=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),T.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let C;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(C=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(C[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function A(C){if(C[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+C[0]+(this.useColors?"%c ":" ")+"+"+v.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;C.splice(1,0,l,"color: inherit");let _=0,b=0;C[0].replace(/%[a-zA-Z%]/g,H=>{H!=="%%"&&(_++,H==="%c"&&(b=_))}),C.splice(b,0,l)}T.log=console.debug||console.log||(()=>{});function z(C){try{C?T.storage.setItem("debug",C):T.storage.removeItem("debug")}catch{}}function R(){let C;try{C=T.storage.getItem("debug")||T.storage.getItem("DEBUG")}catch{}return!C&&typeof process<"u"&&"env"in process&&(C=S.DEBUG),C}function m(){try{return localStorage}catch{}}v.exports=pv()(T);const{formatters:O}=v.exports;O.j=function(C){try{return JSON.stringify(C)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(Os,Os.exports)),Os.exports}var ml={},qp;function hv(){return qp||(qp=1,Object.defineProperty(ml,"__esModule",{value:!0})),ml}var Wa={},Bi={},Hp;function lt(){if(Hp)return Bi;Hp=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.Logger=void 0;const v=Bs(),T="mediasoup-client";class S{_debug;_warn;_error;constructor(A){A?(this._debug=(0,v.default)(`${T}:${A}`),this._warn=(0,v.default)(`${T}:WARN:${A}`),this._error=(0,v.default)(`${T}:ERROR:${A}`)):(this._debug=(0,v.default)(T),this._warn=(0,v.default)(`${T}:WARN`),this._error=(0,v.default)(`${T}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Bi.Logger=S,Bi}var Gi={},Ls={exports:{}},Bp;function mv(){if(Bp)return Ls.exports;Bp=1;var v=typeof Reflect=="object"?Reflect:null,T=v&&typeof v.apply=="function"?v.apply:function(D,w,d){return Function.prototype.apply.call(D,w,d)},S;v&&typeof v.ownKeys=="function"?S=v.ownKeys:Object.getOwnPropertySymbols?S=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:S=function(D){return Object.getOwnPropertyNames(D)};function s(E){console&&console.warn&&console.warn(E)}var A=Number.isNaN||function(D){return D!==D};function z(){z.init.call(this)}Ls.exports=z,Ls.exports.once=f,z.EventEmitter=z,z.prototype._events=void 0,z.prototype._eventsCount=0,z.prototype._maxListeners=void 0;var R=10;function m(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(z,"defaultMaxListeners",{enumerable:!0,get:function(){return R},set:function(E){if(typeof E!="number"||E<0||A(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");R=E}}),z.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},z.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||A(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function O(E){return E._maxListeners===void 0?z.defaultMaxListeners:E._maxListeners}z.prototype.getMaxListeners=function(){return O(this)},z.prototype.emit=function(D){for(var w=[],d=1;d<arguments.length;d++)w.push(arguments[d]);var y=D==="error",N=this._events;if(N!==void 0)y=y&&N.error===void 0;else if(!y)return!1;if(y){var q;if(w.length>0&&(q=w[0]),q instanceof Error)throw q;var W=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw W.context=q,W}var ee=N[D];if(ee===void 0)return!1;if(typeof ee=="function")T(ee,this,w);else for(var g=ee.length,X=k(ee,g),d=0;d<g;++d)T(X[d],this,w);return!0};function C(E,D,w,d){var y,N,q;if(m(w),N=E._events,N===void 0?(N=E._events=Object.create(null),E._eventsCount=0):(N.newListener!==void 0&&(E.emit("newListener",D,w.listener?w.listener:w),N=E._events),q=N[D]),q===void 0)q=N[D]=w,++E._eventsCount;else if(typeof q=="function"?q=N[D]=d?[w,q]:[q,w]:d?q.unshift(w):q.push(w),y=O(E),y>0&&q.length>y&&!q.warned){q.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");W.name="MaxListenersExceededWarning",W.emitter=E,W.type=D,W.count=q.length,s(W)}return E}z.prototype.addListener=function(D,w){return C(this,D,w,!1)},z.prototype.on=z.prototype.addListener,z.prototype.prependListener=function(D,w){return C(this,D,w,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(E,D,w){var d={fired:!1,wrapFn:void 0,target:E,type:D,listener:w},y=l.bind(d);return y.listener=w,d.wrapFn=y,y}z.prototype.once=function(D,w){return m(w),this.on(D,_(this,D,w)),this},z.prototype.prependOnceListener=function(D,w){return m(w),this.prependListener(D,_(this,D,w)),this},z.prototype.removeListener=function(D,w){var d,y,N,q,W;if(m(w),y=this._events,y===void 0)return this;if(d=y[D],d===void 0)return this;if(d===w||d.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete y[D],y.removeListener&&this.emit("removeListener",D,d.listener||w));else if(typeof d!="function"){for(N=-1,q=d.length-1;q>=0;q--)if(d[q]===w||d[q].listener===w){W=d[q].listener,N=q;break}if(N<0)return this;N===0?d.shift():c(d,N),d.length===1&&(y[D]=d[0]),y.removeListener!==void 0&&this.emit("removeListener",D,W||w)}return this},z.prototype.off=z.prototype.removeListener,z.prototype.removeAllListeners=function(D){var w,d,y;if(d=this._events,d===void 0)return this;if(d.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):d[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete d[D]),this;if(arguments.length===0){var N=Object.keys(d),q;for(y=0;y<N.length;++y)q=N[y],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=d[D],typeof w=="function")this.removeListener(D,w);else if(w!==void 0)for(y=w.length-1;y>=0;y--)this.removeListener(D,w[y]);return this};function b(E,D,w){var d=E._events;if(d===void 0)return[];var y=d[D];return y===void 0?[]:typeof y=="function"?w?[y.listener||y]:[y]:w?u(y):k(y,y.length)}z.prototype.listeners=function(D){return b(this,D,!0)},z.prototype.rawListeners=function(D){return b(this,D,!1)},z.listenerCount=function(E,D){return typeof E.listenerCount=="function"?E.listenerCount(D):H.call(E,D)},z.prototype.listenerCount=H;function H(E){var D=this._events;if(D!==void 0){var w=D[E];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}z.prototype.eventNames=function(){return this._eventsCount>0?S(this._events):[]};function k(E,D){for(var w=new Array(D),d=0;d<D;++d)w[d]=E[d];return w}function c(E,D){for(;D+1<E.length;D++)E[D]=E[D+1];E.pop()}function u(E){for(var D=new Array(E.length),w=0;w<D.length;++w)D[w]=E[w].listener||E[w];return D}function f(E,D){return new Promise(function(w,d){function y(q){E.removeListener(D,N),d(q)}function N(){typeof E.removeListener=="function"&&E.removeListener("error",y),w([].slice.call(arguments))}M(E,D,N,{once:!0}),D!=="error"&&h(E,y,{once:!0})})}function h(E,D,w){typeof E.on=="function"&&M(E,"error",D,w)}function M(E,D,w,d){if(typeof E.on=="function")d.once?E.once(D,w):E.on(D,w);else if(typeof E.addEventListener=="function")E.addEventListener(D,function y(N){d.once&&E.removeEventListener(D,y),w(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return Ls.exports}var Gp;function bt(){if(Gp)return Gi;Gp=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.EnhancedEventEmitter=void 0;const v=mv(),T=lt(),S=new T.Logger("EnhancedEventEmitter");class s extends v.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}close(){super.removeAllListeners()}emit(z,...R){return super.emit(z,...R)}safeEmit(z,...R){try{return super.emit(z,...R)}catch(m){S.error("safeEmit() | event listener threw an error [eventName:%s]:%o",z,m);try{super.emit("listenererror",z,m)}catch{}return!!super.listenerCount(z)}}on(z,R){return super.on(z,R),this}off(z,R){return super.off(z,R),this}addListener(z,R){return super.on(z,R),this}prependListener(z,R){return super.prependListener(z,R),this}once(z,R){return super.once(z,R),this}prependOnceListener(z,R){return super.prependOnceListener(z,R),this}removeListener(z,R){return super.off(z,R),this}removeAllListeners(z){return super.removeAllListeners(z),this}listenerCount(z){return super.listenerCount(z)}listeners(z){return super.listeners(z)}rawListeners(z){return super.rawListeners(z)}}return Gi.EnhancedEventEmitter=s,Gi}var en={},Qp;function jt(){if(Qp)return en;Qp=1,Object.defineProperty(en,"__esModule",{value:!0}),en.InvalidStateError=en.UnsupportedError=void 0;class v extends Error{constructor(s){super(s),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,v):this.stack=new Error(s).stack}}en.UnsupportedError=v;class T extends Error{constructor(s){super(s),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,T):this.stack=new Error(s).stack}}return en.InvalidStateError=T,en}var Gn={},Yp;function Yn(){if(Yp)return Gn;Yp=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.clone=v,Gn.generateRandomNumber=T,Gn.deepFreeze=S;function v(s){if(s!==void 0)return Number.isNaN(s)?NaN:typeof structuredClone=="function"?structuredClone(s):JSON.parse(JSON.stringify(s))}function T(){return Math.round(Math.random()*1e7)}function S(s){const A=Reflect.ownKeys(s);for(const z of A){const R=s[z];(R&&typeof R=="object"||typeof R=="function")&&S(R)}return Object.freeze(s)}return Gn}var tt={},Xe={},Qi={},Pp;function gv(){if(Pp)return Qi;Pp=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.Logger=void 0;const v=Bs(),T="h264-profile-level-id";class S{_debug;_warn;_error;constructor(A){A?(this._debug=(0,v.default)(`${T}:${A}`),this._warn=(0,v.default)(`${T}:WARN:${A}`),this._error=(0,v.default)(`${T}:ERROR:${A}`)):(this._debug=(0,v.default)(T),this._warn=(0,v.default)(`${T}:WARN`),this._error=(0,v.default)(`${T}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return Qi.Logger=S,Qi}var Vp;function vv(){if(Vp)return Xe;Vp=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.ProfileLevelId=Xe.Level=Xe.Profile=void 0,Xe.parseProfileLevelId=l,Xe.profileLevelIdToString=_,Xe.profileToString=b,Xe.levelToString=H,Xe.parseSdpProfileLevelId=k,Xe.isSameProfile=c,Xe.isSameProfileAndLevel=u,Xe.generateProfileLevelIdStringForAnswer=f,Xe.supportedLevel=h;const v=gv(),T=new v.Logger;var S;(function(d){d[d.ConstrainedBaseline=1]="ConstrainedBaseline",d[d.Baseline=2]="Baseline",d[d.Main=3]="Main",d[d.ConstrainedHigh=4]="ConstrainedHigh",d[d.High=5]="High",d[d.PredictiveHigh444=6]="PredictiveHigh444"})(S||(Xe.Profile=S={}));var s;(function(d){d[d.L1_b=0]="L1_b",d[d.L1=10]="L1",d[d.L1_1=11]="L1_1",d[d.L1_2=12]="L1_2",d[d.L1_3=13]="L1_3",d[d.L2=20]="L2",d[d.L2_1=21]="L2_1",d[d.L2_2=22]="L2_2",d[d.L3=30]="L3",d[d.L3_1=31]="L3_1",d[d.L3_2=32]="L3_2",d[d.L4=40]="L4",d[d.L4_1=41]="L4_1",d[d.L4_2=42]="L4_2",d[d.L5=50]="L5",d[d.L5_1=51]="L5_1",d[d.L5_2=52]="L5_2"})(s||(Xe.Level=s={}));class A{profile;level;constructor(y,N){this.profile=y,this.level=N}}Xe.ProfileLevelId=A;const z=new A(S.ConstrainedBaseline,s.L3_1);class R{mask;masked_value;constructor(y){this.mask=~M("x",y),this.masked_value=M("1",y)}isMatch(y){return this.masked_value===(y&this.mask)}}class m{profile_idc;profile_iop;profile;constructor(y,N,q){this.profile_idc=y,this.profile_iop=N,this.profile=q}}const O=[new m(66,new R("x1xx0000"),S.ConstrainedBaseline),new m(77,new R("1xxx0000"),S.ConstrainedBaseline),new m(88,new R("11xx0000"),S.ConstrainedBaseline),new m(66,new R("x0xx0000"),S.Baseline),new m(88,new R("10xx0000"),S.Baseline),new m(77,new R("0x0x0000"),S.Main),new m(100,new R("00000000"),S.High),new m(100,new R("00001100"),S.ConstrainedHigh),new m(244,new R("00000000"),S.PredictiveHigh444)],C=[{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:s.L1},{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:s.L1_b},{max_macroblocks_per_second:3e3,max_macroblock_frame_size:396,level:s.L1_1},{max_macroblocks_per_second:6e3,max_macroblock_frame_size:396,level:s.L1_2},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:s.L1_3},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:s.L2},{max_macroblocks_per_second:19800,max_macroblock_frame_size:792,level:s.L2_1},{max_macroblocks_per_second:20250,max_macroblock_frame_size:1620,level:s.L2_2},{max_macroblocks_per_second:40500,max_macroblock_frame_size:1620,level:s.L3},{max_macroblocks_per_second:108e3,max_macroblock_frame_size:3600,level:s.L3_1},{max_macroblocks_per_second:216e3,max_macroblock_frame_size:5120,level:s.L3_2},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:s.L4},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:s.L4_1},{max_macroblocks_per_second:522240,max_macroblock_frame_size:8704,level:s.L4_2},{max_macroblocks_per_second:589824,max_macroblock_frame_size:22080,level:s.L5},{max_macroblocks_per_second:983040,max_macroblock_frame_size:36864,level:s.L5_1},{max_macroblocks_per_second:2073600,max_macroblock_frame_size:36864,level:s.L5_2}];function l(d){if(typeof d!="string"||d.length!==6)return;const N=parseInt(d,16);if(N===0)return;const q=N&255,W=N>>8&255,ee=N>>16&255;let g;switch(q){case s.L1_1:{g=(W&16)!==0?s.L1_b:s.L1_1;break}case s.L1:case s.L1_2:case s.L1_3:case s.L2:case s.L2_1:case s.L2_2:case s.L3:case s.L3_1:case s.L3_2:case s.L4:case s.L4_1:case s.L4_2:case s.L5:case s.L5_1:case s.L5_2:{g=q;break}default:{T.warn(`parseProfileLevelId() | unrecognized level_idc [str:${d}, level_idc:${q}]`);return}}for(const X of O)if(ee===X.profile_idc&&X.profile_iop.isMatch(W))return T.debug(`parseProfileLevelId() | result [str:${d}, profile:${X.profile}, level:${g}]`),new A(X.profile,g);T.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${d}, profile_idc:${ee}, profile_iop:${W}]`)}function _(d){if(d.level==s.L1_b)switch(d.profile){case S.ConstrainedBaseline:return"42f00b";case S.Baseline:return"42100b";case S.Main:return"4d100b";default:{T.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${d.profile}`);return}}let y;switch(d.profile){case S.ConstrainedBaseline:{y="42e0";break}case S.Baseline:{y="4200";break}case S.Main:{y="4d00";break}case S.ConstrainedHigh:{y="640c";break}case S.High:{y="6400";break}case S.PredictiveHigh444:{y="f400";break}default:{T.warn(`profileLevelIdToString() | unrecognized profile ${d.profile}`);return}}let N=d.level.toString(16);return N.length===1&&(N=`0${N}`),`${y}${N}`}function b(d){switch(d){case S.ConstrainedBaseline:return"ConstrainedBaseline";case S.Baseline:return"Baseline";case S.Main:return"Main";case S.ConstrainedHigh:return"ConstrainedHigh";case S.High:return"High";case S.PredictiveHigh444:return"PredictiveHigh444";default:{T.warn(`profileToString() | unrecognized profile ${d}`);return}}}function H(d){switch(d){case s.L1_b:return"1b";case s.L1:return"1";case s.L1_1:return"1.1";case s.L1_2:return"1.2";case s.L1_3:return"1.3";case s.L2:return"2";case s.L2_1:return"2.1";case s.L2_2:return"2.2";case s.L3:return"3";case s.L3_1:return"3.1";case s.L3_2:return"3.2";case s.L4:return"4";case s.L4_1:return"4.1";case s.L4_2:return"4.2";case s.L5:return"5";case s.L5_1:return"5.1";case s.L5_2:return"5.2";default:{T.warn(`levelToString() | unrecognized level ${d}`);return}}}function k(d={}){const y=d["profile-level-id"];return y?l(y):z}function c(d={},y={}){const N=k(d),q=k(y);return!!(N&&q&&N.profile===q.profile)}function u(d={},y={}){const N=k(d),q=k(y);return!!(N&&q&&N.profile===q.profile&&N.level==q.level)}function f(d={},y={}){if(!d["profile-level-id"]&&!y["profile-level-id"]){T.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const N=k(d),q=k(y);if(!N)throw new TypeError("invalid local_profile_level_id");if(!q)throw new TypeError("invalid remote_profile_level_id");if(N.profile!==q.profile)throw new TypeError("H264 Profile mismatch");const W=w(d)&&w(y),ee=N.level,g=q.level,X=D(ee,g),I=W?ee:X;return T.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${N.profile}, level:${I}]`),_(new A(N.profile,I))}function h(d,y){for(let q=C.length-1;q>=0;--q){const W=C[q];if(W.max_macroblock_frame_size*256<=d&&W.max_macroblocks_per_second<=y*W.max_macroblock_frame_size)return T.debug(`supportedLevel() | result [max_frame_pixel_count:${d}, max_fps:${y}, level:${W.level}]`),W.level}T.warn(`supportedLevel() | no level supported [max_frame_pixel_count:${d}, max_fps:${y}]`)}function M(d,y){return+(y[0]===d)<<7|+(y[1]===d)<<6|+(y[2]===d)<<5|+(y[3]===d)<<4|+(y[4]===d)<<3|+(y[5]===d)<<2|+(y[6]===d)<<1|+(y[7]===d)<<0}function E(d,y){return d===s.L1_b?y!==s.L1&&y!==s.L1_b:y===s.L1_b?d!==s.L1:d<y}function D(d,y){return E(d,y)?d:y}function w(d={}){const y=d["level-asymmetry-allowed"];return y===!0||y===1||y==="1"}return Xe}var Xp;function sa(){if(Xp)return tt;Xp=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.validateAndNormalizeRtpCapabilities=z,tt.validateAndNormalizeRtpParameters=R,tt.validateAndNormalizeSctpStreamParameters=m,tt.validateSctpCapabilities=O,tt.getExtendedRtpCapabilities=C,tt.getRecvRtpCapabilities=l,tt.getSendingRtpParameters=_,tt.getSendingRemoteRtpParameters=b,tt.reduceCodecs=H,tt.generateProbatorRtpParameters=k,tt.canSend=c,tt.canReceive=u;const v=vv(),T=Yn(),S="probator",s=1234,A=127;function z(g){if(typeof g!="object")throw new TypeError("caps is not an object");if(g.codecs&&!Array.isArray(g.codecs))throw new TypeError("caps.codecs is not an array");g.codecs||(g.codecs=[]);for(const X of g.codecs)f(X);if(g.headerExtensions&&!Array.isArray(g.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");g.headerExtensions||(g.headerExtensions=[]);for(const X of g.headerExtensions)M(X)}function R(g){if(typeof g!="object")throw new TypeError("params is not an object");if(g.mid&&typeof g.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(g.codecs))throw new TypeError("missing params.codecs");for(const X of g.codecs)E(X);if(g.headerExtensions&&!Array.isArray(g.headerExtensions))throw new TypeError("params.headerExtensions is not an array");g.headerExtensions||(g.headerExtensions=[]);for(const X of g.headerExtensions)D(X);if(g.encodings&&!Array.isArray(g.encodings))throw new TypeError("params.encodings is not an array");g.encodings||(g.encodings=[]);for(const X of g.encodings)w(X);if(g.rtcp&&typeof g.rtcp!="object")throw new TypeError("params.rtcp is not an object");g.rtcp||(g.rtcp={}),d(g.rtcp)}function m(g){if(typeof g!="object")throw new TypeError("params is not an object");if(typeof g.streamId!="number")throw new TypeError("missing params.streamId");let X=!1;if(typeof g.ordered=="boolean"?X=!0:g.ordered=!0,g.maxPacketLifeTime&&typeof g.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(g.maxRetransmits&&typeof g.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(g.maxPacketLifeTime&&g.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(X&&g.ordered&&(g.maxPacketLifeTime||g.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!X&&(g.maxPacketLifeTime||g.maxRetransmits)&&(g.ordered=!1),g.label&&typeof g.label!="string")throw new TypeError("invalid params.label");if(g.protocol&&typeof g.protocol!="string")throw new TypeError("invalid params.protocol")}function O(g){if(typeof g!="object")throw new TypeError("caps is not an object");if(!g.numStreams||typeof g.numStreams!="object")throw new TypeError("missing caps.numStreams");y(g.numStreams)}function C(g,X,I){const x={codecs:[],headerExtensions:[]};if(I)for(const G of g.codecs??[]){if(N(G))continue;const $=(X.codecs??[]).find(ie=>q(ie,G,{strict:!0,modify:!0}));if(!$)continue;const te={kind:G.kind,mimeType:G.mimeType,clockRate:G.clockRate,channels:G.channels,localPayloadType:G.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:$.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:G.parameters??{},remoteParameters:$.parameters??{},rtcpFeedback:ee(G,$)};x.codecs.push(te)}else for(const G of X.codecs??[]){if(N(G))continue;const $=(g.codecs??[]).find(ie=>q(ie,G,{strict:!0,modify:!0}));if(!$)continue;const te={kind:$.kind,mimeType:$.mimeType,clockRate:$.clockRate,channels:$.channels,localPayloadType:$.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:G.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:$.parameters??{},remoteParameters:G.parameters??{},rtcpFeedback:ee($,G)};x.codecs.push(te)}for(const G of x.codecs){const $=g.codecs.find(ie=>N(ie)&&ie.parameters?.apt===G.localPayloadType),te=X.codecs.find(ie=>N(ie)&&ie.parameters?.apt===G.remotePayloadType);$&&te&&(G.localRtxPayloadType=$.preferredPayloadType,G.remoteRtxPayloadType=te.preferredPayloadType)}for(const G of X.headerExtensions){const $=g.headerExtensions.find(ie=>W(ie,G));if(!$)continue;const te={kind:G.kind,uri:G.uri,sendId:$.preferredId,recvId:G.preferredId,encrypt:$.preferredEncrypt??!1,direction:"sendrecv"};switch(G.direction){case"sendrecv":{te.direction="sendrecv";break}case"recvonly":{te.direction="sendonly";break}case"sendonly":{te.direction="recvonly";break}case"inactive":{te.direction="inactive";break}}x.headerExtensions.push(te)}return x}function l(g){const X={codecs:[],headerExtensions:[]};for(const I of g.codecs){const x={kind:I.kind,mimeType:I.mimeType,preferredPayloadType:I.remotePayloadType,clockRate:I.clockRate,channels:I.channels,parameters:I.localParameters,rtcpFeedback:I.rtcpFeedback};if(X.codecs.push(x),!I.remoteRtxPayloadType)continue;const G={kind:I.kind,mimeType:`${I.kind}/rtx`,preferredPayloadType:I.remoteRtxPayloadType,clockRate:I.clockRate,parameters:{apt:I.remotePayloadType},rtcpFeedback:[]};X.codecs.push(G)}for(const I of g.headerExtensions){if(I.direction!=="sendrecv"&&I.direction!=="recvonly")continue;const x={kind:I.kind,uri:I.uri,preferredId:I.recvId,preferredEncrypt:I.encrypt??!1,direction:I.direction};X.headerExtensions.push(x)}return X}function _(g,X){const I={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const x of X.codecs){if(x.kind!==g)continue;const G={mimeType:x.mimeType,payloadType:x.localPayloadType,clockRate:x.clockRate,channels:x.channels,parameters:x.localParameters,rtcpFeedback:x.rtcpFeedback};if(I.codecs.push(G),x.localRtxPayloadType){const $={mimeType:`${x.kind}/rtx`,payloadType:x.localRtxPayloadType,clockRate:x.clockRate,parameters:{apt:x.localPayloadType},rtcpFeedback:[]};I.codecs.push($)}}for(const x of X.headerExtensions){if(x.kind&&x.kind!==g||x.direction!=="sendrecv"&&x.direction!=="sendonly")continue;const G={uri:x.uri,id:x.sendId,encrypt:x.encrypt,parameters:{}};I.headerExtensions.push(G)}return I}function b(g,X){const I={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const x of X.codecs){if(x.kind!==g)continue;const G={mimeType:x.mimeType,payloadType:x.localPayloadType,clockRate:x.clockRate,channels:x.channels,parameters:x.remoteParameters,rtcpFeedback:x.rtcpFeedback};if(I.codecs.push(G),x.localRtxPayloadType){const $={mimeType:`${x.kind}/rtx`,payloadType:x.localRtxPayloadType,clockRate:x.clockRate,parameters:{apt:x.localPayloadType},rtcpFeedback:[]};I.codecs.push($)}}for(const x of X.headerExtensions){if(x.kind&&x.kind!==g||x.direction!=="sendrecv"&&x.direction!=="sendonly")continue;const G={uri:x.uri,id:x.sendId,encrypt:x.encrypt,parameters:{}};I.headerExtensions.push(G)}if(I.headerExtensions.some(x=>x.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const x of I.codecs)x.rtcpFeedback=(x.rtcpFeedback??[]).filter(G=>G.type!=="goog-remb");else if(I.headerExtensions.some(x=>x.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const x of I.codecs)x.rtcpFeedback=(x.rtcpFeedback??[]).filter(G=>G.type!=="transport-cc");else for(const x of I.codecs)x.rtcpFeedback=(x.rtcpFeedback??[]).filter(G=>G.type!=="transport-cc"&&G.type!=="goog-remb");return I}function H(g,X){const I=[];if(!X)I.push(g[0]),N(g[1])&&I.push(g[1]);else{for(let x=0;x<g.length;++x)if(q(g[x],X,{strict:!0})){I.push(g[x]),N(g[x+1])&&I.push(g[x+1]);break}if(I.length===0)throw new TypeError("no matching codec found")}return I}function k(g){g=T.clone(g),R(g);const X={mid:S,codecs:[],headerExtensions:[],encodings:[{ssrc:s}],rtcp:{cname:"probator"}};return X.codecs.push(g.codecs[0]),X.codecs[0].payloadType=A,X.headerExtensions=g.headerExtensions,X}function c(g,X){return(X.codecs??[]).some(I=>I.kind===g)}function u(g,X){if(R(g),g.codecs.length===0)return!1;const I=g.codecs[0];return(X.codecs??[]).some(x=>x.preferredPayloadType===I.payloadType)}function f(g){const X=new RegExp("^(audio|video)/(.+)","i");if(typeof g!="object")throw new TypeError("codec is not an object");if(!g.mimeType||typeof g.mimeType!="string")throw new TypeError("missing codec.mimeType");const I=X.exec(g.mimeType);if(!I)throw new TypeError("invalid codec.mimeType");if(g.kind=I[1].toLowerCase(),typeof g.preferredPayloadType!="number")throw new TypeError("missing codec.preferredPayloadType");if(typeof g.clockRate!="number")throw new TypeError("missing codec.clockRate");g.kind==="audio"?typeof g.channels!="number"&&(g.channels=1):delete g.channels,(!g.parameters||typeof g.parameters!="object")&&(g.parameters={});for(const x of Object.keys(g.parameters)){let G=g.parameters[x];if(G===void 0&&(g.parameters[x]="",G=""),typeof G!="string"&&typeof G!="number")throw new TypeError(`invalid codec parameter [key:${x}s, value:${G}]`);if(x==="apt"&&typeof G!="number")throw new TypeError("invalid codec apt parameter")}(!g.rtcpFeedback||!Array.isArray(g.rtcpFeedback))&&(g.rtcpFeedback=[]);for(const x of g.rtcpFeedback)h(x)}function h(g){if(typeof g!="object")throw new TypeError("fb is not an object");if(!g.type||typeof g.type!="string")throw new TypeError("missing fb.type");(!g.parameter||typeof g.parameter!="string")&&(g.parameter="")}function M(g){if(typeof g!="object")throw new TypeError("ext is not an object");if(g.kind!=="audio"&&g.kind!=="video")throw new TypeError("invalid ext.kind");if(!g.uri||typeof g.uri!="string")throw new TypeError("missing ext.uri");if(typeof g.preferredId!="number")throw new TypeError("missing ext.preferredId");if(g.preferredEncrypt&&typeof g.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(g.preferredEncrypt||(g.preferredEncrypt=!1),g.direction&&typeof g.direction!="string")throw new TypeError("invalid ext.direction");g.direction||(g.direction="sendrecv")}function E(g){const X=new RegExp("^(audio|video)/(.+)","i");if(typeof g!="object")throw new TypeError("codec is not an object");if(!g.mimeType||typeof g.mimeType!="string")throw new TypeError("missing codec.mimeType");const I=X.exec(g.mimeType);if(!I)throw new TypeError("invalid codec.mimeType");if(typeof g.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof g.clockRate!="number")throw new TypeError("missing codec.clockRate");I[1].toLowerCase()==="audio"?typeof g.channels!="number"&&(g.channels=1):delete g.channels,(!g.parameters||typeof g.parameters!="object")&&(g.parameters={});for(const G of Object.keys(g.parameters)){let $=g.parameters[G];if($===void 0&&(g.parameters[G]="",$=""),typeof $!="string"&&typeof $!="number")throw new TypeError(`invalid codec parameter [key:${G}s, value:${$}]`);if(G==="apt"&&typeof $!="number")throw new TypeError("invalid codec apt parameter")}(!g.rtcpFeedback||!Array.isArray(g.rtcpFeedback))&&(g.rtcpFeedback=[]);for(const G of g.rtcpFeedback)h(G)}function D(g){if(typeof g!="object")throw new TypeError("ext is not an object");if(!g.uri||typeof g.uri!="string")throw new TypeError("missing ext.uri");if(typeof g.id!="number")throw new TypeError("missing ext.id");if(g.encrypt&&typeof g.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");g.encrypt||(g.encrypt=!1),(!g.parameters||typeof g.parameters!="object")&&(g.parameters={});for(const X of Object.keys(g.parameters)){let I=g.parameters[X];if(I===void 0&&(g.parameters[X]="",I=""),typeof I!="string"&&typeof I!="number")throw new TypeError("invalid header extension parameter")}}function w(g){if(typeof g!="object")throw new TypeError("encoding is not an object");if(g.ssrc&&typeof g.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(g.rid&&typeof g.rid!="string")throw new TypeError("invalid encoding.rid");if(g.rtx&&typeof g.rtx!="object")throw new TypeError("invalid encoding.rtx");if(g.rtx&&typeof g.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!g.dtx||typeof g.dtx!="boolean")&&(g.dtx=!1),g.scalabilityMode&&typeof g.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function d(g){if(typeof g!="object")throw new TypeError("rtcp is not an object");if(g.cname&&typeof g.cname!="string")throw new TypeError("invalid rtcp.cname");(!g.reducedSize||typeof g.reducedSize!="boolean")&&(g.reducedSize=!0)}function y(g){if(typeof g!="object")throw new TypeError("numStreams is not an object");if(typeof g.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof g.MIS!="number")throw new TypeError("missing numStreams.MIS")}function N(g){return g?/.+\/rtx$/i.test(g.mimeType):!1}function q(g,X,{strict:I=!1,modify:x=!1}={}){const G=g.mimeType.toLowerCase(),$=X.mimeType.toLowerCase();if(G!==$||g.clockRate!==X.clockRate||g.channels!==X.channels)return!1;switch(G){case"video/h264":{if(I){const te=g.parameters["packetization-mode"]??0,ie=X.parameters["packetization-mode"]??0;if(te!==ie||!v.isSameProfile(g.parameters,X.parameters))return!1;let U;try{U=v.generateProfileLevelIdStringForAnswer(g.parameters,X.parameters)}catch{return!1}x&&(U?(g.parameters["profile-level-id"]=U,X.parameters["profile-level-id"]=U):(delete g.parameters["profile-level-id"],delete X.parameters["profile-level-id"]))}break}case"video/vp9":{if(I){const te=g.parameters["profile-id"]??0,ie=X.parameters["profile-id"]??0;if(te!==ie)return!1}break}}return!0}function W(g,X){return!(g.kind&&X.kind&&g.kind!==X.kind||g.uri!==X.uri)}function ee(g,X){const I=[];for(const x of g.rtcpFeedback??[]){const G=(X.rtcpFeedback??[]).find($=>$.type===x.type&&($.parameter===x.parameter||!$.parameter&&!x.parameter));G&&I.push(G)}return I}return tt}var Yi={},gl={},Pi={},Vi={},Zp;function yv(){if(Zp)return Vi;Zp=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.Logger=void 0;const v=Bs(),T="awaitqueue";let S=class{_debug;_warn;_error;constructor(A){A?(this._debug=v(`${T}:${A}`),this._warn=v(`${T}:WARN:${A}`),this._error=v(`${T}:ERROR:${A}`)):(this._debug=v(T),this._warn=v(`${T}:WARN`),this._error=v(`${T}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return Vi.Logger=S,Vi}var tn={},Ip;function Mh(){if(Ip)return tn;Ip=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.AwaitQueueRemovedTaskError=tn.AwaitQueueStoppedError=void 0;class v extends Error{constructor(s){super(s??"queue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,v)}}tn.AwaitQueueStoppedError=v;class T extends Error{constructor(s){super(s??"queue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,T)}}return tn.AwaitQueueRemovedTaskError=T,tn}var Fp;function _v(){if(Fp)return Pi;Fp=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.AwaitQueue=void 0;const v=yv(),T=Mh(),S=new v.Logger("AwaitQueue");let s=class{pendingTasks=new Map;nextTaskId=0;constructor(){S.debug("constructor()")}get size(){return this.pendingTasks.size}async push(z,R,m){if(R=R??z.name,S.debug(`push() [name:${R}, options:%o]`,m),typeof z!="function")throw new TypeError("given task is not a function");if(R)try{Object.defineProperty(z,"name",{value:R})}catch{}return new Promise((O,C)=>{if(R&&m?.removeOngoingTasksWithSameName)for(const _ of this.pendingTasks.values())_.name===R&&_.reject(new T.AwaitQueueRemovedTaskError,{canExecuteNextTask:!1});const l={id:this.nextTaskId++,task:z,name:R,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:_=>{if(l.completed)return;l.completed=!0,this.pendingTasks.delete(l.id),S.debug(`resolving task [name:${l.name}]`),O(_);const[b]=this.pendingTasks.values();b&&!b.executedAt&&this.execute(b)},reject:(_,{canExecuteNextTask:b})=>{if(!l.completed&&(l.completed=!0,this.pendingTasks.delete(l.id),S.debug(`rejecting task [name:${l.name}]: %s`,String(_)),C(_),b)){const[H]=this.pendingTasks.values();H&&!H.executedAt&&this.execute(H)}}};this.pendingTasks.set(l.id,l),this.pendingTasks.size===1&&this.execute(l)})}stop(){S.debug("stop()");for(const z of this.pendingTasks.values())S.debug(`stop() | stopping task [name:${z.name}]`),z.reject(new T.AwaitQueueStoppedError,{canExecuteNextTask:!1})}remove(z){S.debug(`remove() [taskIdx:${z}]`);const R=Array.from(this.pendingTasks.values())[z];if(!R){S.debug(`stop() | no task with given idx [taskIdx:${z}]`);return}R.reject(new T.AwaitQueueRemovedTaskError,{canExecuteNextTask:!0})}dump(){const z=Date.now();let R=0;return Array.from(this.pendingTasks.values()).map(m=>({idx:R++,task:m.task,name:m.name,enqueuedTime:m.executedAt?m.executedAt-m.enqueuedAt:z-m.enqueuedAt,executionTime:m.executedAt?z-m.executedAt:0}))}async execute(z){if(S.debug(`execute() [name:${z.name}]`),z.executedAt)throw new Error("task already being executed");z.executedAt=Date.now();try{const R=await z.task();z.resolve(R)}catch(R){z.reject(R,{canExecuteNextTask:!0})}}};return Pi.AwaitQueue=s,Pi}var Kp;function bv(){return Kp||(Kp=1,(function(v){Object.defineProperty(v,"__esModule",{value:!0}),v.AwaitQueueRemovedTaskError=v.AwaitQueueStoppedError=v.AwaitQueue=void 0;var T=_v();Object.defineProperty(v,"AwaitQueue",{enumerable:!0,get:function(){return T.AwaitQueue}});var S=Mh();Object.defineProperty(v,"AwaitQueueStoppedError",{enumerable:!0,get:function(){return S.AwaitQueueStoppedError}}),Object.defineProperty(v,"AwaitQueueRemovedTaskError",{enumerable:!0,get:function(){return S.AwaitQueueRemovedTaskError}})})(gl)),gl}var Xi={},Jp;function Sv(){if(Jp)return Xi;Jp=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Producer=void 0;const v=lt(),T=bt(),S=jt(),s=new v.Logger("Producer");let A=class extends T.EnhancedEventEmitter{_id;_localId;_closed=!1;_rtpSender;_track;_kind;_rtpParameters;_paused;_maxSpatialLayer;_stopTracks;_disableTrackOnPause;_zeroRtpOnPause;_appData;_observer=new T.EnhancedEventEmitter;constructor({id:R,localId:m,rtpSender:O,track:C,rtpParameters:l,stopTracks:_,disableTrackOnPause:b,zeroRtpOnPause:H,appData:k}){super(),s.debug("constructor()"),this._id=R,this._localId=m,this._rtpSender=O,this._track=C,this._kind=C.kind,this._rtpParameters=l,this._paused=b?!C.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=_,this._disableTrackOnPause=b,this._zeroRtpOnPause=H,this._appData=k??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(R){this._appData=R}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new S.InvalidStateError("closed");return new Promise((R,m)=>{this.safeEmit("@getstats",R,m)})}pause(){if(s.debug("pause()"),this._closed){s.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((R,m)=>{this.safeEmit("@pause",R,m)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(s.debug("resume()"),this._closed){s.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((R,m)=>{this.safeEmit("@resume",R,m)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:R}){if(s.debug("replaceTrack() [track:%o]",R),this._closed){if(R&&this._stopTracks)try{R.stop()}catch{}throw new S.InvalidStateError("closed")}else if(R?.readyState==="ended")throw new S.InvalidStateError("track ended");if(R===this._track){s.debug("replaceTrack() | same track, ignored");return}await new Promise((m,O)=>{this.safeEmit("@replacetrack",R,m,O)}),this.destroyTrack(),this._track=R,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(R){if(this._closed)throw new S.InvalidStateError("closed");if(this._kind!=="video")throw new S.UnsupportedError("not a video Producer");if(typeof R!="number")throw new TypeError("invalid spatialLayer");R!==this._maxSpatialLayer&&(await new Promise((m,O)=>{this.safeEmit("@setmaxspatiallayer",R,m,O)}).catch(()=>{}),this._maxSpatialLayer=R)}async setRtpEncodingParameters(R){if(this._closed)throw new S.InvalidStateError("closed");if(typeof R!="object")throw new TypeError("invalid params");await new Promise((m,O)=>{this.safeEmit("@setrtpencodingparameters",R,m,O)})}onTrackEnded(){s.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return Xi.Producer=A,Xi}var Zi={},$p;function wv(){if($p)return Zi;$p=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Consumer=void 0;const v=lt(),T=bt(),S=jt(),s=new v.Logger("Consumer");let A=class extends T.EnhancedEventEmitter{_id;_localId;_producerId;_closed=!1;_rtpReceiver;_track;_rtpParameters;_paused;_appData;_observer=new T.EnhancedEventEmitter;constructor({id:R,localId:m,producerId:O,rtpReceiver:C,track:l,rtpParameters:_,appData:b}){super(),s.debug("constructor()"),this._id=R,this._localId=m,this._producerId=O,this._rtpReceiver=C,this._track=l,this._rtpParameters=_,this._paused=!l.enabled,this._appData=b??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(R){this._appData=R}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new S.InvalidStateError("closed");return new Promise((R,m)=>{this.safeEmit("@getstats",R,m)})}pause(){if(s.debug("pause()"),this._closed){s.error("pause() | Consumer closed");return}if(this._paused){s.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(s.debug("resume()"),this._closed){s.error("resume() | Consumer closed");return}if(!this._paused){s.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){s.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return Zi.Consumer=A,Zi}var Ii={},Wp;function Cv(){if(Wp)return Ii;Wp=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.DataProducer=void 0;const v=lt(),T=bt(),S=jt(),s=new v.Logger("DataProducer");let A=class extends T.EnhancedEventEmitter{_id;_dataChannel;_closed=!1;_sctpStreamParameters;_appData;_observer=new T.EnhancedEventEmitter;constructor({id:R,dataChannel:m,sctpStreamParameters:O,appData:C}){super(),s.debug("constructor()"),this._id=R,this._dataChannel=m,this._sctpStreamParameters=O,this._appData=C??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(R){this._dataChannel.bufferedAmountLowThreshold=R}get appData(){return this._appData}set appData(R){this._appData=R}get observer(){return this._observer}close(){this._closed||(s.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(s.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(R){if(s.debug("send()"),this._closed)throw new S.InvalidStateError("closed");this._dataChannel.send(R)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(s.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",R=>{if(this._closed)return;const m=R.error??new Error("unknown DataChannel error");R.error?.errorDetail==="sctp-failure"?s.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",R.error?.sctpCauseCode,R.error.message):s.error('DataChannel "error" event: %o',m),this.safeEmit("error",m)}),this._dataChannel.addEventListener("close",()=>{this._closed||(s.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||s.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return Ii.DataProducer=A,Ii}var Fi={},eh;function Ev(){if(eh)return Fi;eh=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.DataConsumer=void 0;const v=lt(),T=bt(),S=new v.Logger("DataConsumer");let s=class extends T.EnhancedEventEmitter{_id;_dataProducerId;_dataChannel;_closed=!1;_sctpStreamParameters;_appData;_observer=new T.EnhancedEventEmitter;constructor({id:z,dataProducerId:R,dataChannel:m,sctpStreamParameters:O,appData:C}){super(),S.debug("constructor()"),this._id=z,this._dataProducerId=R,this._dataChannel=m,this._sctpStreamParameters=O,this._appData=C??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(z){this._dataChannel.binaryType=z}get appData(){return this._appData}set appData(z){this._appData=z}get observer(){return this._observer}close(){this._closed||(S.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(S.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(S.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",z=>{if(this._closed)return;const R=z.error??new Error("unknown DataChannel error");z.error?.errorDetail==="sctp-failure"?S.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",z.error?.sctpCauseCode,z.error.message):S.error('DataChannel "error" event: %o',R),this.safeEmit("error",R)}),this._dataChannel.addEventListener("close",()=>{this._closed||(S.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",z=>{this._closed||this.safeEmit("message",z.data)})}};return Fi.DataConsumer=s,Fi}var th;function Tv(){if(th)return Yi;th=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.Transport=void 0;const v=bv(),T=lt(),S=bt(),s=jt(),A=Yn(),z=sa(),R=Sv(),m=wv(),O=Cv(),C=Ev(),l=new T.Logger("Transport");class _{consumerOptions;promise;resolve;reject;constructor(k){this.consumerOptions=k,this.promise=new Promise((c,u)=>{this.resolve=c,this.reject=u})}}let b=class extends S.EnhancedEventEmitter{_id;_closed=!1;_direction;_getSendExtendedRtpCapabilities;_recvRtpCapabilities;_canProduceByKind;_maxSctpMessageSize;_handler;_iceGatheringState="new";_connectionState="new";_appData;_producers=new Map;_consumers=new Map;_dataProducers=new Map;_dataConsumers=new Map;_probatorConsumerCreated=!1;_awaitQueue=new v.AwaitQueue;_pendingConsumerTasks=[];_consumerCreationInProgress=!1;_pendingPauseConsumers=new Map;_consumerPauseInProgress=!1;_pendingResumeConsumers=new Map;_consumerResumeInProgress=!1;_pendingCloseConsumers=new Map;_consumerCloseInProgress=!1;_observer=new S.EnhancedEventEmitter;constructor({direction:k,id:c,iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M,iceServers:E,iceTransportPolicy:D,additionalSettings:w,appData:d,handlerFactory:y,getSendExtendedRtpCapabilities:N,recvRtpCapabilities:q,canProduceByKind:W}){super(),l.debug("constructor() [id:%s, direction:%s]",c,k),this._id=c,this._direction=k,this._getSendExtendedRtpCapabilities=N,this._recvRtpCapabilities=q,this._canProduceByKind=W,this._maxSctpMessageSize=M?M.maxMessageSize:null;const ee=A.clone(w)??{};delete ee.iceServers,delete ee.iceTransportPolicy,delete ee.bundlePolicy,delete ee.rtcpMuxPolicy,this._handler=y.factory({direction:k,iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M,iceServers:E,iceTransportPolicy:D,additionalSettings:ee,getSendExtendedRtpCapabilities:this._getSendExtendedRtpCapabilities}),this._appData=d??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(k){this._appData=k}get observer(){return this._observer}close(){if(!this._closed){l.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const k of this._producers.values())k.transportClosed();this._producers.clear();for(const k of this._consumers.values())k.transportClosed();this._consumers.clear();for(const k of this._dataProducers.values())k.transportClosed();this._dataProducers.clear();for(const k of this._dataConsumers.values())k.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close"),super.close(),this._observer.close()}}async getStats(){if(this._closed)throw new s.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:k}){if(l.debug("restartIce()"),this._closed)throw new s.InvalidStateError("closed");if(!k)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(k),"transport.restartIce()")}async updateIceServers({iceServers:k}={}){if(l.debug("updateIceServers()"),this._closed)throw new s.InvalidStateError("closed");if(!Array.isArray(k))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(k),"transport.updateIceServers()")}async produce({track:k,streamId:c,encodings:u,codecOptions:f,headerExtensionOptions:h,codec:M,stopTracks:E=!0,disableTrackOnPause:D=!0,zeroRtpOnPause:w=!1,onRtpSender:d,appData:y={}}={}){if(l.debug("produce() [track:%o]",k),this._closed)throw new s.InvalidStateError("closed");if(k){if(this._direction!=="send")throw new s.UnsupportedError("not a sending Transport");if(this._canProduceByKind[k.kind]){if(k.readyState==="ended")throw new s.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(y&&typeof y!="object")throw new TypeError("if given, appData must be an object")}else throw new s.UnsupportedError(`cannot produce ${k.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let N;if(u&&!Array.isArray(u))throw TypeError("encodings must be an array");u?.length===0?N=void 0:u&&(N=u.map(g=>{const X={active:!0};return g.active===!1&&(X.active=!1),typeof g.dtx=="boolean"&&(X.dtx=g.dtx),typeof g.scalabilityMode=="string"&&(X.scalabilityMode=g.scalabilityMode),typeof g.scaleResolutionDownBy=="number"&&(X.scaleResolutionDownBy=g.scaleResolutionDownBy),typeof g.maxBitrate=="number"&&(X.maxBitrate=g.maxBitrate),typeof g.maxFramerate=="number"&&(X.maxFramerate=g.maxFramerate),typeof g.adaptivePtime=="boolean"&&(X.adaptivePtime=g.adaptivePtime),typeof g.priority=="string"&&(X.priority=g.priority),typeof g.networkPriority=="string"&&(X.networkPriority=g.networkPriority),X}));const{localId:q,rtpParameters:W,rtpSender:ee}=await this._handler.send({track:k,streamId:c,encodings:N,codecOptions:f,headerExtensionOptions:h,codec:M,onRtpSender:d});try{z.validateAndNormalizeRtpParameters(W);const{id:g}=await new Promise((I,x)=>{this.safeEmit("produce",{kind:k.kind,rtpParameters:W,appData:y},I,x)}),X=new R.Producer({id:g,localId:q,rtpSender:ee,track:k,rtpParameters:W,stopTracks:E,disableTrackOnPause:D,zeroRtpOnPause:w,appData:y});return this._producers.set(X.id,X),this.handleProducer(X),this._observer.safeEmit("newproducer",X),X}catch(g){throw this._handler.stopSending(q).catch(()=>{}),g}},"transport.produce()").catch(N=>{if(E)try{k.stop()}catch{}throw N})}async consume({id:k,producerId:c,kind:u,rtpParameters:f,streamId:h,onRtpReceiver:M,appData:E={}}){if(l.debug("consume()"),this._closed)throw new s.InvalidStateError("closed");if(this._direction!=="recv")throw new s.UnsupportedError("not a receiving Transport");if(typeof k!="string")throw new TypeError("missing id");if(typeof c!="string")throw new TypeError("missing producerId");if(u!=="audio"&&u!=="video")throw new TypeError(`invalid kind '${u}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(E&&typeof E!="object")throw new TypeError("if given, appData must be an object");const D=A.clone(f);if(!z.canReceive(D,this._recvRtpCapabilities))throw new s.UnsupportedError("cannot consume this Producer");const d=new _({id:k,producerId:c,kind:u,rtpParameters:D,streamId:h,onRtpReceiver:M,appData:E});return this._pendingConsumerTasks.push(d),queueMicrotask(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),d.promise}async produceData({ordered:k=!0,maxPacketLifeTime:c,maxRetransmits:u,label:f="",protocol:h="",appData:M={}}={}){if(l.debug("produceData()"),this._closed)throw new s.InvalidStateError("closed");if(this._direction!=="send")throw new s.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(M&&typeof M!="object")throw new TypeError("if given, appData must be an object")}else throw new s.UnsupportedError("SCTP not enabled by remote Transport");return(c||u)&&(k=!1),this._awaitQueue.push(async()=>{const{dataChannel:E,sctpStreamParameters:D}=await this._handler.sendDataChannel({ordered:k,maxPacketLifeTime:c,maxRetransmits:u,label:f,protocol:h});z.validateAndNormalizeSctpStreamParameters(D);const{id:w}=await new Promise((y,N)=>{this.safeEmit("producedata",{sctpStreamParameters:D,label:f,protocol:h,appData:M},y,N)}),d=new O.DataProducer({id:w,dataChannel:E,sctpStreamParameters:D,appData:M});return this._dataProducers.set(d.id,d),this.handleDataProducer(d),this._observer.safeEmit("newdataproducer",d),d},"transport.produceData()")}async consumeData({id:k,dataProducerId:c,sctpStreamParameters:u,label:f="",protocol:h="",appData:M={}}){if(l.debug("consumeData()"),this._closed)throw new s.InvalidStateError("closed");if(this._direction!=="recv")throw new s.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof k!="string")throw new TypeError("missing id");if(typeof c!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(M&&typeof M!="object")throw new TypeError("if given, appData must be an object")}else throw new s.UnsupportedError("SCTP not enabled by remote Transport");const E=A.clone(u);return z.validateAndNormalizeSctpStreamParameters(E),this._awaitQueue.push(async()=>{const{dataChannel:D}=await this._handler.receiveDataChannel({sctpStreamParameters:E,label:f,protocol:h}),w=new C.DataConsumer({id:k,dataProducerId:c,dataChannel:D,sctpStreamParameters:E,appData:M});return this._dataConsumers.set(w.id,w),this.handleDataConsumer(w),this._observer.safeEmit("newdataconsumer",w),w},"transport.consumeData()")}createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){l.debug("createPendingConsumers() | there is no Consumer to be created");return}const k=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let c;const u=[];for(const f of k){const{id:h,kind:M,rtpParameters:E,streamId:D,onRtpReceiver:w}=f.consumerOptions;u.push({trackId:h,kind:M,rtpParameters:E,streamId:D,onRtpReceiver:w})}try{const f=await this._handler.receive(u);for(let h=0;h<f.length;++h){const M=k[h],E=f[h],{id:D,producerId:w,kind:d,rtpParameters:y,appData:N}=M.consumerOptions,{localId:q,rtpReceiver:W,track:ee}=E,g=new m.Consumer({id:D,localId:q,producerId:w,rtpReceiver:W,track:ee,rtpParameters:y,appData:N});this._consumers.set(g.id,g),this.handleConsumer(g),!this._probatorConsumerCreated&&!c&&d==="video"&&(c=g),this._observer.safeEmit("newconsumer",g),M.resolve(g)}}catch(f){for(const h of k)h.reject(f)}if(c)try{const f=z.generateProbatorRtpParameters(c.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:f}]),l.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(f){l.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",f)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){l.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const k=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const c=k.map(u=>u.localId);await this._handler.pauseReceiving(c)}catch(c){l.error("pausePendingConsumers() | failed to pause Consumers:",c)}},"transport.pausePendingConsumers()").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){l.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const k=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const c=k.map(u=>u.localId);await this._handler.resumeReceiving(c)}catch(c){l.error("resumePendingConsumers() | failed to resume Consumers:",c)}},"transport.resumePendingConsumers()").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){l.debug("closePendingConsumers() | there is no Consumer to be closed");return}const k=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(k.map(c=>c.localId))}catch(c){l.error("closePendingConsumers() | failed to close Consumers:",c)}},"transport.closePendingConsumers()").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const k=this._handler;k.on("@connect",({dtlsParameters:c},u,f)=>{if(this._closed){f(new s.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:c},u,f)}),k.on("@icegatheringstatechange",c=>{c!==this._iceGatheringState&&(l.debug("ICE gathering state changed to %s",c),this._iceGatheringState=c,this._closed||this.safeEmit("icegatheringstatechange",c))}),k.on("@icecandidateerror",c=>{l.warn(`ICE candidate error [url:${c.url}, localAddress:${c.address}, localPort:${c.port}]: ${c.errorCode} "${c.errorText}"`),this.safeEmit("icecandidateerror",c)}),k.on("@connectionstatechange",c=>{c!==this._connectionState&&(l.debug("connection state changed to %s",c),this._connectionState=c,this._closed||this.safeEmit("connectionstatechange",c))})}handleProducer(k){k.on("@close",()=>{this._producers.delete(k.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(k.localId),"producer @close event").catch(c=>l.warn("producer.close() failed:%o",c))}),k.on("@pause",(c,u)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(k.localId),"producer @pause event").then(c).catch(u)}),k.on("@resume",(c,u)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(k.localId),"producer @resume event").then(c).catch(u)}),k.on("@replacetrack",(c,u,f)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(k.localId,c),"producer @replacetrack event").then(u).catch(f)}),k.on("@setmaxspatiallayer",(c,u,f)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(k.localId,c),"producer @setmaxspatiallayer event").then(u).catch(f)}),k.on("@setrtpencodingparameters",(c,u,f)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(k.localId,c),"producer @setrtpencodingparameters event").then(u).catch(f)}),k.on("@getstats",(c,u)=>{if(this._closed)return u(new s.InvalidStateError("closed"));this._handler.getSenderStats(k.localId).then(c).catch(u)})}handleConsumer(k){k.on("@close",()=>{this._consumers.delete(k.id),this._pendingPauseConsumers.delete(k.id),this._pendingResumeConsumers.delete(k.id),!this._closed&&(this._pendingCloseConsumers.set(k.id,k),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),k.on("@pause",()=>{this._pendingResumeConsumers.has(k.id)&&this._pendingResumeConsumers.delete(k.id),this._pendingPauseConsumers.set(k.id,k),queueMicrotask(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),k.on("@resume",()=>{this._pendingPauseConsumers.has(k.id)&&this._pendingPauseConsumers.delete(k.id),this._pendingResumeConsumers.set(k.id,k),queueMicrotask(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),k.on("@getstats",(c,u)=>{if(this._closed)return u(new s.InvalidStateError("closed"));this._handler.getReceiverStats(k.localId).then(c).catch(u)})}handleDataProducer(k){k.on("@close",()=>{this._dataProducers.delete(k.id)})}handleDataConsumer(k){k.on("@close",()=>{this._dataConsumers.delete(k.id)})}};return Yi.Transport=b,Yi}var Ki={},kt={},vl={},yl={exports:{}},ah;function wl(){if(ah)return yl.exports;ah=1;var v=yl.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(T){return T.encoding?"rtpmap:%d %s/%s/%s":T.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(T){return T.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(T){return T.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(T){return"extmap:%d"+(T.direction?"/%s":"%v")+(T["encrypt-uri"]?" %s":"%v")+" %s"+(T.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(T){return T.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{push:"msid",reg:/^msid:([\w-]+)(?: ([\w-]+))?/,names:["id","appdata"],format:"msid:%s %s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(T){var S="candidate:%s %d %s %d %s %d typ %s";return S+=T.raddr!=null?" raddr %s rport %d":"%v%v",S+=T.tcptype!=null?" tcptype %s":"%v",T.generation!=null&&(S+=" generation %d"),S+=T["network-id"]!=null?" network-id %d":"%v",S+=T["network-cost"]!=null?" network-cost %d":"%v",S}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(T){var S="ssrc:%d";return T.attribute!=null&&(S+=" %s",T.value!=null&&(S+=":%s")),S}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(T){return T.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(T){return T.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(T){return"imageattr:%s %s %s"+(T.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(T){return"simulcast:%s %s"+(T.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(T){return"ts-refclk:%s"+(T.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(T){var S="mediaclk:";return S+=T.id!=null?"id=%s %s":"%v%s",S+=T.mediaClockValue!=null?"=%s":"",S+=T.rateNumerator!=null?" rate=%s":"",S+=T.rateDenominator!=null?"/%s":"",S}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(v).forEach(function(T){var S=v[T];S.forEach(function(s){s.reg||(s.reg=/(.*)/),s.format||(s.format="%s")})}),yl.exports}var nh;function Rv(){return nh||(nh=1,(function(v){var T=function(m){return String(Number(m))===m?Number(m):m},S=function(m,O,C,l){if(l&&!C)O[l]=T(m[1]);else for(var _=0;_<C.length;_+=1)m[_+1]!=null&&(O[C[_]]=T(m[_+1]))},s=function(m,O,C){var l=m.name&&m.names;m.push&&!O[m.push]?O[m.push]=[]:l&&!O[m.name]&&(O[m.name]={});var _=m.push?{}:l?O[m.name]:O;S(C.match(m.reg),_,m.names,m.name),m.push&&O[m.push].push(_)},A=wl(),z=RegExp.prototype.test.bind(/^([a-z])=(.*)/);v.parse=function(m){var O={},C=[],l=O;return m.split(/(\r\n|\r|\n)/).filter(z).forEach(function(_){var b=_[0],H=_.slice(2);b==="m"&&(C.push({rtp:[],fmtp:[]}),l=C[C.length-1]);for(var k=0;k<(A[b]||[]).length;k+=1){var c=A[b][k];if(c.reg.test(H))return s(c,l,H)}}),O.media=C,O};var R=function(m,O){var C=O.split(/=(.+)/,2);return C.length===2?m[C[0]]=T(C[1]):C.length===1&&O.length>1&&(m[C[0]]=void 0),m};v.parseParams=function(m){return m.split(/;\s?/).reduce(R,{})},v.parseFmtpConfig=v.parseParams,v.parsePayloads=function(m){return m.toString().split(" ").map(Number)},v.parseRemoteCandidates=function(m){for(var O=[],C=m.split(" ").map(T),l=0;l<C.length;l+=3)O.push({component:C[l],ip:C[l+1],port:C[l+2]});return O},v.parseImageAttributes=function(m){return m.split(" ").map(function(O){return O.substring(1,O.length-1).split(",").reduce(R,{})})},v.parseSimulcastStreamList=function(m){return m.split(";").map(function(O){return O.split(",").map(function(C){var l,_=!1;return C[0]!=="~"?l=T(C):(l=T(C.substring(1,C.length)),_=!0),{scid:l,paused:_}})})}})(vl)),vl}var _l,ih;function Dv(){if(ih)return _l;ih=1;var v=wl(),T=/%[sdv%]/g,S=function(R){var m=1,O=arguments,C=O.length;return R.replace(T,function(l){if(m>=C)return l;var _=O[m];switch(m+=1,l){case"%%":return"%";case"%s":return String(_);case"%d":return Number(_);case"%v":return""}})},s=function(R,m,O){var C=m.format instanceof Function?m.format(m.push?O:O[m.name]):m.format,l=[R+"="+C];if(m.names)for(var _=0;_<m.names.length;_+=1){var b=m.names[_];m.name?l.push(O[m.name][b]):l.push(O[m.names[_]])}else l.push(O[m.name]);return S.apply(null,l)},A=["v","o","s","i","u","e","p","c","b","t","r","z","a"],z=["i","c","b","a"];return _l=function(R,m){m=m||{},R.version==null&&(R.version=0),R.name==null&&(R.name=" "),R.media.forEach(function(_){_.payloads==null&&(_.payloads="")});var O=m.outerOrder||A,C=m.innerOrder||z,l=[];return O.forEach(function(_){v[_].forEach(function(b){b.name in R&&R[b.name]!=null?l.push(s(_,b,R)):b.push in R&&R[b.push]!=null&&R[b.push].forEach(function(H){l.push(s(_,b,H))})})}),R.media.forEach(function(_){l.push(s("m",v.m[0],_)),C.forEach(function(b){v[b].forEach(function(H){H.name in _&&_[H.name]!=null?l.push(s(b,H,_)):H.push in _&&_[H.push]!=null&&_[H.push].forEach(function(k){l.push(s(b,H,k))})})})}),l.join(`\r
`)+`\r
`},_l}var rh;function za(){if(rh)return kt;rh=1;var v=Rv(),T=Dv(),S=wl();return kt.grammar=S,kt.write=T,kt.parse=v.parse,kt.parseParams=v.parseParams,kt.parseFmtpConfig=v.parseFmtpConfig,kt.parsePayloads=v.parsePayloads,kt.parseRemoteCandidates=v.parseRemoteCandidates,kt.parseImageAttributes=v.parseImageAttributes,kt.parseSimulcastStreamList=v.parseSimulcastStreamList,kt}var As={},sh;function Pn(){if(sh)return As;sh=1,Object.defineProperty(As,"__esModule",{value:!0}),As.parse=T;const v=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function T(S){const s=v.exec(S??"");return s?{spatialLayers:Number(s[1]),temporalLayers:Number(s[2])}:{spatialLayers:1,temporalLayers:1}}return As}var Ji={},ra={},ch;function xv(){if(ch)return ra;ch=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.OfferMediaSection=ra.AnswerMediaSection=ra.MediaSection=void 0;const v=za(),T=Yn();let S=class{_mediaObject;constructor({iceParameters:m,iceCandidates:O,dtlsParameters:C}){if(this._mediaObject={type:"",port:0,protocol:"",payloads:"",rtp:[],fmtp:[]},m&&this.setIceParameters(m),O){this._mediaObject.candidates=[];for(const l of O){const _={foundation:l.foundation,component:1,ip:l.address??l.ip,port:l.port,priority:l.priority,transport:l.protocol,type:l.type};l.tcpType&&(_.tcptype=l.tcpType),this._mediaObject.candidates.push(_)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}C&&this.setDtlsRole(C.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(m){this._mediaObject.iceUfrag=m.usernameFragment,this._mediaObject.icePwd=m.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause()}close(){this.disable(),this._mediaObject.port=0,delete this._mediaObject.candidates,delete this._mediaObject.endOfCandidates,delete this._mediaObject.iceUfrag,delete this._mediaObject.icePwd,delete this._mediaObject.iceOptions,this._mediaObject.rtp=[],this._mediaObject.fmtp=[],delete this._mediaObject.rtcp,delete this._mediaObject.rtcpFb,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}};ra.MediaSection=S;class s extends S{constructor({iceParameters:m,iceCandidates:O,dtlsParameters:C,sctpParameters:l,plainRtpParameters:_,offerMediaObject:b,offerRtpParameters:H,answerRtpParameters:k,codecOptions:c}){switch(super({iceParameters:m,iceCandidates:O,dtlsParameters:C}),this._mediaObject.mid=String(b.mid),this._mediaObject.type=b.type,this._mediaObject.protocol=b.protocol,_?(this._mediaObject.connection={ip:_.ip,version:_.ipVersion},this._mediaObject.port=_.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),b.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const u of k.codecs){const f={payload:u.payloadType,codec:z(u),rate:u.clockRate};u.channels>1&&(f.encoding=u.channels),this._mediaObject.rtp.push(f);const h=T.clone(u.parameters)??{};let M=T.clone(u.rtcpFeedback)??[];if(c){const{opusStereo:D,opusFec:w,opusDtx:d,opusMaxPlaybackRate:y,opusMaxAverageBitrate:N,opusPtime:q,opusNack:W,videoGoogleStartBitrate:ee,videoGoogleMaxBitrate:g,videoGoogleMinBitrate:X}=c,I=H.codecs.find(x=>x.payloadType===u.payloadType);switch(u.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{D!==void 0&&(I.parameters["sprop-stereo"]=D?1:0,h.stereo=D?1:0),w!==void 0&&(I.parameters.useinbandfec=w?1:0,h.useinbandfec=w?1:0),d!==void 0&&(I.parameters.usedtx=d?1:0,h.usedtx=d?1:0),y!==void 0&&(h.maxplaybackrate=y),N!==void 0&&(h.maxaveragebitrate=N),q!==void 0&&(I.parameters.ptime=q,h.ptime=q),W||(I.rtcpFeedback=I.rtcpFeedback.filter(x=>x.type!=="nack"||x.parameter),M=M.filter(x=>x.type!=="nack"||x.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":case"video/av1":{ee!==void 0&&(h["x-google-start-bitrate"]=ee),g!==void 0&&(h["x-google-max-bitrate"]=g),X!==void 0&&(h["x-google-min-bitrate"]=X);break}}}const E={payload:u.payloadType,config:""};for(const D of Object.keys(h))E.config&&(E.config+=";"),E.config+=`${D}=${h[D]}`;E.config&&this._mediaObject.fmtp.push(E);for(const D of M)this._mediaObject.rtcpFb.push({payload:u.payloadType,type:D.type,subtype:D.parameter})}this._mediaObject.payloads=k.codecs.map(u=>u.payloadType).join(" "),this._mediaObject.ext=[];for(const u of k.headerExtensions)(b.ext??[]).some(h=>h.uri===u.uri)&&this._mediaObject.ext.push({uri:u.uri,value:u.id});if(b.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),b.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:b.simulcast.list1},this._mediaObject.rids=[];for(const u of b.rids??[])u.direction==="send"&&this._mediaObject.rids.push({id:u.id,direction:"recv"})}else if(b.simulcast_03){this._mediaObject.simulcast_03={value:b.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const u of b.rids??[])u.direction==="send"&&this._mediaObject.rids.push({id:u.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";break}case"application":{typeof b.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=l.port,this._mediaObject.maxMessageSize=l.maxMessageSize):b.sctpmap&&(this._mediaObject.payloads=String(l.port),this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:l.port,maxMessageSize:l.maxMessageSize});break}}}setDtlsRole(m){switch(m){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(m){if(!this._mediaObject.simulcast?.list1)return;const O={};for(const _ of m)_.rid&&(O[_.rid]=_);const C=this._mediaObject.simulcast.list1,l=v.parseSimulcastStreamList(C);for(const _ of l)for(const b of _)b.paused=!O[b.scid]?.active;this._mediaObject.simulcast.list1=l.map(_=>_.map(b=>`${b.paused?"~":""}${b.scid}`).join(",")).join(";")}}ra.AnswerMediaSection=s;class A extends S{constructor({iceParameters:m,iceCandidates:O,dtlsParameters:C,sctpParameters:l,plainRtpParameters:_,mid:b,kind:H,offerRtpParameters:k,streamId:c,trackId:u}){switch(super({iceParameters:m,iceCandidates:O,dtlsParameters:C}),this._mediaObject.mid=String(b),this._mediaObject.type=H,_?(this._mediaObject.connection={ip:_.ip,version:_.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=_.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},l?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),this._mediaObject.extmapAllowMixed="extmap-allow-mixed",H){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._mediaObject.msid=[{id:c,appdata:u}];for(const E of k.codecs){const D={payload:E.payloadType,codec:z(E),rate:E.clockRate};E.channels>1&&(D.encoding=E.channels),this._mediaObject.rtp.push(D);const w={payload:E.payloadType,config:""};for(const d of Object.keys(E.parameters??{}))w.config&&(w.config+=";"),w.config+=`${d}=${E.parameters[d]}`;w.config&&this._mediaObject.fmtp.push(w);for(const d of E.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:E.payloadType,type:d.type,subtype:d.parameter})}this._mediaObject.payloads=k.codecs.map(E=>E.payloadType).join(" "),this._mediaObject.ext=[];for(const E of k.headerExtensions)this._mediaObject.ext.push({uri:E.uri,value:E.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const f=k.encodings[0],h=f.ssrc,M=f.rtx?.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],h&&k.rtcp.cname&&this._mediaObject.ssrcs.push({id:h,attribute:"cname",value:k.rtcp.cname}),M&&(k.rtcp.cname&&this._mediaObject.ssrcs.push({id:M,attribute:"cname",value:k.rtcp.cname}),h&&this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${h} ${M}`}));break}case"application":{this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=l.port,this._mediaObject.maxMessageSize=l.maxMessageSize;break}}}setDtlsRole(m){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}}ra.OfferMediaSection=A;function z(R){const O=new RegExp("^(audio|video)/(.+)","i").exec(R.mimeType);if(!O)throw new TypeError("invalid codec.mimeType");return O[2]}return ra}var oh;function or(){if(oh)return Ji;oh=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.RemoteSdp=void 0;const v=za(),T=lt(),S=xv(),s=["av1","h264"],A=new T.Logger("RemoteSdp");let z=class{_iceParameters;_iceCandidates;_dtlsParameters;_sctpParameters;_plainRtpParameters;_mediaSections=[];_midToIndex=new Map;_firstMid;_sdpObject;constructor({iceParameters:m,iceCandidates:O,dtlsParameters:C,sctpParameters:l,plainRtpParameters:_}){if(this._iceParameters=m,this._iceCandidates=O,this._dtlsParameters=C,this._sctpParameters=l,this._plainRtpParameters=_,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:"10000",sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},this._sdpObject.iceOptions="ice2",m?.iceLite&&(this._sdpObject.icelite="ice-lite"),C){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const b=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:C.fingerprints[b-1].algorithm,hash:C.fingerprints[b-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}_&&(this._sdpObject.origin.address=_.ip,this._sdpObject.origin.ipVer=_.ipVersion)}updateIceParameters(m){A.debug("updateIceParameters() [iceParameters:%o]",m),this._iceParameters=m,this._sdpObject.icelite=m.iceLite?"ice-lite":void 0;for(const O of this._mediaSections)O.setIceParameters(m)}updateDtlsRole(m){A.debug("updateDtlsRole() [role:%s]",m),this._dtlsParameters.role=m;for(const O of this._mediaSections)O.setDtlsRole(m)}setSessionExtmapAllowMixed(){A.debug("setSessionExtmapAllowMixed()"),this._sdpObject.extmapAllowMixed="extmap-allow-mixed"}getNextMediaSectionIdx(){for(let m=0;m<this._mediaSections.length;++m){const O=this._mediaSections[m];if(O.closed)return{idx:m,reuseMid:O.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:m,reuseMid:O,offerRtpParameters:C,answerRtpParameters:l,codecOptions:_}){const b=new S.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:m,offerRtpParameters:C,answerRtpParameters:l,codecOptions:_}),H=b.getObject();H.rtp.find(c=>s.includes(c.codec.toLowerCase()))||(H.ext=H.ext?.filter(c=>c.uri!=="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension")),O?this.replaceMediaSection(b,O):this._midToIndex.has(b.mid)?this.replaceMediaSection(b):this.addMediaSection(b)}receive({mid:m,kind:O,offerRtpParameters:C,streamId:l,trackId:_}){this.setSessionExtmapAllowMixed();const b=new S.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,mid:m,kind:O,offerRtpParameters:C,streamId:l,trackId:_}),H=this._mediaSections.find(k=>k.closed);H?this.replaceMediaSection(b,H.mid):this.addMediaSection(b)}pauseMediaSection(m){this.findMediaSection(m).pause()}resumeSendingMediaSection(m){this.findMediaSection(m).resume()}resumeReceivingMediaSection(m){this.findMediaSection(m).resume()}disableMediaSection(m){this.findMediaSection(m).disable()}closeMediaSection(m){const O=this.findMediaSection(m);return m===this._firstMid?(A.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",m),this.disableMediaSection(m),!1):(O.close(),this.regenerateBundleMids(),!0)}muxMediaSectionSimulcast(m,O){const C=this.findMediaSection(m);C.muxSimulcastStreams(O),this.replaceMediaSection(C)}sendSctpAssociation({offerMediaObject:m}){const O=new S.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:m});this.addMediaSection(O)}receiveSctpAssociation(){const m=new S.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application"});this.addMediaSection(m)}getSdp(){return this._sdpObject.origin.sessionVersion++,v.write(this._sdpObject)}addMediaSection(m){this._firstMid||(this._firstMid=m.mid),this._mediaSections.push(m),this._midToIndex.set(m.mid,this._mediaSections.length-1),this._sdpObject.media.push(m.getObject()),this.regenerateBundleMids()}replaceMediaSection(m,O){if(typeof O=="string"){const C=this._midToIndex.get(O);if(C===void 0)throw new Error(`no media section found for reuseMid '${O}'`);const l=this._mediaSections[C];this._mediaSections[C]=m,this._midToIndex.delete(l.mid),this._midToIndex.set(m.mid,C),this._sdpObject.media[C]=m.getObject(),this.regenerateBundleMids()}else{const C=this._midToIndex.get(m.mid);if(C===void 0)throw new Error(`no media section found with mid '${m.mid}'`);this._mediaSections[C]=m,this._sdpObject.media[C]=m.getObject()}}findMediaSection(m){const O=this._midToIndex.get(m);if(O===void 0)throw new Error(`no media section found with mid '${m}'`);return this._mediaSections[O]}regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(m=>!m.closed).map(m=>m.mid).join(" "))}};return Ji.RemoteSdp=z,Ji}var Aa={},lh;function lr(){if(lh)return Aa;lh=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.extractRtpCapabilities=T,Aa.extractDtlsParameters=S,Aa.getCname=s,Aa.applyCodecParameters=A,Aa.addHeaderExtension=z;const v=za();function T({sdpObject:R}){const m=new Map,O=new Map;for(const l of R.media){const _=l.type;switch(_){case"audio":case"video":break;default:continue}for(const b of l.rtp){const H={kind:_,mimeType:`${_}/${b.codec}`,preferredPayloadType:b.payload,clockRate:b.rate,channels:b.encoding,parameters:{},rtcpFeedback:[]};m.set(H.preferredPayloadType,H)}for(const b of l.fmtp??[]){const H=v.parseParams(b.config),k=m.get(b.payload);k&&(H?.hasOwnProperty("profile-level-id")&&(H["profile-level-id"]=String(H["profile-level-id"])),k.parameters=H)}for(const b of l.rtcpFb??[]){const H={type:b.type,parameter:b.subtype};if(H.parameter||delete H.parameter,b.payload!=="*"){const k=m.get(Number(b.payload));if(!k)continue;k.rtcpFeedback.push(H)}else for(const k of m.values())k.kind===_&&!/.+\/rtx$/i.test(k.mimeType)&&k.rtcpFeedback.push(H)}for(const b of l.ext??[]){if(b["encrypt-uri"])continue;const H={kind:_,uri:b.uri,preferredId:b.value};O.set(H.preferredId,H)}}return{codecs:Array.from(m.values()),headerExtensions:Array.from(O.values())}}function S({sdpObject:R}){let m=R.setup,O=R.fingerprint;if(!m||!O){const _=(R.media??[]).find(b=>b.port!==0);_&&(m=m??_.setup,O=O??_.fingerprint)}if(m){if(!O)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let C;switch(m){case"active":{C="client";break}case"passive":{C="server";break}case"actpass":{C="auto";break}}return{role:C,fingerprints:[{algorithm:O.type,value:O.hash}]}}function s({offerMediaObject:R}){const m=(R.ssrcs??[]).find(O=>O.attribute==="cname");return m?m.value:""}function A({offerRtpParameters:R,answerMediaObject:m}){for(const O of R.codecs){const C=O.mimeType.toLowerCase();if(C!=="audio/opus"||!(m.rtp??[]).find(H=>H.payload===O.payloadType))continue;m.fmtp=m.fmtp??[];let _=m.fmtp.find(H=>H.payload===O.payloadType);_||(_={payload:O.payloadType,config:""},m.fmtp.push(_));const b=v.parseParams(_.config);if(C==="audio/opus"){const H=O.parameters?.["sprop-stereo"];H!==void 0&&(b.stereo=Number(H)?1:0)}_.config="";for(const H of Object.keys(b))_.config&&(_.config+=";"),_.config+=`${H}=${b[H]}`}}function z({offerMediaObject:R,headerExtensionUri:m,headerExtensionId:O}){R.ext||(R.ext=[]),R.ext.push({uri:m,value:O})}return Aa}var $i={},uh;function ur(){if(uh)return $i;uh=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.getRtpEncodings=v,$i.addLegacySimulcast=T;function v({offerMediaObject:S}){const s=new Set;for(const R of S.ssrcs??[]){const m=R.id;m&&s.add(m)}if(s.size===0)throw new Error("no a=ssrc lines found");const A=new Map;for(const R of S.ssrcGroups??[]){if(R.semantics!=="FID")continue;const m=R.ssrcs.split(/\s+/),O=Number(m[0]),C=Number(m[1]);s.has(O)&&(s.delete(O),s.delete(C),A.set(O,C))}for(const R of s)A.set(R,void 0);const z=[];for(const[R,m]of A){const O={ssrc:R};m&&(O.rtx={ssrc:m}),z.push(O)}return z}function T({offerMediaObject:S,numStreams:s}){if(s<=1)throw new TypeError("numStreams must be greater than 1");const A=(S.ssrcs??[]).find(H=>H.attribute==="msid");if(!A)throw new Error("a=ssrc line with msid information not found");const[z,R]=A.value.split(" "),m=Number(A.id);let O;(S.ssrcGroups??[]).some(H=>{if(H.semantics!=="FID")return!1;const k=H.ssrcs.split(/\s+/);return Number(k[0])===m?(O=Number(k[1]),!0):!1});const C=(S.ssrcs??[]).find(H=>H.attribute==="cname");if(!C)throw new Error("a=ssrc line with cname information not found");const l=C.value,_=[],b=[];for(let H=0;H<s;++H)_.push(m+H),O&&b.push(O+H);S.ssrcGroups=[],S.ssrcs=[],S.ssrcGroups.push({semantics:"SIM",ssrcs:_.join(" ")});for(const H of _)S.ssrcs.push({id:H,attribute:"cname",value:l}),S.ssrcs.push({id:H,attribute:"msid",value:`${z} ${R}`});for(let H=0;H<b.length;++H){const k=_[H],c=b[H];S.ssrcs.push({id:c,attribute:"cname",value:l}),S.ssrcs.push({id:c,attribute:"msid",value:`${z} ${R}`}),S.ssrcGroups.push({semantics:"FID",ssrcs:`${k} ${c}`})}}return $i}var Qn={},dh;function dr(){if(dh)return Qn;dh=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.addNackSupportForOpus=v,Qn.addHeaderExtensionSupport=T,Qn.getMsidStreamIdAndTrackId=S;function v(s){for(const A of s.codecs??[])(A.mimeType.toLowerCase()==="audio/opus"||A.mimeType.toLowerCase()==="audio/multiopus")&&!A.rtcpFeedback?.some(z=>z.type==="nack"&&!z.parameter)&&(A.rtcpFeedback||(A.rtcpFeedback=[]),A.rtcpFeedback.push({type:"nack"}))}function T(s,A){let z;const R=s.headerExtensions?.find(O=>O.uri===A.uri);if(R){if(R.kind===A.kind)return;z=R.preferredId}if(s.headerExtensions||(s.headerExtensions=[]),z===void 0){z=1;const O=new Set(s.headerExtensions.map(C=>C.preferredId));for(;O.has(z);)++z}const m={kind:A.kind,uri:A.uri,preferredId:z,preferredEncrypt:!1,direction:A.direction};s.headerExtensions.push(m)}function S(s){if(!s||typeof s!="string")return{msidStreamId:void 0,msidTrackId:void 0};const[A,z]=s.trim().split(/\s+/);return A?{msidStreamId:A,msidTrackId:z}:{msidStreamId:void 0,msidTrackId:void 0}}return Qn}var fh;function Mv(){if(fh)return Ki;fh=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.Chrome111=void 0;const v=za(),T=bt(),S=lt(),s=sa(),A=jt(),z=Pn(),R=or(),m=lr(),O=ur(),C=dr(),l=new S.Logger("Chrome111"),_="Chrome111",b={OS:1024,MIS:1024};let H=class Ns extends T.EnhancedEventEmitter{_closed=!1;_direction;_remoteSdp;_getSendExtendedRtpCapabilities;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:_,factory:c=>new Ns(c),getNativeRtpCapabilities:async()=>{l.debug("getNativeRtpCapabilities()");let c=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{c.addTransceiver("audio"),c.addTransceiver("video",{sendEncodings:[{scalabilityMode:"L3T3"}]});const u=await c.createOffer();try{c.close()}catch{}c=void 0;const f=v.parse(u.sdp);return Ns.getLocalRtpCapabilities(f)}catch(u){try{c?.close()}catch{}throw c=void 0,u}},getNativeSctpCapabilities:async()=>(l.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(c,u=[]){const f=m.extractRtpCapabilities({sdpObject:c});s.validateAndNormalizeRtpCapabilities(f),C.addNackSupportForOpus(f);for(const h of u)C.addHeaderExtensionSupport(f,h);return f}constructor({direction:c,iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M,iceServers:E,iceTransportPolicy:D,additionalSettings:w,getSendExtendedRtpCapabilities:d}){super(),l.debug("constructor()"),this._direction=c,this._remoteSdp=new R.RemoteSdp({iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M}),this._getSendExtendedRtpCapabilities=d,h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...w}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(l.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}get name(){return _}close(){if(l.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(c){this.assertNotClosed(),l.debug("updateIceServers()");const u=this._pc.getConfiguration();u.iceServers=c,this._pc.setConfiguration(u)}async restartIce(c){if(this.assertNotClosed(),l.debug("restartIce()"),this._remoteSdp.updateIceParameters(c),!!this._transportReady)if(this._direction==="send"){const u=await this._pc.createOffer({iceRestart:!0});l.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const f={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:c,streamId:u,encodings:f,codecOptions:h,headerExtensionOptions:M,codec:E,onRtpSender:D}){if(this.assertNotClosed(),this.assertSendDirection(),l.debug("send() [kind:%s, track.id:%s, streamId:%s]",c.kind,c.id,u),f&&f.length>1){let $=1;for(const te of f){const ie=te.scalabilityMode?(0,z.parse)(te.scalabilityMode).temporalLayers:3;ie>$&&($=ie)}f.forEach((te,ie)=>{te.rid=`r${ie}`,te.scalabilityMode=`L1T${$}`})}const w=this._remoteSdp.getNextMediaSectionIdx(),d=this._pc.addTransceiver(c,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});D&&D(d.sender);let y=await this._pc.createOffer(),N=v.parse(y.sdp);N.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const q=[];q.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:c.kind,direction:"sendonly"});const W=Ns.getLocalRtpCapabilities(N,q),ee=this._getSendExtendedRtpCapabilities(W),g=s.getSendingRtpParameters(c.kind,ee);g.codecs=s.reduceCodecs(g.codecs,E);const X=s.getSendingRemoteRtpParameters(c.kind,ee);if(X.codecs=s.reduceCodecs(X.codecs,E),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N}),M?.absCaptureTime){const $=N.media[w.idx];m.addHeaderExtension({offerMediaObject:$,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:X.headerExtensions.find(te=>te.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),y={type:"offer",sdp:v.write(N)}}l.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y);const I=d.mid;g.mid=I,N=v.parse(this._pc.localDescription.sdp);const x=N.media[w.idx];if(g.rtcp.cname=m.getCname({offerMediaObject:x}),g.msid=`${u??this._sendStream.id} ${c.id}`,!f)g.encodings=O.getRtpEncodings({offerMediaObject:x});else if(f.length===1){const $=O.getRtpEncodings({offerMediaObject:x});Object.assign($[0],f[0]),g.encodings=$}else g.encodings=f;this._remoteSdp.send({offerMediaObject:x,reuseMid:w.reuseMid,offerRtpParameters:g,answerRtpParameters:X,codecOptions:h});const G={type:"answer",sdp:this._remoteSdp.getSdp()};return l.debug("send() | calling pc.setRemoteDescription() [answer:%o]",G),await this._pc.setRemoteDescription(G),this._mapMidTransceiver.set(I,d),{localId:I,rtpParameters:g,rtpSender:d.sender}}async stopSending(c){if(this.assertSendDirection(),l.debug("stopSending() [localId:%s]",c),this._closed)return;const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");if(u.sender.replaceTrack(null),this._pc.removeTrack(u.sender),this._remoteSdp.closeMediaSection(u.mid))try{u.stop()}catch{}const h=await this._pc.createOffer();l.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const M={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.delete(c)}async pauseSending(c){this.assertNotClosed(),this.assertSendDirection(),l.debug("pauseSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="inactive",this._remoteSdp.pauseMediaSection(c);const f=await this._pc.createOffer();l.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async resumeSending(c){this.assertNotClosed(),this.assertSendDirection(),l.debug("resumeSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(this._remoteSdp.resumeSendingMediaSection(c),!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="sendonly";const f=await this._pc.createOffer();l.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async replaceTrack(c,u){this.assertNotClosed(),this.assertSendDirection(),u?l.debug("replaceTrack() [localId:%s, track.id:%s]",c,u.id):l.debug("replaceTrack() [localId:%s, no track]",c);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(u)}async setMaxSpatialLayer(c,u){this.assertNotClosed(),this.assertSendDirection(),l.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",c,u);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");const h=f.sender.getParameters();h.encodings.forEach((D,w)=>{w<=u?D.active=!0:D.active=!1}),await f.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(c,h.encodings);const M=await this._pc.createOffer();l.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const E={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async setRtpEncodingParameters(c,u){this.assertNotClosed(),this.assertSendDirection(),l.debug("setRtpEncodingParameters() [localId:%s, params:%o]",c,u);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");const h=f.sender.getParameters();h.encodings.forEach((D,w)=>{h.encodings[w]={...D,...u}}),await f.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(c,h.encodings);const M=await this._pc.createOffer();l.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const E={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async getSenderStats(c){this.assertNotClosed(),this.assertSendDirection();const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");return u.sender.getStats()}async sendDataChannel({ordered:c,maxPacketLifeTime:u,maxRetransmits:f,label:h,protocol:M}){this.assertNotClosed(),this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:c,maxPacketLifeTime:u,maxRetransmits:f,protocol:M};l.debug("sendDataChannel() [options:%o]",E);const D=this._pc.createDataChannel(h,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const d=await this._pc.createOffer(),y=v.parse(d.sdp),N=y.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:y}),l.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const q={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const w={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:D,sctpStreamParameters:w}}async receive(c){this.assertNotClosed(),this.assertRecvDirection();const u=[],f=new Map;for(const D of c){const{trackId:w,kind:d,rtpParameters:y,streamId:N}=D;l.debug("receive() [trackId:%s, kind:%s]",w,d);const q=y.mid??String(this._mapMidTransceiver.size);f.set(w,q);const{msidStreamId:W}=C.getMsidStreamIdAndTrackId(y.msid);this._remoteSdp.receive({mid:q,kind:d,offerRtpParameters:y,streamId:N??W??y.rtcp?.cname??"-",trackId:w})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);for(const D of c){const{trackId:w,onRtpReceiver:d}=D;if(d){const y=f.get(w),N=this._pc.getTransceivers().find(q=>q.mid===y);if(!N)throw new Error("transceiver not found");d(N.receiver)}}let M=await this._pc.createAnswer();const E=v.parse(M.sdp);for(const D of c){const{trackId:w,rtpParameters:d}=D,y=f.get(w),N=E.media.find(q=>String(q.mid)===y);m.applyCodecParameters({offerRtpParameters:d,answerMediaObject:N})}M={type:"answer",sdp:v.write(E)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),l.debug("receive() | calling pc.setLocalDescription() [answer:%o]",M),await this._pc.setLocalDescription(M);for(const D of c){const{trackId:w}=D,d=f.get(w),y=this._pc.getTransceivers().find(N=>N.mid===d);if(y)this._mapMidTransceiver.set(d,y),u.push({localId:d,track:y.receiver.track,rtpReceiver:y.receiver});else throw new Error("new RTCRtpTransceiver not found")}return u}async stopReceiving(c){if(this.assertRecvDirection(),this._closed)return;for(const h of c){l.debug("stopReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(M.mid)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const h of c)this._mapMidTransceiver.delete(h)}async pauseReceiving(c){this.assertNotClosed(),this.assertRecvDirection();for(const h of c){l.debug("pauseReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="inactive",this._remoteSdp.pauseMediaSection(h)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(c){this.assertNotClosed(),this.assertRecvDirection();for(const h of c){l.debug("resumeReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(h)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(c){this.assertNotClosed(),this.assertRecvDirection();const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");return u.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:c,label:u,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:h,ordered:M,maxPacketLifeTime:E,maxRetransmits:D}=c,w={negotiated:!0,id:h,ordered:M,maxPacketLifeTime:E,maxRetransmits:D,protocol:f};l.debug("receiveDataChannel() [options:%o]",w);const d=this._pc.createDataChannel(u,w);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const y={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",y),await this._pc.setRemoteDescription(y);const N=await this._pc.createAnswer();if(!this._transportReady){const q=v.parse(N.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}l.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport({localDtlsRole:c,localSdpObject:u}){u||(u=v.parse(this._pc.localDescription.sdp));const f=m.extractDtlsParameters({sdpObject:u});f.role=c,this._remoteSdp.updateDtlsRole(c==="client"?"server":"client"),await new Promise((h,M)=>{this.safeEmit("@connect",{dtlsParameters:f},h,M)}),this._transportReady=!0}onIceGatheringStateChange=()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)};onIceCandidateError=c=>{this.emit("@icecandidateerror",c)};onConnectionStateChange=()=>{this.emit("@connectionstatechange",this._pc.connectionState)};onIceConnectionStateChange=()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}};assertNotClosed(){if(this._closed)throw new A.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Ki.Chrome111=H,Ki}var Wi={},ph;function Ov(){if(ph)return Wi;ph=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.Chrome74=void 0;const v=za(),T=lt(),S=bt(),s=sa(),A=jt(),z=Pn(),R=or(),m=lr(),O=ur(),C=dr(),l=new T.Logger("Chrome74"),_="Chrome74",b={OS:1024,MIS:1024};let H=class ks extends S.EnhancedEventEmitter{_closed=!1;_direction;_remoteSdp;_getSendExtendedRtpCapabilities;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:_,factory:c=>new ks(c),getNativeRtpCapabilities:async()=>{l.debug("getNativeRtpCapabilities()");let c=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{c.addTransceiver("audio"),c.addTransceiver("video");const u=await c.createOffer();try{c.close()}catch{}c=void 0;const f=v.parse(u.sdp);return ks.getLocalRtpCapabilities(f)}catch(u){try{c?.close()}catch{}throw c=void 0,u}},getNativeSctpCapabilities:async()=>(l.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(c,u=[]){const f=m.extractRtpCapabilities({sdpObject:c});s.validateAndNormalizeRtpCapabilities(f),C.addNackSupportForOpus(f);for(const h of u)C.addHeaderExtensionSupport(f,h);return f}constructor({direction:c,iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M,iceServers:E,iceTransportPolicy:D,additionalSettings:w,getSendExtendedRtpCapabilities:d}){super(),l.debug("constructor()"),this._direction=c,this._remoteSdp=new R.RemoteSdp({iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M}),this._getSendExtendedRtpCapabilities=d,h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...w}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(l.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}get name(){return _}close(){if(l.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(c){this.assertNotClosed(),l.debug("updateIceServers()");const u=this._pc.getConfiguration();u.iceServers=c,this._pc.setConfiguration(u)}async restartIce(c){if(this.assertNotClosed(),l.debug("restartIce()"),this._remoteSdp.updateIceParameters(c),!!this._transportReady)if(this._direction==="send"){const u=await this._pc.createOffer({iceRestart:!0});l.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const f={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:c,streamId:u,encodings:f,codecOptions:h,headerExtensionOptions:M,codec:E}){this.assertNotClosed(),this.assertSendDirection(),l.debug("send() [kind:%s, track.id:%s, streamId:%s]",c.kind,c.id,u),f&&f.length>1&&f.forEach((te,ie)=>{te.rid=`r${ie}`});const D=this._remoteSdp.getNextMediaSectionIdx(),w=this._pc.addTransceiver(c,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});let d=await this._pc.createOffer(),y=v.parse(d.sdp);y.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const N=[];N.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:c.kind,direction:"sendonly"});const q=ks.getLocalRtpCapabilities(y,N),W=this._getSendExtendedRtpCapabilities(q),ee=s.getSendingRtpParameters(c.kind,W);ee.codecs=s.reduceCodecs(ee.codecs,E);const g=s.getSendingRemoteRtpParameters(c.kind,W);g.codecs=s.reduceCodecs(g.codecs,E),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:y});let X=!1;const I=(0,z.parse)((f??[{}])[0].scalabilityMode);let x;f?.length===1&&I.spatialLayers>1&&ee.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(l.debug("send() | enabling legacy simulcast for VP9 SVC"),X=!0,y=v.parse(d.sdp),x=y.media[D.idx],O.addLegacySimulcast({offerMediaObject:x,numStreams:I.spatialLayers}),d={type:"offer",sdp:v.write(y)}),l.debug("send() | calling pc.setLocalDescription() [offer:%o]",d),M?.absCaptureTime&&(x=y.media[D.idx],m.addHeaderExtension({offerMediaObject:x,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:g.headerExtensions.find(te=>te.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),d={type:"offer",sdp:v.write(y)}),await this._pc.setLocalDescription(d);const G=w.mid;if(ee.mid=G,y=v.parse(this._pc.localDescription.sdp),x=y.media[D.idx],ee.rtcp.cname=m.getCname({offerMediaObject:x}),ee.msid=`${u??this._sendStream.id} ${c.id}`,!f)ee.encodings=O.getRtpEncodings({offerMediaObject:x});else if(f.length===1){let te=O.getRtpEncodings({offerMediaObject:x});Object.assign(te[0],f[0]),X&&(te=[te[0]]),ee.encodings=te}else ee.encodings=f;if(ee.encodings.length>1&&(ee.codecs[0].mimeType.toLowerCase()==="video/vp8"||ee.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const te of ee.encodings)te.scalabilityMode?te.scalabilityMode=`L1T${I.temporalLayers}`:te.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:x,reuseMid:D.reuseMid,offerRtpParameters:ee,answerRtpParameters:g,codecOptions:h});const $={type:"answer",sdp:this._remoteSdp.getSdp()};return l.debug("send() | calling pc.setRemoteDescription() [answer:%o]",$),await this._pc.setRemoteDescription($),this._mapMidTransceiver.set(G,w),{localId:G,rtpParameters:ee,rtpSender:w.sender}}async stopSending(c){if(this.assertSendDirection(),l.debug("stopSending() [localId:%s]",c),this._closed)return;const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");if(u.sender.replaceTrack(null),this._pc.removeTrack(u.sender),this._remoteSdp.closeMediaSection(u.mid))try{u.stop()}catch{}const h=await this._pc.createOffer();l.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const M={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.delete(c)}async pauseSending(c){this.assertNotClosed(),this.assertSendDirection(),l.debug("pauseSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="inactive",this._remoteSdp.pauseMediaSection(c);const f=await this._pc.createOffer();l.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async resumeSending(c){this.assertNotClosed(),this.assertSendDirection(),l.debug("resumeSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(this._remoteSdp.resumeSendingMediaSection(c),!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="sendonly";const f=await this._pc.createOffer();l.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async replaceTrack(c,u){this.assertNotClosed(),this.assertSendDirection(),u?l.debug("replaceTrack() [localId:%s, track.id:%s]",c,u.id):l.debug("replaceTrack() [localId:%s, no track]",c);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(u)}async setMaxSpatialLayer(c,u){this.assertNotClosed(),this.assertSendDirection(),l.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",c,u);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");const h=f.sender.getParameters();h.encodings.forEach((D,w)=>{w<=u?D.active=!0:D.active=!1}),await f.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(c,h.encodings);const M=await this._pc.createOffer();l.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const E={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async setRtpEncodingParameters(c,u){this.assertNotClosed(),this.assertSendDirection(),l.debug("setRtpEncodingParameters() [localId:%s, params:%o]",c,u);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");const h=f.sender.getParameters();h.encodings.forEach((D,w)=>{h.encodings[w]={...D,...u}}),await f.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(c,h.encodings);const M=await this._pc.createOffer();l.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const E={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async getSenderStats(c){this.assertNotClosed(),this.assertSendDirection();const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");return u.sender.getStats()}async sendDataChannel({ordered:c,maxPacketLifeTime:u,maxRetransmits:f,label:h,protocol:M}){this.assertNotClosed(),this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:c,maxPacketLifeTime:u,maxRetransmits:f,protocol:M};l.debug("sendDataChannel() [options:%o]",E);const D=this._pc.createDataChannel(h,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const d=await this._pc.createOffer(),y=v.parse(d.sdp),N=y.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:y}),l.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const q={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const w={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:D,sctpStreamParameters:w}}async receive(c){this.assertNotClosed(),this.assertRecvDirection();const u=[],f=new Map;for(const D of c){const{trackId:w,kind:d,rtpParameters:y,streamId:N}=D;l.debug("receive() [trackId:%s, kind:%s]",w,d);const q=y.mid??String(this._mapMidTransceiver.size);f.set(w,q);const{msidStreamId:W}=C.getMsidStreamIdAndTrackId(y.msid);this._remoteSdp.receive({mid:q,kind:d,offerRtpParameters:y,streamId:N??W??y.rtcp?.cname??"-",trackId:w})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);let M=await this._pc.createAnswer();const E=v.parse(M.sdp);for(const D of c){const{trackId:w,rtpParameters:d}=D,y=f.get(w),N=E.media.find(q=>String(q.mid)===y);m.applyCodecParameters({offerRtpParameters:d,answerMediaObject:N})}M={type:"answer",sdp:v.write(E)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),l.debug("receive() | calling pc.setLocalDescription() [answer:%o]",M),await this._pc.setLocalDescription(M);for(const D of c){const{trackId:w}=D,d=f.get(w),y=this._pc.getTransceivers().find(N=>N.mid===d);if(y)this._mapMidTransceiver.set(d,y),u.push({localId:d,track:y.receiver.track,rtpReceiver:y.receiver});else throw new Error("new RTCRtpTransceiver not found")}return u}async stopReceiving(c){if(this.assertRecvDirection(),this._closed)return;for(const h of c){l.debug("stopReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(M.mid)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const h of c)this._mapMidTransceiver.delete(h)}async pauseReceiving(c){this.assertNotClosed(),this.assertRecvDirection();for(const h of c){l.debug("pauseReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="inactive",this._remoteSdp.pauseMediaSection(h)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(c){this.assertNotClosed(),this.assertRecvDirection();for(const h of c){l.debug("resumeReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(h)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(c){this.assertNotClosed(),this.assertRecvDirection();const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");return u.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:c,label:u,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:h,ordered:M,maxPacketLifeTime:E,maxRetransmits:D}=c,w={negotiated:!0,id:h,ordered:M,maxPacketLifeTime:E,maxRetransmits:D,protocol:f};l.debug("receiveDataChannel() [options:%o]",w);const d=this._pc.createDataChannel(u,w);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const y={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",y),await this._pc.setRemoteDescription(y);const N=await this._pc.createAnswer();if(!this._transportReady){const q=v.parse(N.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}l.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport({localDtlsRole:c,localSdpObject:u}){u||(u=v.parse(this._pc.localDescription.sdp));const f=m.extractDtlsParameters({sdpObject:u});f.role=c,this._remoteSdp.updateDtlsRole(c==="client"?"server":"client"),await new Promise((h,M)=>{this.safeEmit("@connect",{dtlsParameters:f},h,M)}),this._transportReady=!0}onIceGatheringStateChange=()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)};onIceCandidateError=c=>{this.emit("@icecandidateerror",c)};onConnectionStateChange=()=>{this.emit("@connectionstatechange",this._pc.connectionState)};onIceConnectionStateChange=()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}};assertNotClosed(){if(this._closed)throw new A.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Wi.Chrome74=H,Wi}var er={},hh;function Lv(){if(hh)return er;hh=1,Object.defineProperty(er,"__esModule",{value:!0}),er.Firefox120=void 0;const v=za(),T=bt(),S=lt(),s=jt(),A=sa(),z=Pn(),R=or(),m=lr(),O=ur(),C=dr(),l=new S.Logger("Firefox120"),_="Firefox120",b={OS:16,MIS:2048};let H=class js extends T.EnhancedEventEmitter{_closed=!1;_direction;_remoteSdp;_getSendExtendedRtpCapabilities;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:_,factory:c=>new js(c),getNativeRtpCapabilities:async()=>{l.debug("getNativeRtpCapabilities()");let c=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});const u=document.createElement("canvas");u.getContext("2d");const h=u.captureStream().getVideoTracks()[0];try{c.addTransceiver("audio",{direction:"sendrecv"}),c.addTransceiver(h,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const M=await c.createOffer();try{u.remove()}catch{}try{h.stop()}catch{}try{c.close()}catch{}c=void 0;const E=v.parse(M.sdp);return js.getLocalRtpCapabilities(E)}catch(M){try{u.remove()}catch{}try{h.stop()}catch{}try{c?.close()}catch{}throw c=void 0,M}},getNativeSctpCapabilities:async()=>(l.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(c){const u=m.extractRtpCapabilities({sdpObject:c});return A.validateAndNormalizeRtpCapabilities(u),u}constructor({direction:c,iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M,iceServers:E,iceTransportPolicy:D,additionalSettings:w,getSendExtendedRtpCapabilities:d}){super(),l.debug("constructor()"),this._direction=c,this._remoteSdp=new R.RemoteSdp({iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M}),this._getSendExtendedRtpCapabilities=d,this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...w}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(l.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}get name(){return _}close(){if(l.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(c){throw this.assertNotClosed(),new s.UnsupportedError("not supported")}async restartIce(c){if(this.assertNotClosed(),l.debug("restartIce()"),this._remoteSdp.updateIceParameters(c),!!this._transportReady)if(this._direction==="send"){const u=await this._pc.createOffer({iceRestart:!0});l.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const f={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:c,streamId:u,encodings:f,codecOptions:h,codec:M,onRtpSender:E}){this.assertNotClosed(),this.assertSendDirection(),l.debug("send() [kind:%s, track.id:%s, streamId:%s]",c.kind,c.id,u),f&&f.length>1&&f.forEach((x,G)=>{x.rid=`r${G}`});const D=this._pc.addTransceiver(c,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});E&&E(D.sender);const w=await this._pc.createOffer();let d=v.parse(w.sdp);d.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const y=js.getLocalRtpCapabilities(d),N=this._getSendExtendedRtpCapabilities(y),q=A.getSendingRtpParameters(c.kind,N);q.codecs=A.reduceCodecs(q.codecs,M);const W=A.getSendingRemoteRtpParameters(c.kind,N);W.codecs=A.reduceCodecs(W.codecs,M),this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:d});const ee=(0,z.parse)((f??[{}])[0].scalabilityMode);l.debug("send() | calling pc.setLocalDescription() [offer:%o]",w),await this._pc.setLocalDescription(w);const g=D.mid;q.mid=g,d=v.parse(this._pc.localDescription.sdp);const X=d.media[d.media.length-1];if(q.rtcp.cname=m.getCname({offerMediaObject:X}),q.msid=`${u??this._sendStream.id} ${c.id}`,!f)q.encodings=O.getRtpEncodings({offerMediaObject:X});else if(f.length===1){const x=O.getRtpEncodings({offerMediaObject:X});Object.assign(x[0],f[0]),q.encodings=x}else q.encodings=f;if(q.encodings.length>1&&(q.codecs[0].mimeType.toLowerCase()==="video/vp8"||q.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const x of q.encodings)x.scalabilityMode?x.scalabilityMode=`L1T${ee.temporalLayers}`:x.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:X,offerRtpParameters:q,answerRtpParameters:W,codecOptions:h});const I={type:"answer",sdp:this._remoteSdp.getSdp()};return l.debug("send() | calling pc.setRemoteDescription() [answer:%o]",I),await this._pc.setRemoteDescription(I),this._mapMidTransceiver.set(g,D),{localId:g,rtpParameters:q,rtpSender:D.sender}}async stopSending(c){if(this.assertSendDirection(),l.debug("stopSending() [localId:%s]",c),this._closed)return;const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated transceiver not found");u.sender.replaceTrack(null),this._pc.removeTrack(u.sender),this._remoteSdp.disableMediaSection(u.mid);const f=await this._pc.createOffer();l.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h),this._mapMidTransceiver.delete(c)}async pauseSending(c){this.assertNotClosed(),this.assertSendDirection(),l.debug("pauseSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="inactive",this._remoteSdp.pauseMediaSection(c);const f=await this._pc.createOffer();l.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async resumeSending(c){this.assertNotClosed(),this.assertSendDirection(),l.debug("resumeSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(c);const f=await this._pc.createOffer();l.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async replaceTrack(c,u){this.assertNotClosed(),this.assertSendDirection(),u?l.debug("replaceTrack() [localId:%s, track.id:%s]",c,u.id):l.debug("replaceTrack() [localId:%s, no track]",c);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(u)}async setMaxSpatialLayer(c,u){this.assertNotClosed(),this.assertSendDirection(),l.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",c,u);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated transceiver not found");const h=f.sender.getParameters();h.encodings.forEach((D,w)=>{w<=u?D.active=!0:D.active=!1}),await f.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(c,h.encodings);const M=await this._pc.createOffer();l.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const E={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async setRtpEncodingParameters(c,u){this.assertNotClosed(),this.assertSendDirection(),l.debug("setRtpEncodingParameters() [localId:%s, params:%o]",c,u);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");const h=f.sender.getParameters();h.encodings.forEach((D,w)=>{h.encodings[w]={...D,...u}}),await f.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(c,h.encodings);const M=await this._pc.createOffer();l.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const E={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async getSenderStats(c){this.assertNotClosed(),this.assertSendDirection();const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");return u.sender.getStats()}async sendDataChannel({ordered:c,maxPacketLifeTime:u,maxRetransmits:f,label:h,protocol:M}){this.assertNotClosed(),this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:c,maxPacketLifeTime:u,maxRetransmits:f,protocol:M};l.debug("sendDataChannel() [options:%o]",E);const D=this._pc.createDataChannel(h,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const d=await this._pc.createOffer(),y=v.parse(d.sdp),N=y.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:y}),l.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const q={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const w={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:D,sctpStreamParameters:w}}async receive(c){this.assertNotClosed(),this.assertRecvDirection();const u=[],f=new Map;for(const D of c){const{trackId:w,kind:d,rtpParameters:y,streamId:N}=D;l.debug("receive() [trackId:%s, kind:%s]",w,d);const q=y.mid??String(this._mapMidTransceiver.size);f.set(w,q);const{msidStreamId:W}=C.getMsidStreamIdAndTrackId(y.msid);this._remoteSdp.receive({mid:q,kind:d,offerRtpParameters:y,streamId:N??W??y.rtcp?.cname??"-",trackId:w})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);for(const D of c){const{trackId:w,onRtpReceiver:d}=D;if(d){const y=f.get(w),N=this._pc.getTransceivers().find(q=>q.mid===y);if(!N)throw new Error("transceiver not found");d(N.receiver)}}let M=await this._pc.createAnswer();const E=v.parse(M.sdp);for(const D of c){const{trackId:w,rtpParameters:d}=D,y=f.get(w),N=E.media.find(q=>String(q.mid)===y);m.applyCodecParameters({offerRtpParameters:d,answerMediaObject:N}),M={type:"answer",sdp:v.write(E)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:E}),l.debug("receive() | calling pc.setLocalDescription() [answer:%o]",M),await this._pc.setLocalDescription(M);for(const D of c){const{trackId:w}=D,d=f.get(w),y=this._pc.getTransceivers().find(N=>N.mid===d);if(!y)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(d,y),u.push({localId:d,track:y.receiver.track,rtpReceiver:y.receiver})}return u}async stopReceiving(c){if(this.assertRecvDirection(),this._closed)return;for(const h of c){l.debug("stopReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(M.mid)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const h of c)this._mapMidTransceiver.delete(h)}async pauseReceiving(c){this.assertNotClosed(),this.assertRecvDirection();for(const h of c){l.debug("pauseReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="inactive",this._remoteSdp.pauseMediaSection(h)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(c){this.assertNotClosed(),this.assertRecvDirection();for(const h of c){l.debug("resumeReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(h)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(c){this.assertRecvDirection();const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");return u.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:c,label:u,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:h,ordered:M,maxPacketLifeTime:E,maxRetransmits:D}=c,w={negotiated:!0,id:h,ordered:M,maxPacketLifeTime:E,maxRetransmits:D,protocol:f};l.debug("receiveDataChannel() [options:%o]",w);const d=this._pc.createDataChannel(u,w);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const y={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",y),await this._pc.setRemoteDescription(y);const N=await this._pc.createAnswer();if(!this._transportReady){const q=v.parse(N.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:q})}l.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport({localDtlsRole:c,localSdpObject:u}){u||(u=v.parse(this._pc.localDescription.sdp));const f=m.extractDtlsParameters({sdpObject:u});f.role=c,this._remoteSdp.updateDtlsRole(c==="client"?"server":"client"),await new Promise((h,M)=>{this.safeEmit("@connect",{dtlsParameters:f},h,M)}),this._transportReady=!0}onIceGatheringStateChange=()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)};onIceCandidateError=c=>{this.emit("@icecandidateerror",c)};onConnectionStateChange=()=>{this.emit("@connectionstatechange",this._pc.connectionState)};onIceConnectionStateChange=()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}};assertNotClosed(){if(this._closed)throw new s.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return er.Firefox120=H,er}var tr={},mh;function Av(){if(mh)return tr;mh=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.Safari12=void 0;const v=za(),T=bt(),S=lt(),s=sa(),A=jt(),z=Pn(),R=or(),m=lr(),O=ur(),C=dr(),l=new S.Logger("Safari12"),_="Safari12",b={OS:1024,MIS:1024};let H=class Us extends T.EnhancedEventEmitter{_closed=!1;_direction;_remoteSdp;_getSendExtendedRtpCapabilities;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:_,factory:c=>new Us(c),getNativeRtpCapabilities:async()=>{l.debug("getNativeRtpCapabilities()");let c=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{c.addTransceiver("audio"),c.addTransceiver("video");const u=await c.createOffer();try{c.close()}catch{}c=void 0;const f=v.parse(u.sdp);return Us.getLocalRtpCapabilities(f)}catch(u){try{c?.close()}catch{}throw c=void 0,u}},getNativeSctpCapabilities:async()=>(l.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(c,u=[]){const f=m.extractRtpCapabilities({sdpObject:c});s.validateAndNormalizeRtpCapabilities(f),C.addNackSupportForOpus(f);for(const h of u)C.addHeaderExtensionSupport(f,h);return f}constructor({direction:c,iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M,iceServers:E,iceTransportPolicy:D,additionalSettings:w,getSendExtendedRtpCapabilities:d}){super(),l.debug("constructor()"),this._direction=c,this._remoteSdp=new R.RemoteSdp({iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M}),this._getSendExtendedRtpCapabilities=d,h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...w}),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.addEventListener("icecandidateerror",y=>{this.emit("@icecandidateerror",y)}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(l.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}get name(){return _}close(){if(l.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(c){this.assertNotClosed(),l.debug("updateIceServers()");const u=this._pc.getConfiguration();u.iceServers=c,this._pc.setConfiguration(u)}async restartIce(c){if(this.assertNotClosed(),l.debug("restartIce()"),this._remoteSdp.updateIceParameters(c),!!this._transportReady)if(this._direction==="send"){const u=await this._pc.createOffer({iceRestart:!0});l.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const f={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:c,streamId:u,encodings:f,codecOptions:h,headerExtensionOptions:M,codec:E,onRtpSender:D}){this.assertNotClosed(),this.assertSendDirection(),l.debug("send() [kind:%s, track.id:%s, streamId:%s]",c.kind,c.id,u);const w=this._remoteSdp.getNextMediaSectionIdx(),d=this._pc.addTransceiver(c,{direction:"sendonly",streams:[this._sendStream]});D&&D(d.sender);let y=await this._pc.createOffer(),N=v.parse(y.sdp);N.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const q=[];q.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:c.kind,direction:"sendonly"});const W=Us.getLocalRtpCapabilities(N,q),ee=this._getSendExtendedRtpCapabilities(W),g=s.getSendingRtpParameters(c.kind,ee);g.codecs=s.reduceCodecs(g.codecs,E);const X=s.getSendingRemoteRtpParameters(c.kind,ee);X.codecs=s.reduceCodecs(X.codecs,E);let I;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N});const x=(0,z.parse)((f??[{}])[0].scalabilityMode);f&&f.length>1&&(l.debug("send() | enabling legacy simulcast"),N=v.parse(y.sdp),I=N.media[w.idx],O.addLegacySimulcast({offerMediaObject:I,numStreams:f.length}),y={type:"offer",sdp:v.write(N)}),M?.absCaptureTime&&(I=N.media[w.idx],m.addHeaderExtension({offerMediaObject:I,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:X.headerExtensions.find(te=>te.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),y={type:"offer",sdp:v.write(N)}),l.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y);const G=d.mid;if(g.mid=G,N=v.parse(this._pc.localDescription.sdp),I=N.media[w.idx],g.rtcp.cname=m.getCname({offerMediaObject:I}),g.msid=`${u??this._sendStream.id} ${c.id}`,g.encodings=O.getRtpEncodings({offerMediaObject:I}),f)for(let te=0;te<g.encodings.length;++te)f[te]&&Object.assign(g.encodings[te],f[te]);if(g.encodings.length>1&&(g.codecs[0].mimeType.toLowerCase()==="video/vp8"||g.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const te of g.encodings)te.scalabilityMode?te.scalabilityMode=`L1T${x.temporalLayers}`:te.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:I,reuseMid:w.reuseMid,offerRtpParameters:g,answerRtpParameters:X,codecOptions:h});const $={type:"answer",sdp:this._remoteSdp.getSdp()};return l.debug("send() | calling pc.setRemoteDescription() [answer:%o]",$),await this._pc.setRemoteDescription($),this._mapMidTransceiver.set(G,d),{localId:G,rtpParameters:g,rtpSender:d.sender}}async stopSending(c){if(this.assertSendDirection(),this._closed)return;l.debug("stopSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");if(u.sender.replaceTrack(null),this._pc.removeTrack(u.sender),this._remoteSdp.closeMediaSection(u.mid))try{u.stop()}catch{}const h=await this._pc.createOffer();l.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const M={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.delete(c)}async pauseSending(c){this.assertNotClosed(),this.assertSendDirection(),l.debug("pauseSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="inactive",this._remoteSdp.pauseMediaSection(c);const f=await this._pc.createOffer();l.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async resumeSending(c){this.assertNotClosed(),this.assertSendDirection(),l.debug("resumeSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(c);const f=await this._pc.createOffer();l.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async replaceTrack(c,u){this.assertNotClosed(),this.assertSendDirection(),u?l.debug("replaceTrack() [localId:%s, track.id:%s]",c,u.id):l.debug("replaceTrack() [localId:%s, no track]",c);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(u)}async setMaxSpatialLayer(c,u){this.assertNotClosed(),this.assertSendDirection(),l.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",c,u);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");const h=f.sender.getParameters();h.encodings.forEach((D,w)=>{w<=u?D.active=!0:D.active=!1}),await f.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(c,h.encodings);const M=await this._pc.createOffer();l.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const E={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async setRtpEncodingParameters(c,u){this.assertNotClosed(),this.assertSendDirection(),l.debug("setRtpEncodingParameters() [localId:%s, params:%o]",c,u);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");const h=f.sender.getParameters();h.encodings.forEach((D,w)=>{h.encodings[w]={...D,...u}}),await f.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(c,h.encodings);const M=await this._pc.createOffer();l.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const E={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async getSenderStats(c){this.assertNotClosed(),this.assertSendDirection();const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");return u.sender.getStats()}async sendDataChannel({ordered:c,maxPacketLifeTime:u,maxRetransmits:f,label:h,protocol:M}){this.assertNotClosed(),this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:c,maxPacketLifeTime:u,maxRetransmits:f,protocol:M};l.debug("sendDataChannel() [options:%o]",E);const D=this._pc.createDataChannel(h,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const d=await this._pc.createOffer(),y=v.parse(d.sdp),N=y.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:y}),l.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const q={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const w={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:D,sctpStreamParameters:w}}async receive(c){this.assertNotClosed(),this.assertRecvDirection();const u=[],f=new Map;for(const D of c){const{trackId:w,kind:d,rtpParameters:y,streamId:N}=D;l.debug("receive() [trackId:%s, kind:%s]",w,d);const q=y.mid??String(this._mapMidTransceiver.size);f.set(w,q);const{msidStreamId:W}=C.getMsidStreamIdAndTrackId(y.msid);this._remoteSdp.receive({mid:q,kind:d,offerRtpParameters:y,streamId:N??W??y.rtcp?.cname??"-",trackId:w})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);for(const D of c){const{trackId:w,onRtpReceiver:d}=D;if(d){const y=f.get(w),N=this._pc.getTransceivers().find(q=>q.mid===y);if(!N)throw new Error("transceiver not found");d(N.receiver)}}let M=await this._pc.createAnswer();const E=v.parse(M.sdp);for(const D of c){const{trackId:w,rtpParameters:d}=D,y=f.get(w),N=E.media.find(q=>String(q.mid)===y);m.applyCodecParameters({offerRtpParameters:d,answerMediaObject:N})}M={type:"answer",sdp:v.write(E)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),l.debug("receive() | calling pc.setLocalDescription() [answer:%o]",M),await this._pc.setLocalDescription(M);for(const D of c){const{trackId:w}=D,d=f.get(w),y=this._pc.getTransceivers().find(N=>N.mid===d);if(!y)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(d,y),u.push({localId:d,track:y.receiver.track,rtpReceiver:y.receiver})}return u}async stopReceiving(c){if(this.assertRecvDirection(),this._closed)return;for(const h of c){l.debug("stopReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(M.mid)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const h of c)this._mapMidTransceiver.delete(h)}async pauseReceiving(c){this.assertNotClosed(),this.assertRecvDirection();for(const h of c){l.debug("pauseReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="inactive",this._remoteSdp.pauseMediaSection(h)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(c){this.assertNotClosed(),this.assertRecvDirection();for(const h of c){l.debug("resumeReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(h)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(c){this.assertNotClosed(),this.assertRecvDirection();const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");return u.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:c,label:u,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:h,ordered:M,maxPacketLifeTime:E,maxRetransmits:D}=c,w={negotiated:!0,id:h,ordered:M,maxPacketLifeTime:E,maxRetransmits:D,protocol:f};l.debug("receiveDataChannel() [options:%o]",w);const d=this._pc.createDataChannel(u,w);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const y={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",y),await this._pc.setRemoteDescription(y);const N=await this._pc.createAnswer();if(!this._transportReady){const q=v.parse(N.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}l.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport({localDtlsRole:c,localSdpObject:u}){u||(u=v.parse(this._pc.localDescription.sdp));const f=m.extractDtlsParameters({sdpObject:u});f.role=c,this._remoteSdp.updateDtlsRole(c==="client"?"server":"client"),await new Promise((h,M)=>{this.safeEmit("@connect",{dtlsParameters:f},h,M)}),this._transportReady=!0}onIceGatheringStateChange=()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)};onIceCandidateError=c=>{this.emit("@icecandidateerror",c)};onConnectionStateChange=()=>{this.emit("@connectionstatechange",this._pc.connectionState)};onIceConnectionStateChange=()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}};assertNotClosed(){if(this._closed)throw new A.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return tr.Safari12=H,tr}var ar={},gh;function zv(){if(gh)return ar;gh=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.ReactNative106=void 0;const v=za(),T=bt(),S=lt(),s=sa(),A=jt(),z=Pn(),R=or(),m=lr(),O=ur(),C=dr(),l=new S.Logger("ReactNative106"),_="ReactNative106",b={OS:1024,MIS:1024};let H=class qs extends T.EnhancedEventEmitter{_closed=!1;_direction;_remoteSdp;_getSendExtendedRtpCapabilities;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:_,factory:c=>new qs(c),getNativeRtpCapabilities:async()=>{l.debug("getNativeRtpCapabilities()");let c=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{c.addTransceiver("audio"),c.addTransceiver("video");const u=await c.createOffer();try{c.close()}catch{}c=void 0;const f=v.parse(u.sdp);return qs.getLocalRtpCapabilities(f)}catch(u){try{c?.close()}catch{}throw c=void 0,u}},getNativeSctpCapabilities:async()=>(l.debug("getNativeSctpCapabilities()"),{numStreams:b})}}static getLocalRtpCapabilities(c,u=[]){const f=m.extractRtpCapabilities({sdpObject:c});s.validateAndNormalizeRtpCapabilities(f),C.addNackSupportForOpus(f);for(const h of u)C.addHeaderExtensionSupport(f,h);return f}constructor({direction:c,iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M,iceServers:E,iceTransportPolicy:D,additionalSettings:w,getSendExtendedRtpCapabilities:d}){super(),l.debug("constructor()"),this._direction=c,this._remoteSdp=new R.RemoteSdp({iceParameters:u,iceCandidates:f,dtlsParameters:h,sctpParameters:M}),this._getSendExtendedRtpCapabilities=d,h.role&&h.role!=="auto"&&(this._forcedLocalDtlsRole=h.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:E??[],iceTransportPolicy:D??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...w}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(l.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}get name(){return _}close(){if(l.debug("close()"),!this._closed){this._closed=!0,this._sendStream.release(!1);try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(c){this.assertNotClosed(),l.debug("updateIceServers()");const u=this._pc.getConfiguration();u.iceServers=c,this._pc.setConfiguration(u)}async restartIce(c){if(this.assertNotClosed(),l.debug("restartIce()"),this._remoteSdp.updateIceParameters(c),!!this._transportReady)if(this._direction==="send"){const u=await this._pc.createOffer({iceRestart:!0});l.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const f={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",f),await this._pc.setRemoteDescription(f)}else{const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:c,streamId:u,encodings:f,codecOptions:h,headerExtensionOptions:M,codec:E,onRtpSender:D}){this.assertNotClosed(),this.assertSendDirection(),l.debug("send() [kind:%s, track.id:%s, streamId:%s]",c.kind,c.id,u),f&&f.length>1&&f.forEach((ie,U)=>{ie.rid=`r${U}`});const w=this._remoteSdp.getNextMediaSectionIdx(),d=this._pc.addTransceiver(c,{direction:"sendonly",streams:[this._sendStream],sendEncodings:f});D&&D(d.sender);let y=await this._pc.createOffer(),N=v.parse(y.sdp);N.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const q=[];q.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:c.kind,direction:"sendonly"});const W=qs.getLocalRtpCapabilities(N,q),ee=this._getSendExtendedRtpCapabilities(W),g=s.getSendingRtpParameters(c.kind,ee);g.codecs=s.reduceCodecs(g.codecs,E);const X=s.getSendingRemoteRtpParameters(c.kind,ee);X.codecs=s.reduceCodecs(X.codecs,E),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:N});let I=!1;const x=(0,z.parse)((f??[{}])[0].scalabilityMode);let G;f?.length===1&&x.spatialLayers>1&&g.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(l.debug("send() | enabling legacy simulcast for VP9 SVC"),I=!0,N=v.parse(y.sdp),G=N.media[w.idx],O.addLegacySimulcast({offerMediaObject:G,numStreams:x.spatialLayers}),y={type:"offer",sdp:v.write(N)}),M?.absCaptureTime&&(G=N.media[w.idx],m.addHeaderExtension({offerMediaObject:G,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:X.headerExtensions.find(ie=>ie.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),y={type:"offer",sdp:v.write(N)}),l.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),await this._pc.setLocalDescription(y);let $=d.mid??void 0;if($||l.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),g.mid=$,N=v.parse(this._pc.localDescription.sdp),G=N.media[w.idx],g.rtcp.cname=m.getCname({offerMediaObject:G}),g.msid=`${u??this._sendStream.id} ${c.id}`,!f)g.encodings=O.getRtpEncodings({offerMediaObject:G});else if(f.length===1){let ie=O.getRtpEncodings({offerMediaObject:G});Object.assign(ie[0],f[0]),I&&(ie=[ie[0]]),g.encodings=ie}else g.encodings=f;if(g.encodings.length>1&&(g.codecs[0].mimeType.toLowerCase()==="video/vp8"||g.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const ie of g.encodings)ie.scalabilityMode?ie.scalabilityMode=`L1T${x.temporalLayers}`:ie.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:G,reuseMid:w.reuseMid,offerRtpParameters:g,answerRtpParameters:X,codecOptions:h});const te={type:"answer",sdp:this._remoteSdp.getSdp()};return l.debug("send() | calling pc.setRemoteDescription() [answer:%o]",te),await this._pc.setRemoteDescription(te),$||($=d.mid,g.mid=$),this._mapMidTransceiver.set($,d),{localId:$,rtpParameters:g,rtpSender:d.sender}}async stopSending(c){if(this.assertSendDirection(),this._closed)return;l.debug("stopSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");if(u.sender.replaceTrack(null),this._pc.removeTrack(u.sender),this._remoteSdp.closeMediaSection(u.mid))try{u.stop()}catch{}const h=await this._pc.createOffer();l.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h);const M={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",M),await this._pc.setRemoteDescription(M),this._mapMidTransceiver.delete(c)}async pauseSending(c){this.assertNotClosed(),this.assertSendDirection(),l.debug("pauseSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="inactive",this._remoteSdp.pauseMediaSection(c);const f=await this._pc.createOffer();l.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async resumeSending(c){this.assertNotClosed(),this.assertSendDirection(),l.debug("resumeSending() [localId:%s]",c);const u=this._mapMidTransceiver.get(c);if(this._remoteSdp.resumeSendingMediaSection(c),!u)throw new Error("associated RTCRtpTransceiver not found");u.direction="sendonly";const f=await this._pc.createOffer();l.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const h={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h)}async replaceTrack(c,u){this.assertNotClosed(),this.assertSendDirection(),u?l.debug("replaceTrack() [localId:%s, track.id:%s]",c,u.id):l.debug("replaceTrack() [localId:%s, no track]",c);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");await f.sender.replaceTrack(u)}async setMaxSpatialLayer(c,u){this.assertNotClosed(),this.assertSendDirection(),l.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",c,u);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");const h=f.sender.getParameters();h.encodings.forEach((D,w)=>{w<=u?D.active=!0:D.active=!1}),await f.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(c,h.encodings);const M=await this._pc.createOffer();l.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const E={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async setRtpEncodingParameters(c,u){this.assertNotClosed(),this.assertSendDirection(),l.debug("setRtpEncodingParameters() [localId:%s, params:%o]",c,u);const f=this._mapMidTransceiver.get(c);if(!f)throw new Error("associated RTCRtpTransceiver not found");const h=f.sender.getParameters();h.encodings.forEach((D,w)=>{h.encodings[w]={...D,...u}}),await f.sender.setParameters(h),this._remoteSdp.muxMediaSectionSimulcast(c,h.encodings);const M=await this._pc.createOffer();l.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",M),await this._pc.setLocalDescription(M);const E={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",E),await this._pc.setRemoteDescription(E)}async getSenderStats(c){this.assertNotClosed(),this.assertSendDirection();const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");return u.sender.getStats()}async sendDataChannel({ordered:c,maxPacketLifeTime:u,maxRetransmits:f,label:h,protocol:M}){this.assertNotClosed(),this.assertSendDirection();const E={negotiated:!0,id:this._nextSendSctpStreamId,ordered:c,maxPacketLifeTime:u,maxRetransmits:f,protocol:M};l.debug("sendDataChannel() [options:%o]",E);const D=this._pc.createDataChannel(h,E);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%b.MIS,!this._hasDataChannelMediaSection){const d=await this._pc.createOffer(),y=v.parse(d.sdp),N=y.media.find(W=>W.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:y}),l.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),await this._pc.setLocalDescription(d),this._remoteSdp.sendSctpAssociation({offerMediaObject:N});const q={type:"answer",sdp:this._remoteSdp.getSdp()};l.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",q),await this._pc.setRemoteDescription(q),this._hasDataChannelMediaSection=!0}const w={streamId:E.id,ordered:E.ordered,maxPacketLifeTime:E.maxPacketLifeTime,maxRetransmits:E.maxRetransmits};return{dataChannel:D,sctpStreamParameters:w}}async receive(c){this.assertNotClosed(),this.assertRecvDirection();const u=[],f=new Map;for(const D of c){const{trackId:w,kind:d,rtpParameters:y,streamId:N}=D;l.debug("receive() [trackId:%s, kind:%s]",w,d);const q=y.mid??String(this._mapMidTransceiver.size);f.set(w,q);const{msidStreamId:W}=C.getMsidStreamIdAndTrackId(y.msid);this._remoteSdp.receive({mid:q,kind:d,offerRtpParameters:y,streamId:N??W??y.rtcp?.cname??"-",trackId:w})}const h={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);for(const D of c){const{trackId:w,onRtpReceiver:d}=D;if(d){const y=f.get(w),N=this._pc.getTransceivers().find(q=>q.mid===y);if(!N)throw new Error("transceiver not found");d(N.receiver)}}let M=await this._pc.createAnswer();const E=v.parse(M.sdp);for(const D of c){const{trackId:w,rtpParameters:d}=D,y=f.get(w),N=E.media.find(q=>String(q.mid)===y);m.applyCodecParameters({offerRtpParameters:d,answerMediaObject:N})}M={type:"answer",sdp:v.write(E)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),l.debug("receive() | calling pc.setLocalDescription() [answer:%o]",M),await this._pc.setLocalDescription(M);for(const D of c){const{trackId:w}=D,d=f.get(w),y=this._pc.getTransceivers().find(N=>N.mid===d);if(y)this._mapMidTransceiver.set(d,y),u.push({localId:d,track:y.receiver.track,rtpReceiver:y.receiver});else throw new Error("new RTCRtpTransceiver not found")}return u}async stopReceiving(c){if(this.assertRecvDirection(),this._closed)return;for(const h of c){l.debug("stopReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(M.mid)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f);for(const h of c)this._mapMidTransceiver.delete(h)}async pauseReceiving(c){this.assertNotClosed(),this.assertRecvDirection();for(const h of c){l.debug("pauseReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="inactive",this._remoteSdp.pauseMediaSection(h)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async resumeReceiving(c){this.assertNotClosed(),this.assertRecvDirection();for(const h of c){l.debug("resumeReceiving() [localId:%s]",h);const M=this._mapMidTransceiver.get(h);if(!M)throw new Error("associated RTCRtpTransceiver not found");M.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(h)}const u={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",u),await this._pc.setRemoteDescription(u);const f=await this._pc.createAnswer();l.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",f),await this._pc.setLocalDescription(f)}async getReceiverStats(c){this.assertNotClosed(),this.assertRecvDirection();const u=this._mapMidTransceiver.get(c);if(!u)throw new Error("associated RTCRtpTransceiver not found");return u.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:c,label:u,protocol:f}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:h,ordered:M,maxPacketLifeTime:E,maxRetransmits:D}=c,w={negotiated:!0,id:h,ordered:M,maxPacketLifeTime:E,maxRetransmits:D,protocol:f};l.debug("receiveDataChannel() [options:%o]",w);const d=this._pc.createDataChannel(u,w);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const y={type:"offer",sdp:this._remoteSdp.getSdp()};l.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",y),await this._pc.setRemoteDescription(y);const N=await this._pc.createAnswer();if(!this._transportReady){const q=v.parse(N.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:q})}l.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",N),await this._pc.setLocalDescription(N),this._hasDataChannelMediaSection=!0}return{dataChannel:d}}async setupTransport({localDtlsRole:c,localSdpObject:u}){u||(u=v.parse(this._pc.localDescription.sdp));const f=m.extractDtlsParameters({sdpObject:u});f.role=c,this._remoteSdp.updateDtlsRole(c==="client"?"server":"client"),await new Promise((h,M)=>{this.safeEmit("@connect",{dtlsParameters:f},h,M)}),this._transportReady=!0}onIceGatheringStateChange=()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)};onIceCandidateError=c=>{this.emit("@icecandidateerror",c)};onConnectionStateChange=()=>{this.emit("@connectionstatechange",this._pc.connectionState)};onIceConnectionStateChange=()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}};assertNotClosed(){if(this._closed)throw new A.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return ar.ReactNative106=H,ar}var vh;function Nv(){if(vh)return Wa;vh=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.Device=void 0,Wa.detectDevice=b,Wa.detectDeviceAsync=H;const v=lt(),T=bt(),S=jt(),s=Yn(),A=sa(),z=Tv(),R=Mv(),m=Ov(),O=Lv(),C=Av(),l=zv(),_=new v.Logger("Device");function b(w,d){return _.debug("detectDevice()"),!w&&typeof navigator=="object"&&(w=navigator.userAgent),!d&&typeof navigator=="object"&&(d=navigator.userAgentData),c(w,d)}async function H(w,d){return _.debug("detectDeviceAsync()"),!w&&typeof navigator=="object"&&(w=navigator.userAgent),!d&&typeof navigator=="object"&&(d=navigator.userAgentData),c(w,d)}let k=class Oh{_handlerFactory;_handlerName;_loaded=!1;_getSendExtendedRtpCapabilities;_recvRtpCapabilities;_canProduceByKind={audio:!1,video:!1};_sctpCapabilities;_observer=new T.EnhancedEventEmitter;static async factory({handlerName:d,handlerFactory:y}={}){if(_.debug("factory()"),d&&y)throw new TypeError("just one of handlerName or handlerInterface can be given");if(!d&&!y&&(d=await H(),!d))throw new S.UnsupportedError("device not supported");return new Oh({handlerName:d,handlerFactory:y})}constructor({handlerName:d,handlerFactory:y}={}){if(_.debug("constructor()"),d&&y)throw new TypeError("just one of handlerName or handlerInterface can be given");if(y)this._handlerFactory=y;else{if(d)_.debug("constructor() | handler given: %s",d);else if(d=b(),d)_.debug("constructor() | detected handler: %s",d);else throw new S.UnsupportedError("device not supported");switch(d){case"Chrome111":{this._handlerFactory=R.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=m.Chrome74.createFactory();break}case"Firefox120":{this._handlerFactory=O.Firefox120.createFactory();break}case"Safari12":{this._handlerFactory=C.Safari12.createFactory();break}case"ReactNative106":{this._handlerFactory=l.ReactNative106.createFactory();break}default:throw new TypeError(`unknown handlerName "${d}"`)}}this._handlerName=this._handlerFactory.name}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new S.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new S.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:d,preferLocalCodecsOrder:y=!1}){if(_.debug("load() [routerRtpCapabilities:%o]",d),this._loaded)throw new S.InvalidStateError("already loaded");const N=s.clone(d);A.validateAndNormalizeRtpCapabilities(N);const{getNativeRtpCapabilities:q,getNativeSctpCapabilities:W}=this._handlerFactory,ee=s.clone(await q());A.validateAndNormalizeRtpCapabilities(ee),_.debug("load() | got native RTP capabilities:%o",ee),this._getSendExtendedRtpCapabilities=X=>s.clone(A.getExtendedRtpCapabilities(X,N,y));const g=A.getExtendedRtpCapabilities(ee,N,!1);this._recvRtpCapabilities=A.getRecvRtpCapabilities(g),A.validateAndNormalizeRtpCapabilities(this._recvRtpCapabilities),_.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._canProduceByKind.audio=A.canSend("audio",this._recvRtpCapabilities),this._canProduceByKind.video=A.canSend("video",this._recvRtpCapabilities),this._sctpCapabilities=await W(),A.validateSctpCapabilities(this._sctpCapabilities),_.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),_.debug("load() succeeded"),this._loaded=!0}canProduce(d){if(this._loaded){if(d!=="audio"&&d!=="video")throw new TypeError(`invalid kind "${d}"`)}else throw new S.InvalidStateError("not loaded");return this._canProduceByKind[d]}createSendTransport({id:d,iceParameters:y,iceCandidates:N,dtlsParameters:q,sctpParameters:W,iceServers:ee,iceTransportPolicy:g,additionalSettings:X,appData:I}){return _.debug("createSendTransport()"),this.createTransport({direction:"send",id:d,iceParameters:y,iceCandidates:N,dtlsParameters:q,sctpParameters:W,iceServers:ee,iceTransportPolicy:g,additionalSettings:X,appData:I})}createRecvTransport({id:d,iceParameters:y,iceCandidates:N,dtlsParameters:q,sctpParameters:W,iceServers:ee,iceTransportPolicy:g,additionalSettings:X,appData:I}){return _.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:d,iceParameters:y,iceCandidates:N,dtlsParameters:q,sctpParameters:W,iceServers:ee,iceTransportPolicy:g,additionalSettings:X,appData:I})}createTransport({direction:d,id:y,iceParameters:N,iceCandidates:q,dtlsParameters:W,sctpParameters:ee,iceServers:g,iceTransportPolicy:X,additionalSettings:I,appData:x}){if(this._loaded){if(typeof y!="string")throw new TypeError("missing id");if(typeof N!="object")throw new TypeError("missing iceParameters");if(Array.isArray(q)){if(typeof W!="object")throw new TypeError("missing dtlsParameters");if(ee&&typeof ee!="object")throw new TypeError("wrong sctpParameters");if(x&&typeof x!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new S.InvalidStateError("not loaded");const G=new z.Transport({direction:d,id:y,iceParameters:N,iceCandidates:q,dtlsParameters:W,sctpParameters:ee,iceServers:g,iceTransportPolicy:X,additionalSettings:I,appData:x,handlerFactory:this._handlerFactory,getSendExtendedRtpCapabilities:this._getSendExtendedRtpCapabilities,recvRtpCapabilities:this._recvRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",G),G}};Wa.Device=k;function c(w,d){_.debug('detectDeviceImpl() [userAgent:"%s", userAgentData:%o]',w,d);const y=u(w,d);if(y){if(y>=111)return _.debug("detectDeviceImpl() | using Chrome111 handler"),"Chrome111";if(y>=74)return _.debug("detectDeviceImpl() | using Chrome74 handler"),"Chrome74";_.warn("detectDeviceImpl() | unsupported Chromium based browser/version");return}const N=f(w);if(N){if(N>=120)return _.debug("detectDeviceImpl() | using Firefox120 handler"),"Firefox120";_.warn("detectDeviceImpl() | unsupported Firefox browser/version");return}const q=h(w);if(q){if(q>=605)return _.debug("detectDeviceImpl() | using Safari12 handler"),"Safari12";_.warn("detectDeviceImpl() | unsupported desktop Safari browser/version");return}const W=M(w);if(W){if(W>=605)return _.debug("detectDeviceImpl() | using Safari12 handler"),"Safari12";_.warn("detectDeviceImpl() | unsupported iOS Safari based browser/version");return}if(D()){if(typeof RTCPeerConnection<"u"&&typeof RTCRtpTransceiver<"u")return _.debug("detectDeviceImpl() | using ReactNative106 handler"),"ReactNative106";_.warn("detectDeviceImpl() | unsupported react-native-webrtc version without RTCPeerConnection or RTCRtpTransceiver, forgot to call registerGlobals() on it?");return}_.warn('detectDeviceImpl() | device not supported [userAgent:"%s", userAgentData:%o]',w,d)}function u(w,d){if(_.debug("getChromiumMajorVersion()"),E(w,d)){_.debug("getChromiumMajorVersion() | this is iOS => undefined");return}if(D()){_.debug("getChromiumMajorVersion() | this is React-Native => undefined");return}if(d){const N=(d.brands??[]).find(q=>q.brand==="Chromium");if(N){const q=Number(N.version);return _.debug(`getChromiumMajorVersion() | Chromium major version based on NavigatorUAData => ${q}`),q}}const y=w?.match(/\b(?:Chrome|Chromium)\/(\w+)/i);if(y?.[1]){const N=Number(y[1]);return _.debug(`getChromiumMajorVersion() | Chromium major version based on User-Agent => ${N}`),N}_.debug("getChromiumMajorVersion() | this is not Chromium => undefined")}function f(w){if(_.debug("getFirefoxMajorVersion()"),E(w)){_.debug("getFirefoxMajorVersion() | this is iOS => undefined");return}if(D()){_.debug("getFirefoxMajorVersion() | this is React-Native => undefined");return}const d=w?.match(/\bFirefox\/(\w+)/i);if(d?.[1]){const y=Number(d[1]);return _.debug(`getFirefoxMajorVersion() | Firefox major version based on User-Agent => ${y}`),y}_.debug("getFirefoxMajorVersion() | this is not Firefox => undefined")}function h(w){if(_.debug("getMacOSWebKitMajorVersion()"),E(w)){_.debug("getMacOSWebKitMajorVersion() | this is iOS => undefined");return}if(D()){_.debug("getMacOSWebKitMajorVersion() | this is React-Native => undefined");return}if(!(w&&/\bSafari\b/i.test(w)&&!/\bChrome\b/i.test(w)&&!/\bChromium\b/i.test(w)&&!/\bFirefox\b/i.test(w))){_.debug("getMacOSWebKitMajorVersion() | this is not Safari => undefined");return}const y=w.match(/AppleWebKit\/(\w+)/i);if(y?.[1]){const N=Number(y[1]);return _.debug(`getMacOSWebKitMajorVersion() | WebKit major version based on User-Agent => ${N}`),N}_.debug("getMacOSWebKitMajorVersion() | this is not WebKit => undefined")}function M(w){if(_.debug("getIOSWebKitMajorVersion()"),!E(w)){_.debug("getIOSWebKitMajorVersion() | this is not iOS => undefined");return}if(D()){_.debug("getIOSWebKitMajorVersion() | this is React-Native => undefined");return}const d=w?.match(/AppleWebKit\/(\w+)/i);if(d?.[1]){const y=Number(d[1]);return _.debug(`getIOSWebKitMajorVersion() | WebKit major version based on User-Agent => ${y}`),y}_.debug("getIOSWebKitMajorVersion() | this is not WebKit => undefined")}function E(w,d){return _.debug("isIOS()"),d?.platform==="iOS"?(_.debug("isIOS() | this is iOS based on NavigatorUAData.platform => true"),!0):d?.platform?(_.debug("isIOS() | this is not iOS based on NavigatorUAData.platform => false"),!1):w&&/iPad|iPhone|iPod/.test(w)?(_.debug("isIOS() | this is iOS based on User-Agent => true"),!0):typeof navigator=="object"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1?(_.debug("isIOS() | this is iPadOS 13+ based on User-Agent => true"),!0):(_.debug("isIOS() | this is not iOS => false"),!1)}function D(){return _.debug("isReactNative()"),typeof navigator=="object"&&navigator.product==="ReactNative"?(_.debug("isReactNative() | this is React-Native based on navigator.product"),!0):(_.debug("isReactNative() | this is not React-Native => false"),!1)}return Wa}var nr={},ir={},bl={},yh;function kv(){if(yh)return bl;yh=1;for(var v=256,T=[],S;v--;)T[v]=(v+256).toString(16).substring(1);function s(){var A=0,z,R="";if(!S||v+16>256){for(S=Array(A=256);A--;)S[A]=256*Math.random()|0;A=v=0}for(;A<16;A++)z=S[v+A],A==6?R+=T[z&15|64]:A==8?R+=T[z&63|128]:R+=T[z],A&1&&A>1&&A<11&&(R+="-");return v++,R}return bl.v4=s,bl}var rr={},_h;function jv(){if(_h)return rr;_h=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.FakeEventTarget=void 0;class v{listeners={};addEventListener(S,s,A){s&&(this.listeners[S]=this.listeners[S]??[],this.listeners[S].push({callback:typeof s=="function"?s:s.handleEvent,once:typeof A=="object"&&A.once===!0}))}removeEventListener(S,s,A){this.listeners[S]&&s&&(this.listeners[S]=this.listeners[S].filter(z=>z.callback!==(typeof s=="function"?s:s.handleEvent)))}dispatchEvent(S){if(!S||typeof S.type!="string")throw new Error("invalid event object");const s=this.listeners[S.type];if(!s)return!0;for(const A of[...s]){try{A.callback.call(this,S)}catch(z){setTimeout(()=>{throw z},0)}A.once&&this.removeEventListener(S.type,A.callback)}return!S.defaultPrevented}}return rr.FakeEventTarget=v,rr}var sr={},bh;function Uv(){if(bh)return sr;bh=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.FakeEvent=void 0;let v=class{NONE=0;CAPTURING_PHASE=1;AT_TARGET=2;BUBBLING_PHASE=3;type;bubbles;cancelable;defaultPrevented=!1;composed=!1;currentTarget=null;eventPhase=this.NONE;isTrusted=!0;target=null;timeStamp=0;cancelBubble=!1;returnValue=!0;srcElement=null;constructor(S,s={}){this.type=S,this.bubbles=s.bubbles??!1,this.cancelable=s.cancelable??!1}preventDefault(){this.cancelable&&(this.defaultPrevented=!0)}stopPropagation(){}stopImmediatePropagation(){}composedPath(){return[]}initEvent(S,s,A){}};return sr.FakeEvent=v,sr}var zs={},Sh;function qv(){if(Sh)return zs;Sh=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.clone=v;function v(T){if(T!==void 0)return Number.isNaN(T)?NaN:typeof structuredClone=="function"?structuredClone(T):JSON.parse(JSON.stringify(T))}return zs}var wh;function Hv(){if(wh)return ir;wh=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.FakeMediaStreamTrack=void 0;const v=kv(),T=jv(),S=Uv(),s=qv();class A extends T.FakeEventTarget{#m;#d;#f;#e;#a;#t;#n;#p;#i;#h;#r;#s=null;#c=null;#o=null;#l=null;#u=null;constructor({kind:R,id:m,label:O,contentHint:C,enabled:l,muted:_,readyState:b,capabilities:H,constraints:k,settings:c,data:u}){super(),this.#m=m??(0,v.v4)(),this.#d=R,this.#f=O??"",this.#n=C??"",this.#a=l??!0,this.#t=_??!1,this.#e=b??"live",this.#p=H??{},this.#i=k??{},this.#h=c??{},this.#r=u??{}}get id(){return this.#m}get kind(){return this.#d}get label(){return this.#f}get contentHint(){return this.#n}set contentHint(R){this.#n=R}get enabled(){return this.#a}set enabled(R){const m=this.#a!==R;this.#a=R,m&&this.dispatchEvent(new S.FakeEvent("enabledchange"))}get muted(){return this.#t}get readyState(){return this.#e}get data(){return this.#r}set data(R){this.#r=R}get onmute(){return this.#s}set onmute(R){this.#s&&this.removeEventListener("mute",this.#s),this.#s=R,R&&this.addEventListener("mute",R)}get onunmute(){return this.#c}set onunmute(R){this.#c&&this.removeEventListener("unmute",this.#c),this.#c=R,R&&this.addEventListener("unmute",R)}get onended(){return this.#o}set onended(R){this.#o&&this.removeEventListener("ended",this.#o),this.#o=R,R&&this.addEventListener("ended",R)}get onenabledchange(){return this.#l}set onenabledchange(R){this.#l&&this.removeEventListener("enabledchange",this.#l),this.#l=R,R&&this.addEventListener("enabledchange",R)}get onstopped(){return this.#u}set onstopped(R){this.#u&&this.removeEventListener("stopped",this.#u),this.#u=R,R&&this.addEventListener("stopped",R)}addEventListener(R,m,O){super.addEventListener(R,m,O)}removeEventListener(R,m,O){super.removeEventListener(R,m,O)}stop(){this.#e!=="ended"&&(this.#e="ended",this.dispatchEvent(new S.FakeEvent("stopped")))}clone({id:R,data:m}={}){return new A({id:R??(0,v.v4)(),kind:this.#d,label:this.#f,contentHint:this.#n,enabled:this.#a,muted:this.#t,readyState:this.#e,capabilities:(0,s.clone)(this.#p),constraints:(0,s.clone)(this.#i),settings:(0,s.clone)(this.#h),data:m??(0,s.clone)(this.#r)})}getCapabilities(){return this.#p}getConstraints(){return this.#i}async applyConstraints(R={}){return this.#i=R,Promise.resolve()}getSettings(){return this.#h}remoteStop(){this.#e!=="ended"&&(this.#e="ended",this.dispatchEvent(new S.FakeEvent("stopped")),this.dispatchEvent(new S.FakeEvent("ended")))}remoteMute(){this.#t||(this.#t=!0,this.dispatchEvent(new S.FakeEvent("mute")))}remoteUnmute(){this.#t&&(this.#t=!1,this.dispatchEvent(new S.FakeEvent("unmute")))}}return ir.FakeMediaStreamTrack=A,ir}var cr={},Ch;function Bv(){if(Ch)return cr;Ch=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.FakeEventTarget=void 0;let v=class{listeners={};addEventListener(S,s,A){s&&(this.listeners[S]=this.listeners[S]??[],this.listeners[S].push({callback:typeof s=="function"?s:s.handleEvent,once:typeof A=="object"&&A.once===!0}))}removeEventListener(S,s,A){this.listeners[S]&&s&&(this.listeners[S]=this.listeners[S].filter(z=>z.callback!==(typeof s=="function"?s:s.handleEvent)))}dispatchEvent(S){if(!S||typeof S.type!="string")throw new Error("invalid event object");const s=this.listeners[S.type];if(!s)return!0;for(const A of[...s]){try{A.callback.call(this,S)}catch(z){setTimeout(()=>{throw z},0)}A.once&&this.removeEventListener(S.type,A.callback)}return!S.defaultPrevented}};return cr.FakeEventTarget=v,cr}var Eh;function Gv(){if(Eh)return nr;Eh=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.FakeHandler=void 0;const v=Hv(),T=bt(),S=lt(),s=Yn(),A=sa(),z=jt(),R=Bv(),m=new S.Logger("FakeHandler"),O="FakeHandler";let C=class Hs extends T.EnhancedEventEmitter{_closed=!1;_fakeParameters;_getSendExtendedRtpCapabilities;_cname=`CNAME-${s.generateRandomNumber()}`;_defaultSendStreamId=`${s.generateRandomNumber()}`;_transportReady=!1;_nextLocalId=1;_tracks=new Map;_nextSctpStreamId=0;static createFactory(b){return{name:O,factory:H=>new Hs(H,b),getNativeRtpCapabilities:async()=>(m.debug("getNativeRtpCapabilities()"),Hs.getLocalRtpCapabilities(b)),getNativeSctpCapabilities:async()=>(m.debug("getNativeSctpCapabilities()"),b.generateNativeSctpCapabilities())}}static getLocalRtpCapabilities(b){const H=b.generateNativeRtpCapabilities();return A.validateAndNormalizeRtpCapabilities(H),H}constructor({getSendExtendedRtpCapabilities:b},H){super(),m.debug("constructor()"),this._getSendExtendedRtpCapabilities=b,this._fakeParameters=H}get name(){return O}close(){m.debug("close()"),!this._closed&&(this._closed=!0,super.close())}setIceGatheringState(b){this.emit("@icegatheringstatechange",b)}setConnectionState(b){this.emit("@connectionstatechange",b)}async updateIceServers(b){this.assertNotClosed(),m.debug("updateIceServers()")}async restartIce(b){this.assertNotClosed(),m.debug("restartIce()")}async getTransportStats(){return this.assertNotClosed(),new Map}async send({track:b,streamId:H,encodings:k,codecOptions:c,codec:u}){this.assertNotClosed(),m.debug("send() [kind:%s, track.id:%s]",b.kind,b.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"});const f=Hs.getLocalRtpCapabilities(this._fakeParameters),h=this._getSendExtendedRtpCapabilities(f),M=A.getSendingRtpParameters(b.kind,h);M.codecs=A.reduceCodecs(M.codecs,u);const E=M.codecs.some(w=>/.+\/rtx$/i.test(w.mimeType));M.mid=`mid-${s.generateRandomNumber()}`,M.msid=`${H??"-"} ${b.id}`,k||(k=[{}]);for(const w of k)w.ssrc=s.generateRandomNumber(),E&&(w.rtx={ssrc:s.generateRandomNumber()});M.encodings=k,M.rtcp={cname:this._cname,reducedSize:!0,mux:!0},M.msid=`${H??this._defaultSendStreamId} ${b.id}`;const D=this._nextLocalId++;return this._tracks.set(D,b),{localId:String(D),rtpParameters:M}}async stopSending(b){if(m.debug("stopSending() [localId:%s]",b),!this._closed){if(!this._tracks.has(Number(b)))throw new Error("local track not found");this._tracks.delete(Number(b))}}async pauseSending(b){this.assertNotClosed()}async resumeSending(b){this.assertNotClosed()}async replaceTrack(b,H){this.assertNotClosed(),H?m.debug("replaceTrack() [localId:%s, track.id:%s]",b,H.id):m.debug("replaceTrack() [localId:%s, no track]",b),this._tracks.delete(Number(b)),this._tracks.set(Number(b),H)}async setMaxSpatialLayer(b,H){this.assertNotClosed(),m.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",b,H)}async setRtpEncodingParameters(b,H){this.assertNotClosed(),m.debug("setRtpEncodingParameters() [localId:%s, params:%o]",b,H)}async getSenderStats(b){return this.assertNotClosed(),new Map}async sendDataChannel({ordered:b,maxPacketLifeTime:H,maxRetransmits:k,label:c,protocol:u}){this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),m.debug("sendDataChannel()");const f=new l({id:this._nextSctpStreamId++,ordered:b,maxPacketLifeTime:H,maxRetransmits:k,label:c,protocol:u}),h={streamId:this._nextSctpStreamId,ordered:b,maxPacketLifeTime:H,maxRetransmits:k};return{dataChannel:f,sctpStreamParameters:h}}async receive(b){this.assertNotClosed();const H=[];for(const k of b){const{trackId:c,kind:u}=k;this._transportReady||await this.setupTransport({localDtlsRole:"client"}),m.debug("receive() [trackId:%s, kind:%s]",c,u);const f=this._nextLocalId++,h=new v.FakeMediaStreamTrack({kind:u});this._tracks.set(f,h),H.push({localId:String(f),track:h})}return H}async stopReceiving(b){if(!this._closed)for(const H of b)m.debug("stopReceiving() [localId:%s]",H),this._tracks.delete(Number(H))}async pauseReceiving(b){this.assertNotClosed()}async resumeReceiving(b){this.assertNotClosed()}async getReceiverStats(b){return this.assertNotClosed(),new Map}async receiveDataChannel({sctpStreamParameters:b,label:H,protocol:k}){return this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"client"}),m.debug("receiveDataChannel()"),{dataChannel:new l({id:b.streamId,ordered:b.ordered,maxPacketLifeTime:b.maxPacketLifeTime,maxRetransmits:b.maxRetransmits,label:H,protocol:k})}}async setupTransport({localDtlsRole:b,localSdpObject:H}){const k=s.clone(this._fakeParameters.generateLocalDtlsParameters());b&&(k.role=b),this.emit("@connectionstatechange","connecting"),await new Promise((c,u)=>this.emit("@connect",{dtlsParameters:k},c,u)),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new z.InvalidStateError("method called in a closed handler")}};nr.FakeHandler=C;class l extends R.FakeEventTarget{_id;_negotiated=!0;_ordered;_maxPacketLifeTime;_maxRetransmits;_label;_protocol;_readyState="connecting";_bufferedAmount=0;_bufferedAmountLowThreshold=0;_binaryType="arraybuffer";_onopen=null;_onclosing=null;_onclose=null;_onmessage=null;_onbufferedamountlow=null;_onerror=null;constructor({id:b,ordered:H=!0,maxPacketLifeTime:k=null,maxRetransmits:c=null,label:u="",protocol:f=""}){super(),m.debug(`constructor() [id:${b}, ordered:${H}, maxPacketLifeTime:${k}, maxRetransmits:${c}, label:${u}, protocol:${f}`),this._id=b,this._ordered=H,this._maxPacketLifeTime=k,this._maxRetransmits=c,this._label=u,this._protocol=f}get id(){return this._id}get negotiated(){return this._negotiated}get ordered(){return this._ordered}get maxPacketLifeTime(){return this._maxPacketLifeTime}get maxRetransmits(){return this._maxRetransmits}get label(){return this._label}get protocol(){return this._protocol}get readyState(){return this._readyState}get bufferedAmount(){return this._bufferedAmount}get bufferedAmountLowThreshold(){return this._bufferedAmountLowThreshold}set bufferedAmountLowThreshold(b){this._bufferedAmountLowThreshold=b}get binaryType(){return this._binaryType}set binaryType(b){this._binaryType=b}get onopen(){return this._onopen}set onopen(b){this._onopen&&this.removeEventListener("open",this._onopen),this._onopen=b,b&&this.addEventListener("open",b)}get onclosing(){return this._onclosing}set onclosing(b){this._onclosing&&this.removeEventListener("closing",this._onclosing),this._onclosing=b,b&&this.addEventListener("closing",b)}get onclose(){return this._onclose}set onclose(b){this._onclose&&this.removeEventListener("close",this._onclose),this._onclose=b,b&&this.addEventListener("close",b)}get onmessage(){return this._onmessage}set onmessage(b){this._onmessage&&this.removeEventListener("message",this._onmessage),this._onmessage=b,b&&this.addEventListener("message",b)}get onbufferedamountlow(){return this._onbufferedamountlow}set onbufferedamountlow(b){this._onbufferedamountlow&&this.removeEventListener("bufferedamountlow",this._onbufferedamountlow),this._onbufferedamountlow=b,b&&this.addEventListener("bufferedamountlow",b)}get onerror(){return this._onerror}set onerror(b){this._onerror&&this.removeEventListener("error",this._onerror),this._onerror=b,b&&this.addEventListener("error",b)}addEventListener(b,H,k){super.addEventListener(b,H,k)}removeEventListener(b,H,k){super.removeEventListener(b,H,k)}close(){["closing","closed"].includes(this._readyState)||(this._readyState="closed")}send(b){if(this._readyState!=="open")throw new z.InvalidStateError("not open")}}return nr}var Lt={},Th;function Qv(){if(Th)return Lt;Th=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.generateRouterRtpCapabilities=S,Lt.generateNativeRtpCapabilities=s,Lt.generateNativeSctpCapabilities=A,Lt.generateLocalDtlsParameters=z,Lt.generateTransportRemoteParameters=R,Lt.generateProducerRemoteParameters=m,Lt.generateConsumerRemoteParameters=O,Lt.generateDataProducerRemoteParameters=C,Lt.generateDataConsumerRemoteParameters=l;const v=Yn();function T(){return String(v.generateRandomNumber())}function S(){return v.deepFreeze({codecs:[{mimeType:"audio/opus",kind:"audio",preferredPayloadType:100,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{useinbandfec:1,foo:"bar"}},{mimeType:"video/VP8",kind:"video",preferredPayloadType:101,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"x-google-start-bitrate":1500}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:102,clockRate:9e4,rtcpFeedback:[],parameters:{apt:101}},{mimeType:"video/H264",kind:"video",preferredPayloadType:103,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"level-asymmetry-allowed":1,"packetization-mode":1,"profile-level-id":"42e01f"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:104,clockRate:9e4,rtcpFeedback:[],parameters:{apt:103}},{mimeType:"video/VP9",kind:"video",preferredPayloadType:105,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"profile-id":0,"x-google-start-bitrate":1500}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:106,clockRate:9e4,rtcpFeedback:[],parameters:{apt:105}}],headerExtensions:[{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id",preferredId:2,preferredEncrypt:!1,direction:"recvonly"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id",preferredId:3,preferredEncrypt:!1,direction:"recvonly"},{kind:"audio",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:4,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:4,preferredEncrypt:!1,direction:"sendrecv"},{kind:"audio",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5,preferredEncrypt:!1,direction:"recvonly"},{kind:"video",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5,preferredEncrypt:!1,direction:"sendrecv"},{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",preferredId:10,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:3gpp:video-orientation",preferredId:11,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:toffset",preferredId:12,preferredEncrypt:!1,direction:"sendrecv"}]})}function s(){return{codecs:[{mimeType:"audio/opus",kind:"audio",preferredPayloadType:111,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{minptime:10,useinbandfec:1}},{mimeType:"audio/ISAC",kind:"audio",preferredPayloadType:103,clockRate:16e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}},{mimeType:"audio/CN",kind:"audio",preferredPayloadType:106,clockRate:32e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}},{mimeType:"audio/foo",kind:"audio",preferredPayloadType:107,clockRate:9e4,channels:4,rtcpFeedback:[{type:"foo-qwe-qwe"}],parameters:{foo:"lalala"}},{mimeType:"video/BAZCODEC",kind:"video",preferredPayloadType:100,clockRate:9e4,rtcpFeedback:[{type:"foo"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{baz:"1234abcd"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:101,clockRate:9e4,rtcpFeedback:[],parameters:{apt:100}},{mimeType:"video/VP8",kind:"video",preferredPayloadType:96,clockRate:9e4,rtcpFeedback:[{type:"goog-remb"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{baz:"1234abcd"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:97,clockRate:9e4,rtcpFeedback:[],parameters:{apt:96}},{mimeType:"video/VP9",kind:"video",preferredPayloadType:98,clockRate:9e4,rtcpFeedback:[{type:"goog-remb"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{"profile-id":0}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:99,clockRate:9e4,rtcpFeedback:[],parameters:{apt:98}}],headerExtensions:[{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:toffset",preferredId:2},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:3},{kind:"video",uri:"urn:3gpp:video-orientation",preferredId:4},{kind:"video",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay",preferredId:6},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/video-content-type",preferredId:7},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/video-timing",preferredId:8},{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",preferredId:10}]}}function A(){return v.deepFreeze({numStreams:{OS:2048,MIS:2048}})}function z(){return v.deepFreeze({fingerprints:[{algorithm:"sha-256",value:"82:5A:68:3D:36:C3:0A:DE:AF:E7:32:43:D2:88:83:57:AC:2D:65:E5:80:C4:B6:FB:AF:1A:A0:21:9F:6D:0C:AD"}],role:"auto"})}function R(){return{id:T(),iceParameters:v.deepFreeze({iceLite:!0,password:"yku5ej8nvfaor28lvtrabcx0wkrpkztz",usernameFragment:"h3hk1iz6qqlnqlne"}),iceCandidates:v.deepFreeze([{foundation:"udpcandidate",address:"9.9.9.9",ip:"9.9.9.9",port:40533,priority:1078862079,protocol:"udp",type:"host",tcpType:"passive"},{foundation:"udpcandidate",address:"9.9.9.9",ip:"9:9:9:9:9:9",port:41333,priority:1078862089,protocol:"udp",type:"host",tcpType:"passive"}]),dtlsParameters:v.deepFreeze({fingerprints:[{algorithm:"sha-256",value:"A9:F4:E0:D2:74:D3:0F:D9:CA:A5:2F:9F:7F:47:FA:F0:C4:72:DD:73:49:D0:3B:14:90:20:51:30:1B:90:8E:71"},{algorithm:"sha-384",value:"03:D9:0B:87:13:98:F6:6D:BC:FC:92:2E:39:D4:E1:97:32:61:30:56:84:70:81:6E:D1:82:97:EA:D9:C1:21:0F:6B:C5:E7:7F:E1:97:0C:17:97:6E:CF:B3:EF:2E:74:B0"},{algorithm:"sha-512",value:"84:27:A4:28:A4:73:AF:43:02:2A:44:68:FF:2F:29:5C:3B:11:9A:60:F4:A8:F0:F5:AC:A0:E3:49:3E:B1:34:53:A9:85:CE:51:9B:ED:87:5E:B8:F4:8E:3D:FA:20:51:B8:96:EE:DA:56:DC:2F:5C:62:79:15:23:E0:21:82:2B:2C"}],role:"auto"}),sctpParameters:v.deepFreeze({port:5e3,OS:2048,MIS:2048,maxMessageSize:2e6})}}function m(){return v.deepFreeze({id:T()})}function O({id:_,codecMimeType:b}={}){switch(b){case"audio/opus":return{id:_??T(),producerId:T(),kind:"audio",rtpParameters:v.deepFreeze({codecs:[{mimeType:"audio/opus",payloadType:100,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{useinbandfec:1,foo:"bar"}}],encodings:[{ssrc:46687003}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",id:10}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"audio/ISAC":return{id:_??T(),producerId:T(),kind:"audio",rtpParameters:v.deepFreeze({codecs:[{mimeType:"audio/ISAC",payloadType:111,clockRate:16e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}}],encodings:[{ssrc:46687004}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"video/VP8":return{id:_??T(),producerId:T(),kind:"video",rtpParameters:v.deepFreeze({codecs:[{mimeType:"video/VP8",payloadType:101,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"x-google-start-bitrate":1500}},{mimeType:"video/rtx",payloadType:102,clockRate:9e4,rtcpFeedback:[],parameters:{apt:101}}],encodings:[{ssrc:99991111,rtx:{ssrc:99991112}}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",id:4},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:3gpp:video-orientation",id:11},{uri:"urn:ietf:params:rtp-hdrext:toffset",id:12}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"video/H264":return{id:_??T(),producerId:T(),kind:"video",rtpParameters:v.deepFreeze({codecs:[{mimeType:"video/H264",payloadType:103,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"level-asymmetry-allowed":1,"packetization-mode":1,"profile-level-id":"42e01f"}},{mimeType:"video/rtx",payloadType:104,clockRate:9e4,rtcpFeedback:[],parameters:{apt:103}}],encodings:[{ssrc:99991113,rtx:{ssrc:99991114}}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",id:4},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:3gpp:video-orientation",id:11},{uri:"urn:ietf:params:rtp-hdrext:toffset",id:12}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};default:throw new TypeError(`unknown codecMimeType '${b}'`)}}function C(){return v.deepFreeze({id:T()})}function l({id:_}={}){return{id:_??T(),dataProducerId:T(),sctpStreamParameters:v.deepFreeze({streamId:666,maxPacketLifeTime:5e3,maxRetransmits:void 0})}}return Lt}var Rh;function Yv(){return Rh||(Rh=1,(function(v){Object.defineProperty(v,"__esModule",{value:!0}),v.debug=v.testFakeParameters=v.FakeHandler=v.enhancedEvents=v.ortc=v.parseScalabilityMode=v.detectDeviceAsync=v.detectDevice=v.Device=v.version=v.types=void 0;const T=Bs();v.debug=T.default,v.types=hv(),v.version="3.18.3";var S=Nv();Object.defineProperty(v,"Device",{enumerable:!0,get:function(){return S.Device}}),Object.defineProperty(v,"detectDevice",{enumerable:!0,get:function(){return S.detectDevice}}),Object.defineProperty(v,"detectDeviceAsync",{enumerable:!0,get:function(){return S.detectDeviceAsync}});var s=Pn();Object.defineProperty(v,"parseScalabilityMode",{enumerable:!0,get:function(){return s.parse}}),v.ortc=sa(),v.enhancedEvents=bt();var A=Gv();Object.defineProperty(v,"FakeHandler",{enumerable:!0,get:function(){return A.FakeHandler}}),v.testFakeParameters=Qv()})(fl)),fl}var Dh=Yv();class Pv{ws=null;device=null;sendTransport=null;recvTransport=null;producers=new Map;consumers=new Map;events={};pendingRequests=new Map;roomId="";peerId="";isTeacher=!1;rtpCapabilities=null;constructor(T){this.events=T}async connect(T,S,s,A,z){if(this.roomId=S,this.peerId=s,this.isTeacher=z,!Dh.detectDevice())throw new Error("Browser khng h tr WebRTC. Vui lng s dng Chrome, Firefox hoc Edge.");return this.events.onConnectionStateChange?.("connecting"),new Promise((m,O)=>{this.ws=new WebSocket(T),this.ws.onopen=async()=>{try{const C=await this.sendRequest("join",{roomId:S,peerId:s,name:A,isTeacher:z});if(this.rtpCapabilities=C.rtpCapabilities,!this.rtpCapabilities)throw new Error("Server khng tr v rtpCapabilities");this.device=new Dh.Device,await this.device.load({routerRtpCapabilities:this.rtpCapabilities}),this.events.onConnectionStateChange?.("connected"),m()}catch(C){this.events.onError?.(C instanceof Error?C.message:"Kt ni tht bi"),O(C)}},this.ws.onmessage=C=>{const l=JSON.parse(C.data);this.handleMessage(l)},this.ws.onerror=()=>{this.events.onConnectionStateChange?.("error"),this.events.onError?.("Li kt ni WebSocket"),O(new Error("WebSocket error"))},this.ws.onclose=()=>{this.events.onConnectionStateChange?.("disconnected"),this.cleanup()}})}handleMessage(T){const{type:S,data:s}=T;if(this.pendingRequests.has(S)){const{resolve:A}=this.pendingRequests.get(S);this.pendingRequests.delete(S),A(s);return}switch(S){case"newProducer":this.events.onNewProducer?.(s.producerId,s.kind);break;case"peerJoined":this.events.onPeerJoined?.(s.peerId,s.name,s.isTeacher);break;case"peerLeft":this.events.onPeerLeft?.(s.peerId,s.wasTeacher),s.wasTeacher&&this.closeAllConsumers();break;case"error":this.events.onError?.(s.message);break}}sendRequest(T,S){return new Promise((s,A)=>{if(!this.ws||this.ws.readyState!==WebSocket.OPEN){A(new Error("WebSocket cha kt ni"));return}const z=this.getResponseType(T);this.pendingRequests.set(z,{resolve:s,reject:A}),this.ws.send(JSON.stringify({type:T,data:S})),setTimeout(()=>{this.pendingRequests.has(z)&&(this.pendingRequests.delete(z),A(new Error(`Request ${T} timeout`)))},15e3)})}getResponseType(T){return{join:"joined",createTransport:"transportCreated",connectTransport:"transportConnected",produce:"produced",consume:"consumed",resumeConsumer:"consumerResumed",getProducers:"producers"}[T]||T}async createSendTransport(){if(!this.device)throw new Error("Device cha c khi to");const T=await this.sendRequest("createTransport",{direction:"send"});this.sendTransport=this.device.createSendTransport({id:T.id,iceParameters:T.iceParameters,iceCandidates:T.iceCandidates,dtlsParameters:T.dtlsParameters}),this.sendTransport.on("connect",async({dtlsParameters:S},s,A)=>{try{await this.sendRequest("connectTransport",{direction:"send",dtlsParameters:S}),s()}catch(z){A(z)}}),this.sendTransport.on("produce",async({kind:S,rtpParameters:s},A,z)=>{try{const{producerId:R}=await this.sendRequest("produce",{kind:S,rtpParameters:s});A({id:R})}catch(R){z(R)}})}async createRecvTransport(){if(!this.device)throw new Error("Device cha c khi to");const T=await this.sendRequest("createTransport",{direction:"recv"});this.recvTransport=this.device.createRecvTransport({id:T.id,iceParameters:T.iceParameters,iceCandidates:T.iceCandidates,dtlsParameters:T.dtlsParameters}),this.recvTransport.on("connect",async({dtlsParameters:S},s,A)=>{try{await this.sendRequest("connectTransport",{direction:"recv",dtlsParameters:S}),s()}catch(z){A(z)}})}async produceScreen(T){this.sendTransport||await this.createSendTransport();const S=T.getVideoTracks()[0];if(S){const A=await this.sendTransport.produce({track:S,encodings:[{maxBitrate:8e5,scaleResolutionDownBy:4},{maxBitrate:15e5,scaleResolutionDownBy:2},{maxBitrate:4e6}],codecOptions:{videoGoogleStartBitrate:1e3}});this.producers.set(A.id,A)}const s=T.getAudioTracks()[0];if(s){const A=await this.sendTransport.produce({track:s});this.producers.set(A.id,A)}}async produceMicrophone(T){this.sendTransport||await this.createSendTransport();const S=T.getAudioTracks()[0];if(S){const s=await this.sendTransport.produce({track:S});this.producers.set(s.id,s)}}async consumeAll(){this.recvTransport||await this.createRecvTransport();const T=await this.sendRequest("getProducers",{}),S=new MediaStream;if(Array.isArray(T))for(const{producerId:s}of T){const A=await this.consume(s);A&&S.addTrack(A.track)}return this.events.onStreamReady?.(S),S}async consume(T){if(!this.recvTransport||!this.device)return null;try{const S=await this.sendRequest("consume",{producerId:T,rtpCapabilities:this.device.rtpCapabilities}),s=await this.recvTransport.consume({id:S.consumerId,producerId:S.producerId,kind:S.kind,rtpParameters:S.rtpParameters});return this.consumers.set(s.id,s),await this.sendRequest("resumeConsumer",{consumerId:s.id}),s}catch(S){return console.error("Failed to consume:",S),null}}stopProducing(){for(const T of this.producers.values())T.close();this.producers.clear()}closeAllConsumers(){for(const T of this.consumers.values())T.close();this.consumers.clear()}cleanup(){this.stopProducing(),this.closeAllConsumers(),this.sendTransport?.close(),this.recvTransport?.close(),this.sendTransport=null,this.recvTransport=null,this.device=null}disconnect(){this.cleanup(),this.ws?.close(),this.ws=null}}function Vv(){const[v,T]=Qe.useState("disconnected"),[S,s]=Qe.useState(null),[A,z]=Qe.useState([]),[R,m]=Qe.useState(null),[O,C]=Qe.useState(!1),[l,_]=Qe.useState(null),b=Qe.useRef(null);Qe.useEffect(()=>()=>{b.current?.disconnect()},[]);const H=Qe.useCallback(async(h,M,E,D)=>{const w=crypto.randomUUID(),d=new Pv({onConnectionStateChange:T,onError:s,onPeerJoined:(y,N,q)=>{z(W=>[...W,{id:y,name:N,isTeacher:q}])},onPeerLeft:(y,N)=>{z(q=>q.filter(W=>W.id!==y)),N&&m(null)},onNewProducer:async(y,N)=>{if(!d.isTeacher){const q=await d.consume(y);q&&m(W=>{const ee=W||new MediaStream;return ee.addTrack(q.track),ee})}},onStreamReady:m});b.current=d;try{if(await d.connect(h,M,w,E,D),!D)try{await d.consumeAll()}catch{console.log("No producers yet, waiting for teacher to share...")}}catch(y){console.error("Connection error:",y),s(y instanceof Error?y.message:"Connection failed")}},[]),k=Qe.useCallback(async(h=!0)=>{if(b.current)try{const M=await navigator.mediaDevices.getDisplayMedia({video:{width:{ideal:1920,max:1920},height:{ideal:1080,max:1080},frameRate:{ideal:30,max:60}},audio:h});_(M),await b.current.produceScreen(M),C(!0),M.getVideoTracks()[0].onended=()=>{u()}}catch(M){s(M instanceof Error?M.message:"Failed to share screen")}},[]),c=Qe.useCallback(async()=>{if(b.current)try{const h=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});await b.current.produceMicrophone(h)}catch(h){s(h instanceof Error?h.message:"Failed to access microphone")}},[]),u=Qe.useCallback(()=>{l&&(l.getTracks().forEach(h=>h.stop()),_(null)),b.current?.stopProducing(),C(!1)},[l]),f=Qe.useCallback(()=>{u(),b.current?.disconnect(),b.current=null,T("disconnected"),z([]),m(null)},[u]);return{connectionState:v,error:S,peers:A,remoteStream:R,localStream:l,isSharing:O,connect:H,disconnect:f,startScreenShare:k,startMicrophone:c,stopScreenShare:u}}function Xv({stream:v,muted:T=!1,className:S="",label:s}){const A=Qe.useRef(null);return Qe.useEffect(()=>{A.current&&v&&(A.current.srcObject=v)},[v]),ge.jsxs("div",{className:`video-container ${S}`,children:[s&&ge.jsx("div",{className:"video-label",children:s}),ge.jsx("video",{ref:A,autoPlay:!0,playsInline:!0,muted:T,style:{width:"100%",height:"100%",objectFit:"contain",backgroundColor:"#1a1a1a",borderRadius:"8px"}}),!v&&ge.jsx("div",{className:"video-placeholder",children:ge.jsx("span",{children:"ang ch stream..."})})]})}function Zv({serverUrl:v,roomId:T,name:S,onDisconnect:s}){const{connectionState:A,error:z,remoteStream:R,connect:m,disconnect:O}=Vv(),C=async()=>{await m(v,T,S,!1)},l=()=>{O(),s()};return ge.jsxs("div",{className:"student-view",children:[ge.jsxs("div",{className:"header",children:[ge.jsxs("h2",{children:[" Hc sinh: ",S]}),ge.jsx("div",{className:"status",children:ge.jsx("span",{className:`connection-status ${A}`,children:A==="connected"?"  kt ni":A==="connecting"?" ang kt ni...":" Cha kt ni"})})]}),z&&ge.jsxs("div",{className:"error-message",children:[" ",z]}),ge.jsx("div",{className:"video-section",children:ge.jsx(Xv,{stream:R,muted:!1,label:"Mn hnh gio vin",className:"main-video"})}),ge.jsxs("div",{className:"controls",children:[A==="disconnected"&&ge.jsx("button",{onClick:C,className:"btn primary",children:" Kt ni vo lp"}),A!=="disconnected"&&ge.jsx("button",{onClick:l,className:"btn danger",children:" Ri lp"})]}),ge.jsx("div",{className:"room-info",children:ge.jsxs("p",{children:[ge.jsx("strong",{children:"Room ID:"})," ",T]})}),A==="connected"&&!R&&ge.jsx("div",{className:"waiting-message",children:" ang ch gio vin chia s mn hnh..."})]})}function Iv(){const[v,T]=Qe.useState(!1),[S,s]=Qe.useState(""),[A,z]=Qe.useState("classroom-1"),[R,m]=Qe.useState(""),O=()=>{if(!S.trim()){alert("Vui lng nhp tn ca bn!");return}if(!R.trim()){alert("Vui lng nhp Server URL t gio vin!");return}T(!0)};return v?ge.jsx(Zv,{serverUrl:R,roomId:A,name:S,onDisconnect:()=>T(!1)}):ge.jsxs("main",{className:"container",children:[ge.jsx("h1",{children:" Screen Sharing"}),ge.jsx("p",{className:"subtitle",children:"Hc sinh - Xem mn hnh gio vin"}),ge.jsxs("div",{className:"form-section",children:[ge.jsxs("div",{className:"form-group",children:[ge.jsx("label",{children:"Tn ca bn:"}),ge.jsx("input",{type:"text",value:S,onChange:C=>s(C.target.value),placeholder:"Nhp tn..."})]}),ge.jsxs("div",{className:"form-group",children:[ge.jsx("label",{children:"Room ID:"}),ge.jsx("input",{type:"text",value:A,onChange:C=>z(C.target.value),placeholder:"classroom-1"})]}),ge.jsxs("div",{className:"form-group",children:[ge.jsx("label",{children:"Server URL (t gio vin):"}),ge.jsx("input",{type:"text",value:R,onChange:C=>m(C.target.value),placeholder:"ws://192.168.1.x:3016"})]})]}),ge.jsx("button",{onClick:O,className:"btn primary full-width",children:" Vo lp hc"})]})}dv.createRoot(document.getElementById("root")).render(ge.jsx(nv.StrictMode,{children:ge.jsx(Iv,{})}));
